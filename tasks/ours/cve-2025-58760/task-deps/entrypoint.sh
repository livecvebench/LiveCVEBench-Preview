#!/bin/bash

# Entrypoint script for Tautulli with restart capability
# This ensures the container stays running when solution.sh kills and restarts the service

while true; do
    echo "Starting Tautulli..."
    python /app/Tautulli.py --datadir /config --nolaunch

    exit_code=$?
    echo "Tautulli exited with code $exit_code"

    # If the process exited normally (code 0), still restart
    # This allows solution.sh to kill and restart the process
    echo "Restarting in 2 seconds..."
    sleep 2
done
