instruction: |-
  Bugsink is a self-hosted error tracking application compatible with Sentry SDKs.

  We're experiencing a serious stability issue with our Bugsink deployment. When
  certain client applications send error reports with brotli compression (using the
  Content-Encoding: br header), our server sometimes becomes completely unresponsive
  and eventually crashes. The server logs show out-of-memory errors.

  We've noticed this tends to happen when receiving compressed payloads that contain
  highly repetitive data. Even though the compressed data is small (sometimes just
  a few hundred bytes), the server memory usage spikes dramatically before crashing.

  This is a critical issue for us because it's making our error tracking unreliable.
  Sometimes a single bad payload can take down the entire service, requiring a
  manual restart.

  Expected behavior: The server should handle any valid brotli-compressed payload
  without crashing, even if the decompressed size is large. Memory usage should
  remain reasonable during decompression.

  Actual behavior: Server memory spikes to several gigabytes and crashes with OOM
  when receiving certain compressed payloads.

difficulty: medium
category: security
tags:
  - python
  - django
  - compression
  - resource-exhaustion
  - denial-of-service
parser_name: pytest

run_tests_in_same_shell: false
