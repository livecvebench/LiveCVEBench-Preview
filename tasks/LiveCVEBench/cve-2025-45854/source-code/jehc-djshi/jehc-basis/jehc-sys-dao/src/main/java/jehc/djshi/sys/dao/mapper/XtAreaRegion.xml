<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="jehc.djshi.sys.dao.XtAreaRegionDao">
	<!--初始化分页-->
	<select id="getXtAreaRegionListByCondition" resultType="jehc.djshi.sys.model.XtAreaRegion" parameterType="map">
		SELECT
			id,
			parent_id AS parentId,
			code,
			name,
			region_level AS regionLevel,
			name_en AS nameEn,
			longitude AS longitude,
			latitude AS latitude,
			create_id AS createId,
			create_time AS createTime,
			update_id AS updateId,
			update_time AS updateTime
		FROM 
			xt_area_region
		WHERE 1=1
		<if test="null != parentId">
			AND parent_id = #{parentId}
		</if>
	</select>

	<!--查询对象-->
	<select id="getXtAreaRegionById" resultType="jehc.djshi.sys.model.XtAreaRegion" parameterType="string">
		SELECT
			id,
			parent_id AS parentId,
			code,
			name,
			region_level AS regionLevel,
			name_en AS nameEn,
			longitude AS longitude,
			latitude AS latitude,
			create_id AS createId,
			create_time AS createTime,
			update_id AS updateId,
			update_time AS updateTime
		FROM 
			xt_area_region
		WHERE ID=#{ID}
	</select>

	<!--添加-->
	<insert id="addXtAreaRegion" parameterType="jehc.djshi.sys.model.XtAreaRegion">
		INSERT INTO
			xt_area_region
			(
			id,
			parent_id,
			code,
			name,
			region_level,
			name_en,
			longitude,
			latitude,
			create_id,
			create_time,
			)
			VALUES
			(
			#{id},
			#{parentId},
			#{code},
			#{name},
			#{regionLevel},
			#{nameEn},
			#{longitude},
			#{latitude},
			#{createId},
			#{createTime}
			)
	</insert>

	<!--修改-->
	<update id="updateXtAreaRegion" parameterType="jehc.djshi.sys.model.XtAreaRegion">
		UPDATE
			xt_area_region
		SET
			parent_id = #{parentId},
			code = #{code},
			name = #{name},
			region_level = #{regionLevel},
			name_en = #{nameEn},
			longitude = #{longitude},
			latitude = #{latitude},
			update_id = #{updateId},
			update_time = #{updateTime}
		WHERE id = #{id}
	</update>

	<!--修改（根据动态条件）-->
	<update id="updateXtAreaRegionBySelective" parameterType="jehc.djshi.sys.model.XtAreaRegion">
		UPDATE
			xt_area_region
		<set>
			<if test="parentId != null">
				parent_id = #{parentId},
			</if>
			<if test="code != null">
				code = #{code},
			</if>
			<if test="name != null">
				name = #{name},
			</if>
			<if test="regionLevel != null">
				region_level = #{regionLevel},
			</if>
			<if test="nameEn != null">
				name_en = #{nameEn},
			</if>
			<if test="longitude != null">
				longitude = #{longitude},
			</if>
			<if test="latitude != null">
				latitude = #{latitude},
			</if>
			<if test="updateId != null">
				update_id = #{updateId},
			</if>
			<if test="updateTime != null">
				update_time = #{updateTime},
			</if>
		</set>
		WHERE id=#{id}
	</update>

	<!--删除-->
	<delete id="delXtAreaRegion" parameterType="map">
		DELETE FROM xt_area_region WHERE id IN
		<foreach item="item" index="index" collection="id" open="(" separator="," close=")">
			#{item}
		</foreach>
	</delete>

	<!--批量添加-->
	<insert id="addBatchXtAreaRegion" parameterType="list">
		INSERT INTO
			xt_area_region
			(
			id,
			parent_id,
			code,
			name,
			region_level,
			name_en,
			longitude,
			latitude,
			create_id,
			create_time
			)
			VALUES
		<foreach collection="list" item="item" index="index" separator=",">
			(
			#{item.id},
			#{item.parentId},
			#{item.code},
			#{item.name},
			#{item.regionLevel},
			#{item.nameEn},
			#{item.longitude},
			#{item.latitude},
			#{item.createId},
			#{item.createTime}
			)
		</foreach>
	</insert>

	<!--批量修改-->
	<update id="updateBatchXtAreaRegion" parameterType="list">
		<foreach collection="list" item="item" index="index" open="" close="" separator=";">
			UPDATE
				xt_area_region
			SET
				parent_id = #{item.parentId},
				code = #{item.code},
				name = #{item.name},
				region_level = #{item.regionLevel},
				name_en = #{item.nameEn},
				longitude = #{item.longitude},
				latitude = #{item.latitude},
				update_id = #{item.updateId},
				update_time = #{item.updateTime}
			WHERE id=#{item.id}
		</foreach>
	</update>

	<!--批量修改（根据动态条件）-->
	<update id="updateBatchXtAreaRegionBySelective" parameterType="list">
		<foreach collection="list" item="item" index="index" open="" close="" separator=";">
			UPDATE
				xt_area_region
			<set>
				<if test="parentId != null">
					parent_id = #{item.parentId},
				</if>
				<if test="code != null">
					code = #{item.code},
				</if>
				<if test="name != null">
					name = #{item.name},
				</if>
				<if test="regionLevel != null">
					region_level = #{item.regionLevel},
				</if>
				<if test="nameEn != null">
					name_en = #{item.nameEn},
				</if>
				<if test="longitude != null">
					longitude = #{item.longitude},
				</if>
				<if test="latitude != null">
					latitude = #{item.latitude},
				</if>
				<if test="updateTime != null">
					update_time = #{item.updateTime},
				</if>
				<if test="updateId != null">
					update_id = #{item.updateId},
				</if>
			</set>
			WHERE id = #{item.id}
		</foreach>
	</update>
</mapper>