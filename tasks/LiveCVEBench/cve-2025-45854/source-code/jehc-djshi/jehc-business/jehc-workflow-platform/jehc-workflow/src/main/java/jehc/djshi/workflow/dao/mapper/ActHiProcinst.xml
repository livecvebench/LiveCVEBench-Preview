<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="jehc.djshi.workflow.dao.ActHiProcinstDao">

    <!--根据流程定义统计流程实例运行平均时间-->
    <select id="getActHiProcinstAvgTime" resultType="string" parameterType="string">
      SELECT
        AVG(TIME_TO_SEC(TIMEDIFF(END_TIME_, START_TIME_)))/3600 AS tCount
      FROM
        act_hi_procinst
      WHERE
        END_TIME_ != ''
      AND PROC_DEF_ID_ = #{proc_def_id}
      GROUP BY PROC_DEF_ID_
    </select>
</mapper>