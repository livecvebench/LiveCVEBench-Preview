<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="jehc.djshi.workflow.dao.LcProductDao">
    <!--初始化分页-->
    <select id="getLcProductListByCondition" resultType="jehc.djshi.workflow.model.LcProduct" parameterType="map">
        SELECT
            id,
            name,
            status,
            create_time AS createTime,
            update_time AS updateTime,
            create_id AS createId,
            update_id AS updateId,
            tenant_id AS tenantId,
            content,
            md5
        FROM
            lc_product lc_product
        WHERE 1=1
            AND del_flag = 0
            <if test="null != name">
                AND instr(name,#{name})
            </if>
    </select>

    <!--查询对象-->
    <select id="getLcProductById" resultType="jehc.djshi.workflow.model.LcProduct" parameterType="string">
        SELECT
            id,
            name,
            status,
            create_time AS createTime,
            update_time AS updateTime,
            create_id AS createId,
            update_id AS updateId,
            tenant_id AS tenantId,
            content,
            md5
        FROM
            lc_product lc_product
        WHERE lc_product.id=#{id}
    </select>

    <!--添加-->
    <insert id="addLcProduct" parameterType="jehc.djshi.workflow.model.LcProduct">
        INSERT INTO
            lc_product
        (
            id,
            name,
            create_time,
            create_id,
            tenant_id,
            content,
            md5
        )
        VALUES
        (
            #{id},
            #{name},
            #{createTime},
            #{createId},
            #{tenantId},
            #{content},
            #{md5}
        )
    </insert>

    <!--修改-->
    <update id="updateLcProduct" parameterType="jehc.djshi.workflow.model.LcProduct">
        UPDATE
        lc_product
        SET
        <if test="null != name">
            name = #{name},
        </if>
        <if test="null != status">
            status = #{status},
        </if>
        <if test="null != tenantId">
            tenant_id = #{tenantId},
        </if>
        <if test="null != content">
            content = #{content},
        </if>
        <if test="null != md5">
            md5 = #{md5},
        </if>
        update_time = #{updateTime},
        update_id = #{updateId}
        WHERE id=#{id}
    </update>

    <!--删除-->
    <delete id="delLcProduct" parameterType="map">
        UPDATE lc_product SET del_flag = 1 WHERE id IN
        <foreach item="item" index="index" collection="id" open="(" separator="," close=")">
            #{item}
        </foreach>
    </delete>
</mapper>