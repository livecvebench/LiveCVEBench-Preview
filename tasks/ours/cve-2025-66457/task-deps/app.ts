/**
 * Elysia Web Application
 *
 * A simple web application with cookie support.
 *
 * Usage:
 *   bun run app.ts
 */

import { Elysia, t } from "elysia";

const cookieSecret = process.env.COOKIE_SECRET || "default-secret";

const app = new Elysia({
    cookie: {
        secrets: cookieSecret,
    },
})
    .get("/", () => "Hello World", {
        cookie: t.Cookie({
            session: t.Optional(t.String()),
        }),
    })
    .get("/health", () => ({ status: "ok" }))
    .listen(3000);

console.log(
    `Elysia is running at ${app.server?.hostname}:${app.server?.port}`,
);
