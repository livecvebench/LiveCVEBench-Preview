<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="jehc.djshi.job.dao.JobConfigDao">
	<!--初始化分页-->
	<select id="getJobConfigListByCondition" resultType="jehc.djshi.job.model.JobConfig" parameterType="map">
		SELECT
			id,
			jobTitle,
			jobId,
			jobName,
			jobGroup,
			jobStatus,
			cronExpression,
			desc_ ,
			clientId,
			clientGroupId,
			jobHandler,
			jobPara
		FROM
		job_config
		WHERE 1=1
		<if test="null != jobName">
			AND jobName LIKE CONCAT(CONCAT('%',#{jobName}),'%')
		</if>
	</select>

	<!--查询对象-->
	<select id="getJobConfigById" resultType="jehc.djshi.job.model.JobConfig" parameterType="string">
		SELECT
			id,
			jobTitle,
			jobId,
			jobName,
			jobGroup,
			jobStatus,
			cronExpression,
			desc_ ,
			clientId,
			clientGroupId,
			jobHandler,
			jobPara
		FROM 
			job_config
		WHERE id=#{id}
	</select>

	<!--添加-->
	<insert id="addJobConfig" parameterType="jehc.djshi.job.model.JobConfig">
		INSERT INTO
			job_config
			(
			id,
			jobTitle,
			jobId,
			jobName,
			jobGroup,
			jobStatus,
			cronExpression,
			desc_,
			clientId,
			clientGroupId,
			jobHandler,
			jobPara
			)
			VALUES
			(
			#{id},
			#{jobTitle},
			#{jobId},
			#{jobName},
			#{jobGroup},
			#{jobStatus},
			#{cronExpression},
			#{desc_},
			#{clientId},
			#{clientGroupId},
			#{jobHandler},
			#{jobPara}
			)
	</insert>

	<!--修改-->
	<update id="updateJobConfig" parameterType="jehc.djshi.job.model.JobConfig">
		UPDATE
			job_config
		SET
			id = #{id},
			jobTitle = #{jobTitle},
			jobId = #{jobId},
			jobName = #{jobName},
			jobGroup = #{jobGroup},
			jobStatus = #{jobStatus},
			cronExpression = #{cronExpression},
			desc_ = #{desc_},
			clientId = #{clientId},
			clientGroupId = #{clientGroupId},
			jobHandler = #{jobHandler},
			jobPara = #{jobPara}
		WHERE id=#{id}
	</update>

	<!--删除-->
	<delete id="delJobConfig" parameterType="map">
		DELETE FROM job_config WHERE id IN
		<foreach item="item" index="index" collection="id" open="(" separator="," close=")">
			#{item}
		</foreach>
	</delete>
	
	<!--查找集合-->
	<select id="getJobConfigListAllByCondition" resultType="jehc.djshi.job.model.JobConfig" parameterType="map">
		SELECT
			id,
			jobTitle,
			jobId,
			jobName,
			jobGroup,
			jobStatus,
			cronExpression,
			desc_,
			clientId,
			clientGroupId,
			jobHandler,
			jobPara
		FROM
		job_config
		WHERE 1=1
		<if test="null != jobId">
			AND jobId=#{jobId}
		</if>
		<if test="null != jobName">
			AND jobName=#{jobName}
		</if>
		<if test="null != jobGroup">
			AND jobGroup=#{jobGroup}
		</if>
		<if test="null != jobStatus">
			AND jobStatus=#{jobStatus}
		</if>
	</select>
</mapper>