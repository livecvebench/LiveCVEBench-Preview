FROM node:20-slim

WORKDIR /app

# System dependencies (tmux, asciinema, curl are required)
RUN apt-get update && \
    apt-get install -y git tmux asciinema curl && \
    rm -rf /var/lib/apt/lists/*

# Copy package.json from task-deps
COPY task-deps/package.json .

# Install vulnerable axios version
RUN npm install

# Keep container running for test execution
CMD ["tail", "-f", "/dev/null"]
