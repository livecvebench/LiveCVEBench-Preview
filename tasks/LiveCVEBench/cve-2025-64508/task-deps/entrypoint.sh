#!/bin/bash
set -e

# Run migrations on startup (if needed)
python manage.py migrate --noinput

# Loop to restart the server if it gets killed (for solution.sh)
while true; do
    echo "Starting Django development server..."
    python manage.py runserver 0.0.0.0:8000 || true
    echo "Server stopped, restarting in 2 seconds..."
    sleep 2
done
