<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="jehc.djshi.workflow.dao.LcNodeFormFieldDao">
	<!--初始化分页-->
	<select id="getLcNodeFormFieldListByCondition" resultType="jehc.djshi.workflow.model.LcNodeFormField" parameterType="map">
		SELECT
			id,
			field_label AS fieldLabel,
			field_id AS fieldId,
			field_name AS fieldName,
			field_read AS fieldRead,
			field_write AS fieldWrite,
			filed_hide AS filedHide,
			filed_required AS filedRequired,
			create_time AS createTime,
			update_time AS updateTime,
			create_id AS createId,
			update_id AS updateId,
			lc_process_id AS lcProcessId,
			lc_deployment_id AS lcDeploymentId,
			node_id AS nodeId,
			lc_node_attribute_id AS lcNodeAttributeId
		FROM 
			lc_node_form_field
		WHERE 1=1
		<if test="null != lcNodeAttributeId">
			AND lc_node_attribute_id = #{lcNodeAttributeId}
		</if>
		<if test="null != lcDeploymentId">
			AND lc_deployment_id = #{lcDeploymentId}
		</if>
		<if test="null != nodeId">
			AND node_id = #{nodeId}
		</if>
	</select>

	<!--查询对象-->
	<select id="getLcNodeFormFieldById" resultType="jehc.djshi.workflow.model.LcNodeFormField" parameterType="string">
		SELECT
			id,
			field_label AS fieldLabel,
			field_id AS fieldId,
			field_name AS fieldName,
			field_read AS fieldRead,
			field_write AS fieldWrite,
			filed_hide AS filedHide,
			filed_required AS filedRequired,
			create_time AS createTime,
			update_time AS updateTime,
			create_id AS createId,
			update_id AS updateId,
			lc_process_id AS lcProcessId,
			lc_deployment_id AS lcDeploymentId,
			node_id AS nodeId,
			lc_node_attribute_id AS lcNodeAttributeId
		FROM 
			lc_node_form_field
		WHERE id=#{id}
	</select>

	<!--添加-->
	<insert id="addLcNodeFormField" parameterType="jehc.djshi.workflow.model.LcNodeFormField">
		INSERT INTO
			lc_node_form_field
			(
			id,
			field_label,
			field_id,
			field_name,
			field_read,
			field_write,
			filed_hide,
			filed_required,
			create_id,
			update_id,
			del_flag,
			create_time,
			update_time,
			lc_process_id,
			lc_deployment_id,
			node_id,
			lc_node_attribute_id
			)
			VALUES
			(
			#{id},
			#{fieldLabel},
			#{fieldId},
			#{fieldName},
			#{fieldRead},
			#{fieldWrite},
			#{filedHide},
			#{filedRequired},
			#{createId},
			#{updateId},
			0,
			#{createTime},
			#{updateTime},
			#{lcProcessId},
			#{lcDeploymentId},
			#{nodeId},
			#{lcNodeAttributeId}
			)
	</insert>

	<!--修改-->
	<update id="updateLcNodeFormField" parameterType="jehc.djshi.workflow.model.LcNodeFormField">
		UPDATE
			lc_node_form_field
		SET
			field_label = #{fieldLabel},
			field_id = #{fieldId},
			field_name = #{fieldName},
			field_read = #{fieldRead},
			field_write = #{fieldWrite},
			filed_hide = #{filedHide},
			filed_required = #{filedRequired},
			update_id = #{updateId},
			update_time = #{updateTime},
			lc_process_id = #{lcProcessId},
			lc_deployment_id = #{lcDeploymentId},
			node_id = #{nodeId},
			lc_node_attribute_id = #{lcNodeAttributeId}
		WHERE id=#{id}
	</update>

	<!--修改（根据动态条件）-->
	<update id="updateLcNodeFormFieldBySelective" parameterType="jehc.djshi.workflow.model.LcNodeFormField">
		UPDATE
			lc_node_form_field
		<set>
			<if test="fieldLabel != null">
				field_label = #{fieldLabel},
			</if>
			<if test="fieldId != null">
				field_id = #{fieldId},
			</if>
			<if test="fieldName != null">
				field_name = #{fieldName},
			</if>
			<if test="fieldRead != null">
				field_read = #{fieldRead},
			</if>
			<if test="fieldWrite != null">
				field_write = #{fieldWrite},
			</if>
			<if test="filedHide != null">
				filed_hide = #{filedHide},
			</if>
			<if test="filedRequired != null">
				filed_required = #{filedRequired},
			</if>
			<if test="updateId != null">
				update_id = #{updateId},
			</if>
			<if test="updateTime != null">
				update_time = #{updateTime},
			</if>
			<if test="lcProcessId != null">
				lc_process_id = #{lcProcessId},
			</if>
			<if test="lcDeploymentId != null">
				lc_deployment_id = #{lcDeploymentId},
			</if>
			<if test="nodeId != null">
				node_id = #{nodeId},
			</if>
			<if test="lcNodeAttributeId != null">
				lc_node_attribute_id = #{lcNodeAttributeId},
			</if>
		</set>
		WHERE id=#{id}
	</update>

	<!--删除-->
	<delete id="delLcNodeFormField" parameterType="map">
		DELETE FROM lc_node_form_field WHERE id IN
		<foreach item="item" index="index" collection="id" open="(" separator="," close=")">
			#{item}
		</foreach>
	</delete>

	<!--根据属性id删除-->
	<delete id="delLcNodeFormFieldAttributeId" parameterType="string">
		DELETE FROM lc_node_form_field WHERE lc_node_attribute_id = #{lcNodeAttributeId}
	</delete>

</mapper>