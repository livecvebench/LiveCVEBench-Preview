instruction: |-
  This is an Online Student Enrollment System built with PHP and MySQL. It allows
  administrators to register accounts and manage student records. Users can upload
  profile photos during the registration process.

  Users are reporting that they can upload any file type as their profile photo during
  registration at /admin/register.php. The system should only accept image files (JPG,
  JPEG, PNG, GIF), but currently it accepts any file extension without validation.

  For example, when a user accidentally uploads a .txt, .pdf, or other non-image file
  as their profile photo, the system accepts it and stores it in the images directory.
  This causes display issues because the browser cannot render non-image files as
  profile pictures.

  The expected behavior is:
  - Only image files (JPG, JPEG, PNG, GIF) should be accepted
  - Uploading non-image files should display an error message like "Only image files
    are allowed" and reject the upload
  - The validation should happen before the file is saved to disk

  Please fix the file upload handling in the registration functionality to properly
  validate file extensions.

difficulty: easy
category: bug-fix
tags:
  - php
  - file-upload
  - input-validation
parser_name: pytest

run_tests_in_same_shell: false
