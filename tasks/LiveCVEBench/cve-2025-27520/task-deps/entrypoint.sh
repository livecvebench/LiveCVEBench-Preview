#!/bin/bash
# Entrypoint script for BentoML service with restart capability
# This ensures the container stays running when solution.sh kills and restarts the service

while true; do
    echo "[entrypoint] Starting BentoML service..."
    cd /app && bentoml serve service:EchoService --host 0.0.0.0 --port 3000

    exit_code=$?
    echo "[entrypoint] BentoML service exited with code $exit_code"

    # Brief pause before restart
    sleep 1
done
