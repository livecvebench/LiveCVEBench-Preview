<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="jehc.djshi.oauth.dao.OauthUninstallDao">

    <!--删除子系统-->
    <delete id="delOauthSysModeById" parameterType="string">
        DELETE FROM oauth_sys_mode WHERE id = #{id}
    </delete>

    <!--删除模块-->
    <delete id="delOauthSysModulesByModeId" parameterType="string">
        DELETE FROM oauth_sys_modules WHERE id = #{id}
    </delete>

    <!--删除菜单-->
    <delete id="delOauthResourcesByModuleId" parameterType="string">
        DELETE FROM oauth_resources WHERE id  IN
        <foreach item="item" index="index" collection="id" open="(" separator="," close=")">
            #{item}
        </foreach>
    </delete>

    <!--删除功能-->
    <delete id="delOauthFunctionInfoByMenuId" parameterType="map">
        DELETE FROM oauth_function_info WHERE id IN
        <foreach item="item" index="index" collection="id" open="(" separator="," close=")">
            #{item}
        </foreach>
    </delete>

    <!--删除管理员拥有系统范围-->
    <delete id="delOauthAdminSysByModeId" parameterType="string">
        DELETE FROM oauth_admin_sys WHERE id = #{id}
    </delete>

    <!--删除授权中心角色模块-->
    <delete id="delOauthRoleByModeId" parameterType="string">
        DELETE FROM oauth_role WHERE id = #{id}
    </delete>

    <!--删除授权中心功能对角色-->
    <delete id="delOauthFunctionRoleByMenuId" parameterType="map">
        DELETE FROM oauth_function_role WHERE id  IN
        <foreach item="item" index="index" collection="id" open="(" separator="," close=")">
            #{item}
        </foreach>
    </delete>

    <!--删除授权中心资源对角色-->
    <delete id="delOauthResourcesRoleByMenuId" parameterType="map">
        DELETE FROM oauth_resources_role WHERE id  IN
        <foreach item="item" index="index" collection="id" open="(" separator="," close=")">
            #{item}
        </foreach>
    </delete>

    <!--删除账号类型-->
    <delete id="delOauthRAccountTypeByModeId" parameterType="string">
        DELETE FROM oauth_account_type WHERE id = #{id}
    </delete>


</mapper>