<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
		"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="jehc.djshi.workflow.dao.LcNodeCandidateDao">
	<!--初始化分页-->
	<select id="getLcNodeCandidateListByCondition" resultType="jehc.djshi.workflow.model.LcNodeCandidate" parameterType="map">
		SELECT
			id,
			assignee_type AS assigneeType,
			assignee_id AS assigneeId,
			candidate_id AS candidateId,
			candidate_group_type AS candidateGroupType,
			candidate_group_id AS candidateGroupId,
			lc_process_id AS lcProcessId,
			lc_deployment_id AS lcDeploymentId,
			node_id AS nodeId,
			lc_node_attribute_id AS lcNodeAttributeId,
			create_time AS createTime,
			update_time AS updateTime,
			create_id AS createId,
			update_id AS updateId,
			remark,
			remark1,
			remark2
		FROM
			lc_node_candidate
		WHERE 1=1
			<if test="null != lcNodeAttributeId">
				AND lc_node_attribute_id = #{lcNodeAttributeId}
			</if>
			<if test="null != lcProcessId">
				AND lc_process_id = #{lcProcessId}
			</if>
			<if test="null != lcDeploymentId">
				AND lc_deployment_id = #{lcDeploymentId}
			</if>
			<if test="null != nodeId">
				AND node_id = #{nodeId}
			</if>
	</select>

	<!--查询对象-->
	<select id="getLcNodeCandidateById" resultType="jehc.djshi.workflow.model.LcNodeCandidate" parameterType="string">
		SELECT
			id,
			assignee_type AS assigneeType,
			assignee_id AS assigneeId,
			candidate_id AS candidateId,
			candidate_group_type AS candidateGroupType,
			candidate_group_id AS candidateGroupId,
			lc_process_id AS lcProcessId,
			lc_deployment_id AS lcDeploymentId,
			node_id AS nodeId,
			lc_node_attribute_id AS lcNodeAttributeId,
			create_time AS createTime,
			update_time AS updateTime,
			create_id AS createId,
			update_id AS updateId,
			remark,
			remark1,
			remark2
		FROM
			lc_node_candidate
		WHERE id=#{id}
	</select>

	<!--添加-->
	<insert id="addLcNodeCandidate" parameterType="jehc.djshi.workflow.model.LcNodeCandidate">
		INSERT INTO
			lc_node_candidate
		(
			id,
			assignee_type,
			assignee_id,
			candidate_id,
			candidate_group_type,
			candidate_group_id,
			lc_process_id,
			lc_deployment_id,
			node_id,
			lc_node_attribute_id,
			create_time,
			update_time,
			create_id,
			update_id,
			del_flag,
			remark,
			remark1,
			remark2
		)
		VALUES
		(
			#{id},
			#{assigneeType},
			#{assigneeId},
			#{candidateId},
			#{candidateGroupType},
			#{candidateGroupId},
			#{lcProcessId},
			#{lcDeploymentId},
			#{nodeId},
			#{lcNodeAttributeId},
			#{createTime},
			#{updateTime},
			#{createId},
			#{updateId},
			0,
			#{remark},
			#{remark1},
			#{remark2}
		)
	</insert>

	<!--修改-->
	<update id="updateLcNodeCandidate" parameterType="jehc.djshi.workflow.model.LcNodeCandidate">
		UPDATE
			lc_node_candidate
		SET
			assignee_type = #{assigneeType},
			assignee_id = #{assigneeId},
			candidate_id = #{candidateId},
			candidate_group_type = #{candidateGroupType},
			candidate_group_id = #{candidateGroupId},
			lc_process_id = #{lcProcessId},
			lc_deployment_id = #{lcDeploymentId},
			node_id = #{nodeId},
			lc_node_attribute_id = #{lcNodeAttributeId},
			update_time = #{updateTime},
			update_id = #{updateId},
			remark = #{remark},
			remark1 = #{remark1},
			remark2 = #{remark2}
		WHERE id=#{id}
	</update>

	<!--修改（根据动态条件）-->
	<update id="updateLcNodeCandidateBySelective" parameterType="jehc.djshi.workflow.model.LcNodeCandidate">
		UPDATE
		lc_node_candidate
		<set>
			<if test="assigneeType != null">
				assignee_type = #{assigneeType},
			</if>
			<if test="assigneeId != null">
				assignee_id = #{assigneeId},
			</if>
			<if test="candidateId != null">
				candidate_id = #{candidateId},
			</if>
			<if test="candidateGroupType != null">
				candidate_group_type = #{candidateGroupType},
			</if>
			<if test="candidateGroupId != null">
				candidate_group_id = #{candidateGroupId},
			</if>
			<if test="lcProcessId != null">
				lc_process_id = #{lcProcessId},
			</if>
			<if test="lcDeploymentId != null">
				lc_deployment_id = #{lcDeploymentId},
			</if>
			<if test="nodeId != null">
				node_id = #{nodeId},
			</if>
			<if test="lcNodeAttributeId != null">
				lc_node_attribute_id = #{lcNodeAttributeId},
			</if>
			<if test="updateTime != null">
				update_time = #{updateTime},
			</if>
			<if test="updateId != null">
				update_id = #{updateId},
			</if>
			<if test="remark != null">
				remark = #{remark},
			</if>
			<if test="remark1 != null">
				remark1 = #{remark1},
			</if>
			<if test="remark2 != null">
				remark2 = #{remark2},
			</if>
		</set>
		WHERE id=#{id}
	</update>

	<!--删除-->
	<delete id="delLcNodeCandidate" parameterType="map">
		DELETE FROM lc_node_candidate WHERE id IN
		<foreach item="item" index="index" collection="id" open="(" separator="," close=")">
			#{item}
		</foreach>
	</delete>

	<!--根据属性id删除-->
	<delete id="delLcNodeCandidateByAttributeId" parameterType="string">
		DELETE FROM lc_node_candidate WHERE lc_node_attribute_id = #{lcNodeAttributeId}
	</delete>

</mapper>