instruction: |-
  This application uses Cadwyn, a FastAPI API versioning library, to serve
  versioned API documentation endpoints.

  When accessing the documentation endpoints (/docs or /redoc) with a specially
  crafted version parameter containing special characters like single quotes,
  plus signs, or parentheses (e.g., "test'+value+'end"), the characters appear
  unencoded in the HTML response. This causes JavaScript errors in the browser
  console when the Swagger UI or ReDoc interface attempts to load, because the
  malformed URL breaks the JavaScript string context.

  For example, accessing /docs?version=test'+alert('x')+' results in the raw
  payload appearing in the page source, which disrupts proper page rendering
  and can lead to unexpected behavior.

  The expected behavior is that any special characters in the version parameter
  should be properly URL-encoded before being embedded in the HTML response,
  ensuring the documentation pages render correctly regardless of the version
  parameter content.

difficulty: easy
category: bug-fix
tags:
  - python
  - fastapi
  - url-encoding
  - input-handling
parser_name: pytest

run_tests_in_same_shell: false
