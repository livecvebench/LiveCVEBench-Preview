cat <<'EOF' > /workspace/fix.patch
diff --git a/index.js b/index.js
index cad0b67..e143b57 100644
--- a/index.js
+++ b/index.js
@@ -20,7 +20,7 @@ var http = require('http'),
 
 //Web服务器主函数,解析请求,返回Web内容 
 var main = function(req, res) {
-        var reqUrl = req.url; 
+        var reqUrl = req.url.replace(/(\.\.\/?)/g, '');
         //记录请求信息
         logger.http(req, res);
         
@@ -89,4 +89,4 @@ server.listen(argvs.getPort(), function() {
     console.log('[Airserver][Start] running at http://localhost:'+ argvs.getPort() + '/');
     //结束服务启动计时器并输出 
     console.timeEnd('[Airserver][Start]');
-});
\ No newline at end of file
+});


EOF

cd /workspace/ritp
git apply --whitespace=nowarn  /workspace/fix.patch