<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
		"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="jehc.djshi.workflow.dao.LcNotifyTemplateDao">
	<!--初始化分页-->
	<select id="getLcNotifyTemplateListByCondition" resultType="jehc.djshi.workflow.model.LcNotifyTemplate" parameterType="map">
		SELECT
			id,
			title,
			content,
			create_time AS createTime,
			update_time AS updateTime,
			create_id AS createId,
			update_id AS updateId,
			template_key AS templateKey,
			type
		FROM
			lc_notify_template
		WHERE 1=1
			<if test="null != title">
				AND title LIKE CONCAT(CONCAT('%',#{title}),'%')
			</if>
			<if test="null != type">
				AND type = #{type}
			</if>
			<if test="null != notifyTemplateIds">
				AND id IN
				<foreach item="item" index="index" collection="notifyTemplateIds" open="(" separator="," close=")">
					#{item}
				</foreach>
			</if>
			AND del_flag = 0
	</select>

	<!--查询对象-->
	<select id="getLcNotifyTemplateById" resultType="jehc.djshi.workflow.model.LcNotifyTemplate" parameterType="string">
		SELECT
			id,
			title,
			content,
			create_time AS createTime,
			update_time AS updateTime,
			create_id AS createId,
			update_id AS updateId,
			template_key AS templateKey,
			type
		FROM
			lc_notify_template
		WHERE id=#{id}
	</select>

	<!--添加-->
	<insert id="addLcNotifyTemplate" parameterType="jehc.djshi.workflow.model.LcNotifyTemplate">
		INSERT INTO
			lc_notify_template
		(
			id,
			title,
			content,
			create_id,
			update_id,
			del_flag,
			create_time,
			update_time,
			template_key,
			type
		)
		VALUES
		(
			#{id},
			#{title},
			#{content},
			#{createId},
			#{updateId},
			0,
			#{createTime},
			#{updateTime},
			#{templateKey},
			#{type}
		)
	</insert>

	<!--修改-->
	<update id="updateLcNotifyTemplate" parameterType="jehc.djshi.workflow.model.LcNotifyTemplate">
		UPDATE
			lc_notify_template
		SET
			title = #{title},
			content = #{content},
			update_id = #{updateId},
			update_time = #{updateTime},
			template_key = #{templateKey},
			type = #{type}
		WHERE id=#{id}
	</update>

	<!--修改（根据动态条件）-->
	<update id="updateLcNotifyTemplateBySelective" parameterType="jehc.djshi.workflow.model.LcNotifyTemplate">
		UPDATE
		lc_notify_template
		<set>
			<if test="title != null">
				title = #{title},
			</if>
			<if test="content != null">
				content = #{content},
			</if>
			<if test="updateId != null">
				update_id = #{updateId},
			</if>
			<if test="updateTime != null">
				update_time = #{updateTime},
			</if>
			<if test="templateKey != null">
				template_key = #{templateKey},
			</if>
			<if test="type != null">
				type = #{type},
			</if>
		</set>
		WHERE id=#{id}
	</update>

	<!--删除-->
	<delete id="delLcNotifyTemplate" parameterType="map">
		UPDATE lc_notify_template SET del_flag= 1 WHERE id IN
		<foreach item="item" index="index" collection="id" open="(" separator="," close=")">
			#{item}
		</foreach>
	</delete>
</mapper>