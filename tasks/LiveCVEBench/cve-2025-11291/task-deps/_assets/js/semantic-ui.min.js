/*!
 * # Semantic UI 2.1.7 - Site
 * http://github.com/semantic-org/semantic-ui/
 *
 *
 * Copyright 2015 Contributors
 * Released under the MIT license
 * http://opensource.org/licenses/MIT
 *
 */
!function(a,b,c,d){a.site=a.fn.site=function(d){var e,f,g=(new Date).getTime(),h=[],i=arguments[0],j="string"==typeof i,k=[].slice.call(arguments,1),l=a.isPlainObject(d)?a.extend(!0,{},a.site.settings,d):a.extend({},a.site.settings),m=l.namespace,n=l.error,o="module-"+m,p=a(c),q=p,r=this,s=q.data(o);return e={initialize:function(){e.instantiate()},instantiate:function(){e.verbose("Storing instance of site",e),s=e,q.data(o,e)},normalize:function(){e.fix.console(),e.fix.requestAnimationFrame()},fix:{console:function(){e.debug("Normalizing window.console"),void 0!==console&&void 0!==console.log||(e.verbose("Console not available, normalizing events"),e.disable.console()),void 0!==console.group&&void 0!==console.groupEnd&&void 0!==console.groupCollapsed||(e.verbose("Console group not available, normalizing events"),b.console.group=function(){},b.console.groupEnd=function(){},b.console.groupCollapsed=function(){}),void 0===console.markTimeline&&(e.verbose("Mark timeline not available, normalizing events"),b.console.markTimeline=function(){})},consoleClear:function(){e.debug("Disabling programmatic console clearing"),b.console.clear=function(){}},requestAnimationFrame:function(){e.debug("Normalizing requestAnimationFrame"),void 0===b.requestAnimationFrame&&(e.debug("RequestAnimationFrame not available, normalizing event"),b.requestAnimationFrame=b.requestAnimationFrame||b.mozRequestAnimationFrame||b.webkitRequestAnimationFrame||b.msRequestAnimationFrame||function(a){setTimeout(a,0)})}},moduleExists:function(b){return void 0!==a.fn[b]&&void 0!==a.fn[b].settings},enabled:{modules:function(b){var c=[];return b=b||l.modules,a.each(b,function(a,b){e.moduleExists(b)&&c.push(b)}),c}},disabled:{modules:function(b){var c=[];return b=b||l.modules,a.each(b,function(a,b){e.moduleExists(b)||c.push(b)}),c}},change:{setting:function(b,c,d,f){d="string"==typeof d?"all"===d?l.modules:[d]:d||l.modules,f=void 0===f||f,a.each(d,function(d,g){var h,i=!e.moduleExists(g)||(a.fn[g].settings.namespace||!1);e.moduleExists(g)&&(e.verbose("Changing default setting",b,c,g),a.fn[g].settings[b]=c,f&&i&&(h=a(":data(module-"+i+")"),h.length>0&&(e.verbose("Modifying existing settings",h),h[g]("setting",b,c))))})},settings:function(b,c,d){c="string"==typeof c?[c]:c||l.modules,d=void 0===d||d,a.each(c,function(c,f){var g;e.moduleExists(f)&&(e.verbose("Changing default setting",b,f),a.extend(!0,a.fn[f].settings,b),d&&m&&(g=a(":data(module-"+m+")"),g.length>0&&(e.verbose("Modifying existing settings",g),g[f]("setting",b))))})}},enable:{console:function(){e.console(!0)},debug:function(a,b){a=a||l.modules,e.debug("Enabling debug for modules",a),e.change.setting("debug",!0,a,b)},verbose:function(a,b){a=a||l.modules,e.debug("Enabling verbose debug for modules",a),e.change.setting("verbose",!0,a,b)}},disable:{console:function(){e.console(!1)},debug:function(a,b){a=a||l.modules,e.debug("Disabling debug for modules",a),e.change.setting("debug",!1,a,b)},verbose:function(a,b){a=a||l.modules,e.debug("Disabling verbose debug for modules",a),e.change.setting("verbose",!1,a,b)}},console:function(a){if(a){if(void 0===s.cache.console)return void e.error(n.console);e.debug("Restoring console function"),b.console=s.cache.console}else e.debug("Disabling console function"),s.cache.console=b.console,b.console={clear:function(){},error:function(){},group:function(){},groupCollapsed:function(){},groupEnd:function(){},info:function(){},log:function(){},markTimeline:function(){},warn:function(){}}},destroy:function(){e.verbose("Destroying previous site for",q),q.removeData(o)},cache:{},setting:function(b,c){if(a.isPlainObject(b))a.extend(!0,l,b);else{if(void 0===c)return l[b];l[b]=c}},internal:function(b,c){if(a.isPlainObject(b))a.extend(!0,e,b);else{if(void 0===c)return e[b];e[b]=c}},debug:function(){l.debug&&(l.performance?e.performance.log(arguments):(e.debug=Function.prototype.bind.call(console.info,console,l.name+":"),e.debug.apply(console,arguments)))},verbose:function(){l.verbose&&l.debug&&(l.performance?e.performance.log(arguments):(e.verbose=Function.prototype.bind.call(console.info,console,l.name+":"),e.verbose.apply(console,arguments)))},error:function(){e.error=Function.prototype.bind.call(console.error,console,l.name+":"),e.error.apply(console,arguments)},performance:{log:function(a){var b,c,d;l.performance&&(b=(new Date).getTime(),d=g||b,c=b-d,g=b,h.push({Element:r,Name:a[0],Arguments:[].slice.call(a,1)||"","Execution Time":c})),clearTimeout(e.performance.timer),e.performance.timer=setTimeout(e.performance.display,500)},display:function(){var b=l.name+":",c=0;g=!1,clearTimeout(e.performance.timer),a.each(h,function(a,b){c+=b["Execution Time"]}),b+=" "+c+"ms",(void 0!==console.group||void 0!==console.table)&&h.length>0&&(console.groupCollapsed(b),console.table?console.table(h):a.each(h,function(a,b){console.log(b.Name+": "+b["Execution Time"]+"ms")}),console.groupEnd()),h=[]}},invoke:function(b,c,d){var g,h,i,j=s;return c=c||k,d=r||d,"string"==typeof b&&void 0!==j&&(b=b.split(/[\. ]/),g=b.length-1,a.each(b,function(c,d){var f=c!=g?d+b[c+1].charAt(0).toUpperCase()+b[c+1].slice(1):b;if(a.isPlainObject(j[f])&&c!=g)j=j[f];else{if(void 0!==j[f])return h=j[f],!1;if(!a.isPlainObject(j[d])||c==g)return void 0!==j[d]?(h=j[d],!1):(e.error(n.method,b),!1);j=j[d]}})),a.isFunction(h)?i=h.apply(d,c):void 0!==h&&(i=h),a.isArray(f)?f.push(i):void 0!==f?f=[f,i]:void 0!==i&&(f=i),h}},j?(void 0===s&&e.initialize(),e.invoke(i)):(void 0!==s&&e.destroy(),e.initialize()),void 0!==f?f:this},a.site.settings={name:"Site",namespace:"site",error:{console:"Console cannot be restored, most likely it was overwritten outside of module",method:"The method you called is not defined."},debug:!1,verbose:!1,performance:!0,modules:["accordion","api","checkbox","dimmer","dropdown","embed","form","modal","nag","popup","rating","shape","sidebar","state","sticky","tab","transition","visit","visibility"],siteNamespace:"site",namespaceStub:{cache:{},config:{},sections:{},section:{},utilities:{}}},a.extend(a.expr[":"],{data:a.expr.createPseudo?a.expr.createPseudo(function(b){return function(c){return!!a.data(c,b)}}):function(b,c,d){return!!a.data(b,d[3])}})}(jQuery,window,document),function(a,b,c,d){"use strict";a.fn.form=function(b){var d,e=a(this),f=e.selector||"",g=(new Date).getTime(),h=[],i=arguments[0],j=arguments[1],k="string"==typeof i,l=[].slice.call(arguments,1);return e.each(function(){var m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E=a(this),F=this,G=[],H=!1;D={initialize:function(){D.get.settings(),k?(void 0===C&&D.instantiate(),D.invoke(i)):(D.verbose("Initializing form validation",E,t),D.bindEvents(),D.set.defaults(),D.instantiate())},instantiate:function(){D.verbose("Storing instance of module",D),C=D,E.data(A,D)},destroy:function(){D.verbose("Destroying previous module",C),D.removeEvents(),E.removeData(A)},refresh:function(){D.verbose("Refreshing selector cache"),m=E.find(w.field),n=E.find(w.group),o=E.find(w.message),p=E.find(w.prompt),q=E.find(w.submit),r=E.find(w.clear),s=E.find(w.reset)},submit:function(){D.verbose("Submitting form",E),E.submit()},attachEvents:function(b,c){c=c||"submit",a(b).on("click"+B,function(a){D[c](),a.preventDefault()})},bindEvents:function(){D.verbose("Attaching form events"),E.on("submit"+B,D.validate.form).on("blur"+B,w.field,D.event.field.blur).on("click"+B,w.submit,D.submit).on("click"+B,w.reset,D.reset).on("click"+B,w.clear,D.clear),t.keyboardShortcuts&&E.on("keydown"+B,w.field,D.event.field.keydown),m.each(function(){var b=a(this),c=b.prop("type"),d=D.get.changeEvent(c,b);a(this).on(d+B,D.event.field.change)})},clear:function(){m.each(function(){var b=a(this),c=b.parent(),d=b.closest(n),e=d.find(w.prompt),f=b.data(v.defaultValue)||"",g=c.is(w.uiCheckbox),h=c.is(w.uiDropdown);d.hasClass(x.error)&&(D.verbose("Resetting error on field",d),d.removeClass(x.error),e.remove()),h?(D.verbose("Resetting dropdown value",c,f),c.dropdown("clear")):g?b.prop("checked",!1):(D.verbose("Resetting field value",b,f),b.val(""))})},reset:function(){m.each(function(){var b=a(this),c=b.parent(),d=b.closest(n),e=d.find(w.prompt),f=b.data(v.defaultValue),g=c.is(w.uiCheckbox),h=c.is(w.uiDropdown),i=d.hasClass(x.error);void 0!==f&&(i&&(D.verbose("Resetting error on field",d),d.removeClass(x.error),e.remove()),h?(D.verbose("Resetting dropdown value",c,f),c.dropdown("restore defaults")):g?(D.verbose("Resetting checkbox value",c,f),b.prop("checked",f)):(D.verbose("Resetting field value",b,f),b.val(f)))})},is:{bracketedRule:function(a){return a.type&&a.type.match(t.regExp.bracket)},valid:function(){var b=!0;return D.verbose("Checking if form is valid"),a.each(u,function(a,c){D.validate.field(c,a)||(b=!1)}),b}},removeEvents:function(){E.off(B),m.off(B),q.off(B),m.off(B)},event:{field:{keydown:function(b){var c=a(this),d=b.which,e={enter:13,escape:27};d==e.escape&&(D.verbose("Escape key pressed blurring field"),c.blur()),!b.ctrlKey&&d==e.enter&&c.is(w.input)&&c.not(w.checkbox).length>0&&(H||(c.one("keyup"+B,D.event.field.keyup),D.submit(),D.debug("Enter pressed on input submitting form")),H=!0)},keyup:function(){H=!1},blur:function(b){var c=a(this),d=c.closest(n),e=D.get.validation(c);d.hasClass(x.error)?(D.debug("Revalidating field",c,e),D.validate.form.call(D,b,!0)):"blur"!=t.on&&"change"!=t.on||e&&D.validate.field(e)},change:function(b){var c=a(this),d=c.closest(n);("change"==t.on||d.hasClass(x.error)&&t.revalidate)&&(clearTimeout(D.timer),D.timer=setTimeout(function(){D.debug("Revalidating field",c,D.get.validation(c)),D.validate.form.call(D,b,!0)},t.delay))}}},get:{ancillaryValue:function(a){return!(!a.type||!D.is.bracketedRule(a))&&a.type.match(t.regExp.bracket)[1]+""},ruleName:function(a){return D.is.bracketedRule(a)?a.type.replace(a.type.match(t.regExp.bracket)[0],""):a.type},changeEvent:function(a,b){return"checkbox"==a||"radio"==a||"hidden"==a||b.is("select")?"change":D.get.inputEvent()},inputEvent:function(){return void 0!==c.createElement("input").oninput?"input":void 0!==c.createElement("input").onpropertychange?"propertychange":"keyup"},prompt:function(a,b){var c,d,e,f=D.get.ruleName(a),g=D.get.ancillaryValue(a),h=a.prompt||t.prompt[f]||t.text.unspecifiedRule,i=-1!==h.search("{value}"),j=-1!==h.search("{name}");return(j||i)&&(d=D.get.field(b.identifier)),i&&(h=h.replace("{value}",d.val())),j&&(c=d.closest(w.group).find("label").eq(0),e=1==c.size()?c.text():d.prop("placeholder")||t.text.unspecifiedField,h=h.replace("{name}",e)),h=h.replace("{identifier}",b.identifier),h=h.replace("{ruleValue}",g),a.prompt||D.verbose("Using default validation prompt for type",h,f),h},settings:function(){if(a.isPlainObject(b)){var c,d=Object.keys(b),e=d.length>0&&(void 0!==b[d[0]].identifier&&void 0!==b[d[0]].rules);e?(t=a.extend(!0,{},a.fn.form.settings,j),u=a.extend({},a.fn.form.settings.defaults,b),D.error(t.error.oldSyntax,F),D.verbose("Extending settings from legacy parameters",u,t)):(b.fields&&(c=Object.keys(b.fields),("string"==typeof b.fields[c[0]]||a.isArray(b.fields[c[0]]))&&a.each(b.fields,function(c,d){"string"==typeof d&&(d=[d]),b.fields[c]={rules:[]},a.each(d,function(a,d){b.fields[c].rules.push({type:d})})})),t=a.extend(!0,{},a.fn.form.settings,b),u=a.extend({},a.fn.form.settings.defaults,t.fields),D.verbose("Extending settings",u,t))}else t=a.fn.form.settings,u=a.fn.form.settings.defaults,D.verbose("Using default form validation",u,t);z=t.namespace,v=t.metadata,w=t.selector,x=t.className,y=t.error,A="module-"+z,B="."+z,C=E.data(A),D.refresh()},field:function(b){return D.verbose("Finding field with identifier",b),m.filter("#"+b).length>0?m.filter("#"+b):m.filter('[name="'+b+'"]').length>0?m.filter('[name="'+b+'"]'):m.filter('[name="'+b+'[]"]').length>0?m.filter('[name="'+b+'[]"]'):m.filter("[data-"+v.validate+'="'+b+'"]').length>0?m.filter("[data-"+v.validate+'="'+b+'"]'):a("<input/>")},fields:function(b){var c=a();return a.each(b,function(a,b){c=c.add(D.get.field(b))}),c},validation:function(b){var c,d;return!!u&&(a.each(u,function(a,e){d=e.identifier||a,D.get.field(d)[0]==b[0]&&(e.identifier=d,c=e)}),c||!1)},value:function(a){var b,c=[];return c.push(a),b=D.get.values.call(F,c),b[a]},values:function(b){var c=a.isArray(b)?D.get.fields(b):m,d={};return c.each(function(b,c){var e=a(c),f=(e.prop("type"),e.prop("name")),g=e.val(),h=e.is(w.checkbox),i=e.is(w.radio),j=-1!==f.indexOf("[]"),k=!!h&&e.is(":checked");f&&(j?(f=f.replace("[]",""),d[f]||(d[f]=[]),h?k?d[f].push(g||!0):d[f].push(!1):d[f].push(g)):i?k&&(d[f]=g):d[f]=h?!!k&&(g||!0):g)}),d}},has:{field:function(a){return D.verbose("Checking for existence of a field with identifier",a),"string"!=typeof a&&D.error(y.identifier,a),m.filter("#"+a).length>0||(m.filter('[name="'+a+'"]').length>0||m.filter("[data-"+v.validate+'="'+a+'"]').length>0)}},add:{prompt:function(b,c){var d=D.get.field(b),e=d.closest(n),f=e.children(w.prompt),g=0!==f.length;c="string"==typeof c?[c]:c,D.verbose("Adding field error state",b),e.addClass(x.error),t.inline&&(g||(f=t.templates.prompt(c),f.appendTo(e)),f.html(c[0]),g?D.verbose("Inline errors are disabled, no inline error added",b):t.transition&&void 0!==a.fn.transition&&E.transition("is supported")?(D.verbose("Displaying error with css transition",t.transition),f.transition(t.transition+" in",t.duration)):(D.verbose("Displaying error with fallback javascript animation"),f.fadeIn(t.duration)))},errors:function(a){D.debug("Adding form error messages",a),D.set.error(),o.html(t.templates.error(a))}},remove:{prompt:function(b){var c=D.get.field(b),d=c.closest(n),e=d.children(w.prompt);d.removeClass(x.error),t.inline&&e.is(":visible")&&(D.verbose("Removing prompt for field",b),t.transition&&void 0!==a.fn.transition&&E.transition("is supported")?e.transition(t.transition+" out",t.duration,function(){e.remove()}):e.fadeOut(t.duration,function(){e.remove()}))}},set:{success:function(){E.removeClass(x.error).addClass(x.success)},defaults:function(){m.each(function(){var b=a(this),c=b.filter(w.checkbox).length>0,d=c?b.is(":checked"):b.val();b.data(v.defaultValue,d)})},error:function(){E.removeClass(x.success).addClass(x.error)},value:function(a,b){var c={};return c[a]=b,D.set.values.call(F,c)},values:function(b){a.isEmptyObject(b)||a.each(b,function(b,c){var d,e=D.get.field(b),f=e.parent(),g=a.isArray(c),h=f.is(w.uiCheckbox),i=f.is(w.uiDropdown),j=e.is(w.radio)&&h,k=e.length>0;k&&(g&&h?(D.verbose("Selecting multiple",c,e),f.checkbox("uncheck"),a.each(c,function(a,b){d=e.filter('[value="'+b+'"]'),f=d.parent(),d.length>0&&f.checkbox("check")})):j?(D.verbose("Selecting radio value",c,e),e.filter('[value="'+c+'"]').parent(w.uiCheckbox).checkbox("check")):h?(D.verbose("Setting checkbox value",c,f),!0===c?f.checkbox("check"):f.checkbox("uncheck")):i?(D.verbose("Setting dropdown value",c,f),f.dropdown("set selected",c)):(D.verbose("Setting field value",c,e),e.val(c)))})}},validate:{form:function(a,b){var c=D.get.values();if(H)return!1;if(G=[],D.is.valid()){if(D.debug("Form has no validation errors, submitting"),D.set.success(),!0!==b)return t.onSuccess.call(F,a,c)}else if(D.debug("Form has errors"),D.set.error(),t.inline||D.add.errors(G),void 0!==E.data("moduleApi")&&a.stopImmediatePropagation(),!0!==b)return t.onFailure.call(F,G,c)},field:function(b,c){var d=b.identifier||c,e=D.get.field(d),f=!0,g=[];return b.identifier||(D.debug("Using field name as identifier",d),b.identifier=d),e.prop("disabled")?(D.debug("Field is disabled. Skipping",d),f=!0):b.optional&&""===a.trim(e.val())?(D.debug("Field is optional and empty. Skipping",d),f=!0):void 0!==b.rules&&a.each(b.rules,function(a,c){D.has.field(d)&&!D.validate.rule(b,c)&&(D.debug("Field is invalid",d,c.type),g.push(D.get.prompt(c,b)),f=!1)}),f?(D.remove.prompt(d,g),t.onValid.call(e),!0):(G=G.concat(g),D.add.prompt(d,g),t.onInvalid.call(e,g),!1)},rule:function(b,c){var d=D.get.field(b.identifier),e=(c.type,d.val()),f=D.get.ancillaryValue(c),g=D.get.ruleName(c),h=t.rules[g];return a.isFunction(h)?(e=void 0===e||""===e||null===e?"":a.trim(e+""),h.call(d,e,f)):void D.error(y.noRule,g)}},setting:function(b,c){if(a.isPlainObject(b))a.extend(!0,t,b);else{if(void 0===c)return t[b];t[b]=c}},internal:function(b,c){if(a.isPlainObject(b))a.extend(!0,D,b);else{if(void 0===c)return D[b];D[b]=c}},debug:function(){t.debug&&(t.performance?D.performance.log(arguments):(D.debug=Function.prototype.bind.call(console.info,console,t.name+":"),D.debug.apply(console,arguments)))},verbose:function(){t.verbose&&t.debug&&(t.performance?D.performance.log(arguments):(D.verbose=Function.prototype.bind.call(console.info,console,t.name+":"),D.verbose.apply(console,arguments)))},error:function(){D.error=Function.prototype.bind.call(console.error,console,t.name+":"),D.error.apply(console,arguments)},performance:{log:function(a){var b,c,d;t.performance&&(b=(new Date).getTime(),d=g||b,c=b-d,g=b,h.push({Name:a[0],Arguments:[].slice.call(a,1)||"",Element:F,"Execution Time":c})),clearTimeout(D.performance.timer),D.performance.timer=setTimeout(D.performance.display,500)},display:function(){var b=t.name+":",c=0;g=!1,clearTimeout(D.performance.timer),a.each(h,function(a,b){c+=b["Execution Time"]}),b+=" "+c+"ms",f&&(b+=" '"+f+"'"),e.length>1&&(b+=" ("+e.length+")"),(void 0!==console.group||void 0!==console.table)&&h.length>0&&(console.groupCollapsed(b),console.table?console.table(h):a.each(h,function(a,b){console.log(b.Name+": "+b["Execution Time"]+"ms")}),console.groupEnd()),h=[]}},invoke:function(b,c,e){var f,g,h,i=C;return c=c||l,e=F||e,"string"==typeof b&&void 0!==i&&(b=b.split(/[\. ]/),f=b.length-1,a.each(b,function(c,d){var e=c!=f?d+b[c+1].charAt(0).toUpperCase()+b[c+1].slice(1):b;if(a.isPlainObject(i[e])&&c!=f)i=i[e];else{if(void 0!==i[e])return g=i[e],!1;if(!a.isPlainObject(i[d])||c==f)return void 0!==i[d]&&(g=i[d],!1);i=i[d]}})),a.isFunction(g)?h=g.apply(e,c):void 0!==g&&(h=g),a.isArray(d)?d.push(h):void 0!==d?d=[d,h]:void 0!==h&&(d=h),g}},D.initialize()}),void 0!==d?d:this},a.fn.form.settings={name:"Form",namespace:"form",debug:!1,verbose:!1,performance:!0,fields:!1,keyboardShortcuts:!0,on:"submit",inline:!1,delay:200,revalidate:!0,transition:"scale",duration:200,onValid:function(){},onInvalid:function(){},onSuccess:function(){return!0},onFailure:function(){return!1},metadata:{defaultValue:"default",validate:"validate"},regExp:{bracket:/\[(.*)\]/i,decimal:/^\d*(\.)\d+/,email:"[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?",escape:/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,flags:/^\/(.*)\/(.*)?/,integer:/^\-?\d+$/,number:/^\-?\d*(\.\d+)?$/,url:/(https?:\/\/(?:www\.|(?!www))[^\s\.]+\.[^\s]{2,}|www\.[^\s]+\.[^\s]{2,})/i},text:{unspecifiedRule:"Please enter a valid value",unspecifiedField:"This field"},prompt:{empty:"{name} must have a value",checked:"{name} must be checked",email:"{name} must be a valid e-mail",url:"{name} must be a valid url",regExp:"{name} is not formatted correctly",integer:"{name} must be an integer",decimal:"{name} must be a decimal number",number:"{name} must be set to a number",is:'{name} must be "{ruleValue}"',isExactly:'{name} must be exactly "{ruleValue}"',not:'{name} cannot be set to "{ruleValue}"',notExactly:'{name} cannot be set to exactly "{ruleValue}"',contain:'{name} cannot contain "{ruleValue}"',containExactly:'{name} cannot contain exactly "{ruleValue}"',doesntContain:'{name} must contain  "{ruleValue}"',doesntContainExactly:'{name} must contain exactly "{ruleValue}"',minLength:"{name} must be at least {ruleValue} characters",length:"{name} must be at least {ruleValue} characters",exactLength:"{name} must be exactly {ruleValue} characters",maxLength:"{name} cannot be longer than {ruleValue} characters",match:"{name} must match {ruleValue} field",different:"{name} must have a different value than {ruleValue} field",creditCard:"{name} must be a valid credit card number",minCount:"{name} must have at least {ruleValue} choices",exactCount:"{name} must have exactly {ruleValue} choices",maxCount:"{name} must have {ruleValue} or less choices"},selector:{checkbox:'input[type="checkbox"], input[type="radio"]',clear:".clear",field:"input, textarea, select",group:".field",input:"input",message:".error.message",prompt:".prompt.label",radio:'input[type="radio"]',reset:'.reset:not([type="reset"])',submit:'.submit:not([type="submit"])',uiCheckbox:".ui.checkbox",uiDropdown:".ui.dropdown"},className:{error:"error",label:"ui prompt label",pressed:"down",success:"success"},error:{identifier:"You must specify a string identifier for each field",method:"The method you called is not defined.",noRule:"There is no rule matching the one you specified",oldSyntax:"Starting in 2.0 forms now only take a single settings object. Validation settings converted to new syntax automatically."},templates:{error:function(b){var c='<ul class="list">';return a.each(b,function(a,b){c+="<li>"+b+"</li>"}),c+="</ul>",a(c)},prompt:function(b){return a("<div/>").addClass("ui basic red pointing prompt label").html(b[0])}},rules:{empty:function(b){return!(void 0===b||""===b||a.isArray(b)&&0===b.length)},checked:function(){return a(this).filter(":checked").length>0},email:function(b){return new RegExp(a.fn.form.settings.regExp.email,"i").test(b)},url:function(b){return a.fn.form.settings.regExp.url.test(b)},regExp:function(b,c){var d,e=c.match(a.fn.form.settings.regExp.flags);return e&&(c=e.length>=2?e[1]:c,d=e.length>=3?e[2]:""),b.match(new RegExp(c,d))},integer:function(b,c){var d,e,f,g=a.fn.form.settings.regExp.integer;return c&&-1===["",".."].indexOf(c)&&(-1==c.indexOf("..")?g.test(c)&&(d=e=c-0):(f=c.split("..",2),g.test(f[0])&&(d=f[0]-0),g.test(f[1])&&(e=f[1]-0))),g.test(b)&&(void 0===d||b>=d)&&(void 0===e||b<=e)},decimal:function(b){return a.fn.form.settings.regExp.decimal.test(b)},number:function(b){return a.fn.form.settings.regExp.number.test(b)},is:function(a,b){return b="string"==typeof b?b.toLowerCase():b,(a="string"==typeof a?a.toLowerCase():a)==b},isExactly:function(a,b){return a==b},not:function(a,b){return a="string"==typeof a?a.toLowerCase():a,b="string"==typeof b?b.toLowerCase():b,a!=b},notExactly:function(a,b){return a!=b},contains:function(b,c){return c=c.replace(a.fn.form.settings.regExp.escape,"\\$&"),-1!==b.search(new RegExp(c,"i"))},containsExactly:function(b,c){return c=c.replace(a.fn.form.settings.regExp.escape,"\\$&"),-1!==b.search(new RegExp(c))},doesntContain:function(b,c){return c=c.replace(a.fn.form.settings.regExp.escape,"\\$&"),-1===b.search(new RegExp(c,"i"))},doesntContainExactly:function(b,c){return c=c.replace(a.fn.form.settings.regExp.escape,"\\$&"),-1===b.search(new RegExp(c))},minLength:function(a,b){return void 0!==a&&a.length>=b},length:function(a,b){return void 0!==a&&a.length>=b},exactLength:function(a,b){return void 0!==a&&a.length==b},maxLength:function(a,b){return void 0!==a&&a.length<=b},match:function(b,c){var d;a(this);return a('[data-validate="'+c+'"]').length>0?d=a('[data-validate="'+c+'"]').val():a("#"+c).length>0?d=a("#"+c).val():a('[name="'+c+'"]').length>0?d=a('[name="'+c+'"]').val():a('[name="'+c+'[]"]').length>0&&(d=a('[name="'+c+'[]"]')),void 0!==d&&b.toString()==d.toString()},different:function(b,c){var d;a(this);return a('[data-validate="'+c+'"]').length>0?d=a('[data-validate="'+c+'"]').val():a("#"+c).length>0?d=a("#"+c).val():a('[name="'+c+'"]').length>0?d=a('[name="'+c+'"]').val():a('[name="'+c+'[]"]').length>0&&(d=a('[name="'+c+'[]"]')),void 0!==d&&b.toString()!==d.toString()},creditCard:function(b,c){var d,e,f={visa:{pattern:/^4/,length:[16]},amex:{pattern:/^3[47]/,length:[15]},mastercard:{pattern:/^5[1-5]/,length:[16]},discover:{pattern:/^(6011|622(12[6-9]|1[3-9][0-9]|[2-8][0-9]{2}|9[0-1][0-9]|92[0-5]|64[4-9])|65)/,length:[16]},unionPay:{pattern:/^(62|88)/,length:[16,17,18,19]},jcb:{pattern:/^35(2[89]|[3-8][0-9])/,length:[16]},maestro:{pattern:/^(5018|5020|5038|6304|6759|676[1-3])/,length:[12,13,14,15,16,17,18,19]},dinersClub:{pattern:/^(30[0-5]|^36)/,length:[14]},laser:{pattern:/^(6304|670[69]|6771)/,length:[16,17,18,19]},visaElectron:{pattern:/^(4026|417500|4508|4844|491(3|7))/,length:[16]}},g={},h=!1,i="string"==typeof c&&c.split(",");if("string"==typeof b&&0!==b.length){if(i&&(a.each(i,function(c,d){(e=f[d])&&(g={length:-1!==a.inArray(b.length,e.length),pattern:-1!==b.search(e.pattern)},g.length&&g.pattern&&(h=!0))}),!h))return!1;if(d={number:-1!==a.inArray(b.length,f.unionPay.length),pattern:-1!==b.search(f.unionPay.pattern)},d.number&&d.pattern)return!0;for(var j=b.length,k=0,l=[[0,1,2,3,4,5,6,7,8,9],[0,2,4,6,8,1,3,5,7,9]],m=0;j--;)m+=l[k][parseInt(b.charAt(j),10)],k^=1;return m%10==0&&m>0}},minCount:function(a,b){return 0==b||(1==b?""!==a:a.split(",").length>=b)},exactCount:function(a,b){return 0==b?""===a:1==b?""!==a&&-1===a.search(","):a.split(",").length==b},maxCount:function(a,b){return 0!=b&&(1==b?-1===a.search(","):a.split(",").length<=b)}}}}(jQuery,window,document),function(a,b,c,d){"use strict";a.fn.accordion=function(c){var d,e=a(this),f=(new Date).getTime(),g=[],h=arguments[0],i="string"==typeof h,j=[].slice.call(arguments,1);b.requestAnimationFrame||b.mozRequestAnimationFrame||b.webkitRequestAnimationFrame||b.msRequestAnimationFrame;return e.each(function(){var k,l,m=a.isPlainObject(c)?a.extend(!0,{},a.fn.accordion.settings,c):a.extend({},a.fn.accordion.settings),n=m.className,o=m.namespace,p=m.selector,q=m.error,r="."+o,s="module-"+o,t=e.selector||"",u=a(this),v=u.find(p.title),w=u.find(p.content),x=this,y=u.data(s);l={initialize:function(){l.debug("Initializing",u),l.bind.events(),m.observeChanges&&l.observeChanges(),l.instantiate()},instantiate:function(){y=l,u.data(s,l)},destroy:function(){l.debug("Destroying previous instance",u),u.off(r).removeData(s)},refresh:function(){v=u.find(p.title),w=u.find(p.content)},observeChanges:function(){"MutationObserver"in b&&(k=new MutationObserver(function(a){l.debug("DOM tree modified, updating selector cache"),l.refresh()}),k.observe(x,{childList:!0,subtree:!0}),l.debug("Setting up mutation observer",k))},bind:{events:function(){l.debug("Binding delegated events"),u.on(m.on+r,p.trigger,l.event.click)}},event:{click:function(){l.toggle.call(this)}},toggle:function(b){var c=void 0!==b?"number"==typeof b?v.eq(b):a(b).closest(p.title):a(this).closest(p.title),d=c.next(w),e=d.hasClass(n.animating),f=d.hasClass(n.active),g=f&&!e,h=!f&&e;l.debug("Toggling visibility of content",c),g||h?m.collapsible?l.close.call(c):l.debug("Cannot close accordion content collapsing is disabled"):l.open.call(c)},open:function(b){var c=void 0!==b?"number"==typeof b?v.eq(b):a(b).closest(p.title):a(this).closest(p.title),d=c.next(w),e=d.hasClass(n.animating);if(d.hasClass(n.active)||e)return void l.debug("Accordion already open, skipping",d);l.debug("Opening accordion content",c),m.onOpening.call(d),m.exclusive&&l.closeOthers.call(c),c.addClass(n.active),d.stop(!0,!0).addClass(n.animating),m.animateChildren&&(void 0!==a.fn.transition&&u.transition("is supported")?d.children().transition({animation:"fade in",queue:!1,useFailSafe:!0,debug:m.debug,verbose:m.verbose,duration:m.duration}):d.children().stop(!0,!0).animate({opacity:1},m.duration,l.resetOpacity)),d.slideDown(m.duration,m.easing,function(){d.removeClass(n.animating).addClass(n.active),l.reset.display.call(this),m.onOpen.call(this),m.onChange.call(this)})},close:function(b){var c=void 0!==b?"number"==typeof b?v.eq(b):a(b).closest(p.title):a(this).closest(p.title),d=c.next(w),e=d.hasClass(n.animating),f=d.hasClass(n.active),g=!f&&e,h=f&&e;!f&&!g||h||(l.debug("Closing accordion content",d),m.onClosing.call(d),c.removeClass(n.active),d.stop(!0,!0).addClass(n.animating),m.animateChildren&&(void 0!==a.fn.transition&&u.transition("is supported")?d.children().transition({animation:"fade out",queue:!1,useFailSafe:!0,debug:m.debug,verbose:m.verbose,duration:m.duration}):d.children().stop(!0,!0).animate({opacity:0},m.duration,l.resetOpacity)),d.slideUp(m.duration,m.easing,function(){d.removeClass(n.animating).removeClass(n.active),l.reset.display.call(this),m.onClose.call(this),m.onChange.call(this)}))},closeOthers:function(b){var c,d,e,f=void 0!==b?v.eq(b):a(this).closest(p.title),g=f.parents(p.content).prev(p.title),h=f.closest(p.accordion),i=p.title+"."+n.active+":visible",j=p.content+"."+n.active+":visible";m.closeNested?(c=h.find(i).not(g),e=c.next(w)):(c=h.find(i).not(g),d=h.find(j).find(i).not(g),c=c.not(d),e=c.next(w)),c.length>0&&(l.debug("Exclusive enabled, closing other content",c),c.removeClass(n.active),e.removeClass(n.animating).stop(!0,!0),m.animateChildren&&(void 0!==a.fn.transition&&u.transition("is supported")?e.children().transition({animation:"fade out",useFailSafe:!0,debug:m.debug,verbose:m.verbose,duration:m.duration}):e.children().stop(!0,!0).animate({opacity:0},m.duration,l.resetOpacity)),e.slideUp(m.duration,m.easing,function(){a(this).removeClass(n.active),l.reset.display.call(this)}))},reset:{display:function(){l.verbose("Removing inline display from element",this),a(this).css("display",""),""===a(this).attr("style")&&a(this).attr("style","").removeAttr("style")},opacity:function(){l.verbose("Removing inline opacity from element",this),a(this).css("opacity",""),""===a(this).attr("style")&&a(this).attr("style","").removeAttr("style")}},setting:function(b,c){if(l.debug("Changing setting",b,c),a.isPlainObject(b))a.extend(!0,m,b);else{if(void 0===c)return m[b];m[b]=c}},internal:function(b,c){if(l.debug("Changing internal",b,c),void 0===c)return l[b];a.isPlainObject(b)?a.extend(!0,l,b):l[b]=c},debug:function(){m.debug&&(m.performance?l.performance.log(arguments):(l.debug=Function.prototype.bind.call(console.info,console,m.name+":"),l.debug.apply(console,arguments)))},verbose:function(){m.verbose&&m.debug&&(m.performance?l.performance.log(arguments):(l.verbose=Function.prototype.bind.call(console.info,console,m.name+":"),l.verbose.apply(console,arguments)))},error:function(){l.error=Function.prototype.bind.call(console.error,console,m.name+":"),l.error.apply(console,arguments)},performance:{log:function(a){var b,c,d;m.performance&&(b=(new Date).getTime(),d=f||b,c=b-d,f=b,g.push({Name:a[0],Arguments:[].slice.call(a,1)||"",Element:x,"Execution Time":c})),clearTimeout(l.performance.timer),l.performance.timer=setTimeout(l.performance.display,500)},display:function(){var b=m.name+":",c=0;f=!1,clearTimeout(l.performance.timer),a.each(g,function(a,b){c+=b["Execution Time"]}),b+=" "+c+"ms",t&&(b+=" '"+t+"'"),(void 0!==console.group||void 0!==console.table)&&g.length>0&&(console.groupCollapsed(b),console.table?console.table(g):a.each(g,function(a,b){console.log(b.Name+": "+b["Execution Time"]+"ms")}),console.groupEnd()),g=[]}},invoke:function(b,c,e){var f,g,h,i=y;return c=c||j,e=x||e,"string"==typeof b&&void 0!==i&&(b=b.split(/[\. ]/),f=b.length-1,a.each(b,function(c,d){var e=c!=f?d+b[c+1].charAt(0).toUpperCase()+b[c+1].slice(1):b;if(a.isPlainObject(i[e])&&c!=f)i=i[e];else{if(void 0!==i[e])return g=i[e],!1;if(!a.isPlainObject(i[d])||c==f)return void 0!==i[d]?(g=i[d],!1):(l.error(q.method,b),!1);i=i[d]}})),a.isFunction(g)?h=g.apply(e,c):void 0!==g&&(h=g),a.isArray(d)?d.push(h):void 0!==d?d=[d,h]:void 0!==h&&(d=h),g}},i?(void 0===y&&l.initialize(),l.invoke(h)):(void 0!==y&&y.invoke("destroy"),l.initialize())}),void 0!==d?d:this},a.fn.accordion.settings={name:"Accordion",namespace:"accordion",debug:!1,verbose:!1,performance:!0,on:"click",observeChanges:!0,exclusive:!0,collapsible:!0,closeNested:!1,animateChildren:!0,duration:350,easing:"easeOutQuad",onOpening:function(){},onOpen:function(){},onClosing:function(){},onClose:function(){},onChange:function(){},error:{method:"The method you called is not defined"},className:{active:"active",animating:"animating"},selector:{accordion:".accordion",title:".title",trigger:".title",content:".content"}},a.extend(a.easing,{easeOutQuad:function(a,b,c,d,e){return-d*(b/=e)*(b-2)+c}})}(jQuery,window,document),function(a,b,c,d){"use strict";a.fn.checkbox=function(d){
var e,f=a(this),g=f.selector||"",h=(new Date).getTime(),i=[],j=arguments[0],k="string"==typeof j,l=[].slice.call(arguments,1);return f.each(function(){var f,m,n=a.extend(!0,{},a.fn.checkbox.settings,d),o=n.className,p=n.namespace,q=n.selector,r=n.error,s="."+p,t="module-"+p,u=a(this),v=a(this).children(q.label),w=a(this).children(q.input),x=w[0],y=!1,z=!1,A=u.data(t),B=this;m={initialize:function(){m.verbose("Initializing checkbox",n),m.create.label(),m.bind.events(),m.set.tabbable(),m.hide.input(),m.observeChanges(),m.instantiate(),m.setup()},instantiate:function(){m.verbose("Storing instance of module",m),A=m,u.data(t,m)},destroy:function(){m.verbose("Destroying module"),m.unbind.events(),m.show.input(),u.removeData(t)},fix:{reference:function(){u.is(q.input)&&(m.debug("Behavior called on <input> adjusting invoked element"),u=u.closest(q.checkbox),m.refresh())}},setup:function(){m.set.initialLoad(),m.is.indeterminate()?(m.debug("Initial value is indeterminate"),m.indeterminate()):m.is.checked()?(m.debug("Initial value is checked"),m.check()):(m.debug("Initial value is unchecked"),m.uncheck()),m.remove.initialLoad()},refresh:function(){v=u.children(q.label),w=u.children(q.input),x=w[0]},hide:{input:function(){m.verbose("Modfying <input> z-index to be unselectable"),w.addClass(o.hidden)}},show:{input:function(){m.verbose("Modfying <input> z-index to be selectable"),w.removeClass(o.hidden)}},observeChanges:function(){"MutationObserver"in b&&(f=new MutationObserver(function(a){m.debug("DOM tree modified, updating selector cache"),m.refresh()}),f.observe(B,{childList:!0,subtree:!0}),m.debug("Setting up mutation observer",f))},attachEvents:function(b,c){var d=a(b);c=a.isFunction(m[c])?m[c]:m.toggle,d.length>0?(m.debug("Attaching checkbox events to element",b,c),d.on("click"+s,c)):m.error(r.notFound)},event:{click:function(b){var c=a(b.target);return c.is(q.input)?void m.verbose("Using default check action on initialized checkbox"):c.is(q.link)?void m.debug("Clicking link inside checkbox, skipping toggle"):(m.toggle(),w.focus(),void b.preventDefault())},keydown:function(a){var b=a.which,c={enter:13,space:32,escape:27};b==c.escape?(m.verbose("Escape key pressed blurring field"),w.blur(),z=!0):a.ctrlKey||b!=c.space&&b!=c.enter?z=!1:(m.verbose("Enter/space key pressed, toggling checkbox"),m.toggle(),z=!0)},keyup:function(a){z&&a.preventDefault()}},check:function(){m.should.allowCheck()&&(m.debug("Checking checkbox",w),m.set.checked(),m.should.ignoreCallbacks()||(n.onChecked.call(x),n.onChange.call(x)))},uncheck:function(){m.should.allowUncheck()&&(m.debug("Unchecking checkbox"),m.set.unchecked(),m.should.ignoreCallbacks()||(n.onUnchecked.call(x),n.onChange.call(x)))},indeterminate:function(){if(m.should.allowIndeterminate())return void m.debug("Checkbox is already indeterminate");m.debug("Making checkbox indeterminate"),m.set.indeterminate(),m.should.ignoreCallbacks()||(n.onIndeterminate.call(x),n.onChange.call(x))},determinate:function(){if(m.should.allowDeterminate())return void m.debug("Checkbox is already determinate");m.debug("Making checkbox determinate"),m.set.determinate(),m.should.ignoreCallbacks()||(n.onDeterminate.call(x),n.onChange.call(x))},enable:function(){if(m.is.enabled())return void m.debug("Checkbox is already enabled");m.debug("Enabling checkbox"),m.set.enabled(),n.onEnabled.call(x)},disable:function(){if(m.is.disabled())return void m.debug("Checkbox is already disabled");m.debug("Disabling checkbox"),m.set.disabled(),n.onDisabled.call(x)},get:{radios:function(){var b=m.get.name();return a('input[name="'+b+'"]').closest(q.checkbox)},otherRadios:function(){return m.get.radios().not(u)},name:function(){return w.attr("name")}},is:{initialLoad:function(){return y},radio:function(){return w.hasClass(o.radio)||"radio"==w.attr("type")},indeterminate:function(){return void 0!==w.prop("indeterminate")&&w.prop("indeterminate")},checked:function(){return void 0!==w.prop("checked")&&w.prop("checked")},disabled:function(){return void 0!==w.prop("disabled")&&w.prop("disabled")},enabled:function(){return!m.is.disabled()},determinate:function(){return!m.is.indeterminate()},unchecked:function(){return!m.is.checked()}},should:{allowCheck:function(){return m.is.determinate()&&m.is.checked()&&!m.should.forceCallbacks()?(m.debug("Should not allow check, checkbox is already checked"),!1):!1!==n.beforeChecked.apply(x)||(m.debug("Should not allow check, beforeChecked cancelled"),!1)},allowUncheck:function(){return m.is.determinate()&&m.is.unchecked()&&!m.should.forceCallbacks()?(m.debug("Should not allow uncheck, checkbox is already unchecked"),!1):!1!==n.beforeUnchecked.apply(x)||(m.debug("Should not allow uncheck, beforeUnchecked cancelled"),!1)},allowIndeterminate:function(){return m.is.indeterminate()&&!m.should.forceCallbacks()?(m.debug("Should not allow indeterminate, checkbox is already indeterminate"),!1):!1!==n.beforeIndeterminate.apply(x)||(m.debug("Should not allow indeterminate, beforeIndeterminate cancelled"),!1)},allowDeterminate:function(){return m.is.determinate()&&!m.should.forceCallbacks()?(m.debug("Should not allow determinate, checkbox is already determinate"),!1):!1!==n.beforeDeterminate.apply(x)||(m.debug("Should not allow determinate, beforeDeterminate cancelled"),!1)},forceCallbacks:function(){return m.is.initialLoad()&&n.fireOnInit},ignoreCallbacks:function(){return y&&!n.fireOnInit}},can:{change:function(){return!(u.hasClass(o.disabled)||u.hasClass(o.readOnly)||w.prop("disabled")||w.prop("readonly"))},uncheck:function(){return"boolean"==typeof n.uncheckable?n.uncheckable:!m.is.radio()}},set:{initialLoad:function(){y=!0},checked:function(){if(m.verbose("Setting class to checked"),u.removeClass(o.indeterminate).addClass(o.checked),m.is.radio()&&m.uncheckOthers(),!m.is.indeterminate()&&m.is.checked())return void m.debug("Input is already checked, skipping input property change");m.verbose("Setting state to checked",x),w.prop("indeterminate",!1).prop("checked",!0),m.trigger.change()},unchecked:function(){if(m.verbose("Removing checked class"),u.removeClass(o.indeterminate).removeClass(o.checked),!m.is.indeterminate()&&m.is.unchecked())return void m.debug("Input is already unchecked");m.debug("Setting state to unchecked"),w.prop("indeterminate",!1).prop("checked",!1),m.trigger.change()},indeterminate:function(){if(m.verbose("Setting class to indeterminate"),u.addClass(o.indeterminate),m.is.indeterminate())return void m.debug("Input is already indeterminate, skipping input property change");m.debug("Setting state to indeterminate"),w.prop("indeterminate",!0),m.trigger.change()},determinate:function(){if(m.verbose("Removing indeterminate class"),u.removeClass(o.indeterminate),m.is.determinate())return void m.debug("Input is already determinate, skipping input property change");m.debug("Setting state to determinate"),w.prop("indeterminate",!1)},disabled:function(){if(m.verbose("Setting class to disabled"),u.addClass(o.disabled),m.is.disabled())return void m.debug("Input is already disabled, skipping input property change");m.debug("Setting state to disabled"),w.prop("disabled","disabled"),m.trigger.change()},enabled:function(){if(m.verbose("Removing disabled class"),u.removeClass(o.disabled),m.is.enabled())return void m.debug("Input is already enabled, skipping input property change");m.debug("Setting state to enabled"),w.prop("disabled",!1),m.trigger.change()},tabbable:function(){m.verbose("Adding tabindex to checkbox"),void 0===w.attr("tabindex")&&w.attr("tabindex",0)}},remove:{initialLoad:function(){y=!1}},trigger:{change:function(){var a=c.createEvent("HTMLEvents"),b=w[0];b&&(m.verbose("Triggering native change event"),a.initEvent("change",!0,!1),b.dispatchEvent(a))}},create:{label:function(){w.prevAll(q.label).length>0?(w.prev(q.label).detach().insertAfter(w),m.debug("Moving existing label",v)):m.has.label()||(v=a("<label>").insertAfter(w),m.debug("Creating label",v))}},has:{label:function(){return v.length>0}},bind:{events:function(){m.verbose("Attaching checkbox events"),u.on("click"+s,m.event.click).on("keydown"+s,q.input,m.event.keydown).on("keyup"+s,q.input,m.event.keyup)}},unbind:{events:function(){m.debug("Removing events"),u.off(s)}},uncheckOthers:function(){var a=m.get.otherRadios();m.debug("Unchecking other radios",a),a.removeClass(o.checked)},toggle:function(){if(!m.can.change())return void(m.is.radio()||m.debug("Checkbox is read-only or disabled, ignoring toggle"));m.is.indeterminate()||m.is.unchecked()?(m.debug("Currently unchecked"),m.check()):m.is.checked()&&m.can.uncheck()&&(m.debug("Currently checked"),m.uncheck())},setting:function(b,c){if(m.debug("Changing setting",b,c),a.isPlainObject(b))a.extend(!0,n,b);else{if(void 0===c)return n[b];n[b]=c}},internal:function(b,c){if(a.isPlainObject(b))a.extend(!0,m,b);else{if(void 0===c)return m[b];m[b]=c}},debug:function(){n.debug&&(n.performance?m.performance.log(arguments):(m.debug=Function.prototype.bind.call(console.info,console,n.name+":"),m.debug.apply(console,arguments)))},verbose:function(){n.verbose&&n.debug&&(n.performance?m.performance.log(arguments):(m.verbose=Function.prototype.bind.call(console.info,console,n.name+":"),m.verbose.apply(console,arguments)))},error:function(){m.error=Function.prototype.bind.call(console.error,console,n.name+":"),m.error.apply(console,arguments)},performance:{log:function(a){var b,c,d;n.performance&&(b=(new Date).getTime(),d=h||b,c=b-d,h=b,i.push({Name:a[0],Arguments:[].slice.call(a,1)||"",Element:B,"Execution Time":c})),clearTimeout(m.performance.timer),m.performance.timer=setTimeout(m.performance.display,500)},display:function(){var b=n.name+":",c=0;h=!1,clearTimeout(m.performance.timer),a.each(i,function(a,b){c+=b["Execution Time"]}),b+=" "+c+"ms",g&&(b+=" '"+g+"'"),(void 0!==console.group||void 0!==console.table)&&i.length>0&&(console.groupCollapsed(b),console.table?console.table(i):a.each(i,function(a,b){console.log(b.Name+": "+b["Execution Time"]+"ms")}),console.groupEnd()),i=[]}},invoke:function(b,c,d){var f,g,h,i=A;return c=c||l,d=B||d,"string"==typeof b&&void 0!==i&&(b=b.split(/[\. ]/),f=b.length-1,a.each(b,function(c,d){var e=c!=f?d+b[c+1].charAt(0).toUpperCase()+b[c+1].slice(1):b;if(a.isPlainObject(i[e])&&c!=f)i=i[e];else{if(void 0!==i[e])return g=i[e],!1;if(!a.isPlainObject(i[d])||c==f)return void 0!==i[d]?(g=i[d],!1):(m.error(r.method,b),!1);i=i[d]}})),a.isFunction(g)?h=g.apply(d,c):void 0!==g&&(h=g),a.isArray(e)?e.push(h):void 0!==e?e=[e,h]:void 0!==h&&(e=h),g}},k?(void 0===A&&m.initialize(),m.invoke(j)):(void 0!==A&&A.invoke("destroy"),m.initialize())}),void 0!==e?e:this},a.fn.checkbox.settings={name:"Checkbox",namespace:"checkbox",debug:!1,verbose:!0,performance:!0,uncheckable:"auto",fireOnInit:!1,onChange:function(){},beforeChecked:function(){},beforeUnchecked:function(){},beforeDeterminate:function(){},beforeIndeterminate:function(){},onChecked:function(){},onUnchecked:function(){},onDeterminate:function(){},onIndeterminate:function(){},onEnable:function(){},onDisable:function(){},className:{checked:"checked",indeterminate:"indeterminate",disabled:"disabled",hidden:"hidden",radio:"radio",readOnly:"read-only"},error:{method:"The method you called is not defined"},selector:{checkbox:".ui.checkbox",label:"label, .box",input:'input[type="checkbox"], input[type="radio"]',link:"a[href]"}}}(jQuery,window,document),function(a,b,c,d){"use strict";a.fn.dimmer=function(b){var d,e=a(this),f=(new Date).getTime(),g=[],h=arguments[0],i="string"==typeof h,j=[].slice.call(arguments,1);return e.each(function(){var k,l,m,n=a.isPlainObject(b)?a.extend(!0,{},a.fn.dimmer.settings,b):a.extend({},a.fn.dimmer.settings),o=n.selector,p=n.namespace,q=n.className,r=n.error,s="."+p,t="module-"+p,u=e.selector||"",v="ontouchstart"in c.documentElement?"touchstart":"click",w=a(this),x=this,y=w.data(t);m={preinitialize:function(){m.is.dimmer()?(l=w.parent(),k=w):(l=w,k=m.has.dimmer()?n.dimmerName?l.find(o.dimmer).filter("."+n.dimmerName):l.find(o.dimmer):m.create())},initialize:function(){m.debug("Initializing dimmer",n),m.bind.events(),m.set.dimmable(),m.instantiate()},instantiate:function(){m.verbose("Storing instance of module",m),y=m,w.data(t,y)},destroy:function(){m.verbose("Destroying previous module",k),m.unbind.events(),m.remove.variation(),l.off(s)},bind:{events:function(){"hover"==n.on?l.on("mouseenter"+s,m.show).on("mouseleave"+s,m.hide):"click"==n.on&&l.on(v+s,m.toggle),m.is.page()&&(m.debug("Setting as a page dimmer",l),m.set.pageDimmer()),m.is.closable()&&(m.verbose("Adding dimmer close event",k),l.on(v+s,o.dimmer,m.event.click))}},unbind:{events:function(){w.removeData(t)}},event:{click:function(b){m.verbose("Determining if event occured on dimmer",b),(0===k.find(b.target).length||a(b.target).is(o.content))&&(m.hide(),b.stopImmediatePropagation())}},addContent:function(b){var c=a(b);m.debug("Add content to dimmer",c),c.parent()[0]!==k[0]&&c.detach().appendTo(k)},create:function(){var b=a(n.template.dimmer());return n.variation&&(m.debug("Creating dimmer with variation",n.variation),b.addClass(n.variation)),n.dimmerName&&(m.debug("Creating named dimmer",n.dimmerName),b.addClass(n.dimmerName)),b.appendTo(l),b},show:function(b){b=a.isFunction(b)?b:function(){},m.debug("Showing dimmer",k,n),m.is.dimmed()&&!m.is.animating()||!m.is.enabled()?m.debug("Dimmer is already shown or disabled"):(m.animate.show(b),n.onShow.call(x),n.onChange.call(x))},hide:function(b){b=a.isFunction(b)?b:function(){},m.is.dimmed()||m.is.animating()?(m.debug("Hiding dimmer",k),m.animate.hide(b),n.onHide.call(x),n.onChange.call(x)):m.debug("Dimmer is not visible")},toggle:function(){m.verbose("Toggling dimmer visibility",k),m.is.dimmed()?m.hide():m.show()},animate:{show:function(b){b=a.isFunction(b)?b:function(){},n.useCSS&&void 0!==a.fn.transition&&k.transition("is supported")?("auto"!==n.opacity&&m.set.opacity(),k.transition({animation:n.transition+" in",queue:!1,duration:m.get.duration(),useFailSafe:!0,onStart:function(){m.set.dimmed()},onComplete:function(){m.set.active(),b()}})):(m.verbose("Showing dimmer animation with javascript"),m.set.dimmed(),"auto"==n.opacity&&(n.opacity=.8),k.stop().css({opacity:0,width:"100%",height:"100%"}).fadeTo(m.get.duration(),n.opacity,function(){k.removeAttr("style"),m.set.active(),b()}))},hide:function(b){b=a.isFunction(b)?b:function(){},n.useCSS&&void 0!==a.fn.transition&&k.transition("is supported")?(m.verbose("Hiding dimmer with css"),k.transition({animation:n.transition+" out",queue:!1,duration:m.get.duration(),useFailSafe:!0,onStart:function(){m.remove.dimmed()},onComplete:function(){m.remove.active(),b()}})):(m.verbose("Hiding dimmer with javascript"),m.remove.dimmed(),k.stop().fadeOut(m.get.duration(),function(){m.remove.active(),k.removeAttr("style"),b()}))}},get:{dimmer:function(){return k},duration:function(){return"object"==typeof n.duration?m.is.active()?n.duration.hide:n.duration.show:n.duration}},has:{dimmer:function(){return n.dimmerName?w.find(o.dimmer).filter("."+n.dimmerName).length>0:w.find(o.dimmer).length>0}},is:{active:function(){return k.hasClass(q.active)},animating:function(){return k.is(":animated")||k.hasClass(q.animating)},closable:function(){return"auto"==n.closable?"hover"!=n.on:n.closable},dimmer:function(){return w.hasClass(q.dimmer)},dimmable:function(){return w.hasClass(q.dimmable)},dimmed:function(){return l.hasClass(q.dimmed)},disabled:function(){return l.hasClass(q.disabled)},enabled:function(){return!m.is.disabled()},page:function(){return l.is("body")},pageDimmer:function(){return k.hasClass(q.pageDimmer)}},can:{show:function(){return!k.hasClass(q.disabled)}},set:{opacity:function(a){var b=k.css("background-color"),c=b.split(","),d=c&&4==c.length;a=0===n.opacity?0:n.opacity||a,d?(c[3]=a+")",b=c.join(",")):b="rgba(0, 0, 0, "+a+")",m.debug("Setting opacity to",a),k.css("background-color",b)},active:function(){k.addClass(q.active)},dimmable:function(){l.addClass(q.dimmable)},dimmed:function(){l.addClass(q.dimmed)},pageDimmer:function(){k.addClass(q.pageDimmer)},disabled:function(){k.addClass(q.disabled)},variation:function(a){(a=a||n.variation)&&k.addClass(a)}},remove:{active:function(){k.removeClass(q.active)},dimmed:function(){l.removeClass(q.dimmed)},disabled:function(){k.removeClass(q.disabled)},variation:function(a){(a=a||n.variation)&&k.removeClass(a)}},setting:function(b,c){if(m.debug("Changing setting",b,c),a.isPlainObject(b))a.extend(!0,n,b);else{if(void 0===c)return n[b];n[b]=c}},internal:function(b,c){if(a.isPlainObject(b))a.extend(!0,m,b);else{if(void 0===c)return m[b];m[b]=c}},debug:function(){n.debug&&(n.performance?m.performance.log(arguments):(m.debug=Function.prototype.bind.call(console.info,console,n.name+":"),m.debug.apply(console,arguments)))},verbose:function(){n.verbose&&n.debug&&(n.performance?m.performance.log(arguments):(m.verbose=Function.prototype.bind.call(console.info,console,n.name+":"),m.verbose.apply(console,arguments)))},error:function(){m.error=Function.prototype.bind.call(console.error,console,n.name+":"),m.error.apply(console,arguments)},performance:{log:function(a){var b,c,d;n.performance&&(b=(new Date).getTime(),d=f||b,c=b-d,f=b,g.push({Name:a[0],Arguments:[].slice.call(a,1)||"",Element:x,"Execution Time":c})),clearTimeout(m.performance.timer),m.performance.timer=setTimeout(m.performance.display,500)},display:function(){var b=n.name+":",c=0;f=!1,clearTimeout(m.performance.timer),a.each(g,function(a,b){c+=b["Execution Time"]}),b+=" "+c+"ms",u&&(b+=" '"+u+"'"),e.length>1&&(b+=" ("+e.length+")"),(void 0!==console.group||void 0!==console.table)&&g.length>0&&(console.groupCollapsed(b),console.table?console.table(g):a.each(g,function(a,b){console.log(b.Name+": "+b["Execution Time"]+"ms")}),console.groupEnd()),g=[]}},invoke:function(b,c,e){var f,g,h,i=y;return c=c||j,e=x||e,"string"==typeof b&&void 0!==i&&(b=b.split(/[\. ]/),f=b.length-1,a.each(b,function(c,d){var e=c!=f?d+b[c+1].charAt(0).toUpperCase()+b[c+1].slice(1):b;if(a.isPlainObject(i[e])&&c!=f)i=i[e];else{if(void 0!==i[e])return g=i[e],!1;if(!a.isPlainObject(i[d])||c==f)return void 0!==i[d]?(g=i[d],!1):(m.error(r.method,b),!1);i=i[d]}})),a.isFunction(g)?h=g.apply(e,c):void 0!==g&&(h=g),a.isArray(d)?d.push(h):void 0!==d?d=[d,h]:void 0!==h&&(d=h),g}},m.preinitialize(),i?(void 0===y&&m.initialize(),m.invoke(h)):(void 0!==y&&y.invoke("destroy"),m.initialize())}),void 0!==d?d:this},a.fn.dimmer.settings={name:"Dimmer",namespace:"dimmer",debug:!1,verbose:!1,performance:!0,dimmerName:!1,variation:!1,closable:"auto",useCSS:!0,transition:"fade",on:!1,opacity:"auto",duration:{show:500,hide:500},onChange:function(){},onShow:function(){},onHide:function(){},error:{method:"The method you called is not defined."},className:{active:"active",animating:"animating",dimmable:"dimmable",dimmed:"dimmed",dimmer:"dimmer",disabled:"disabled",hide:"hide",pageDimmer:"page",show:"show"},selector:{dimmer:"> .ui.dimmer",content:".ui.dimmer > .content, .ui.dimmer > .content > .center"},template:{dimmer:function(){return a("<div />").attr("class","ui dimmer")}}}}(jQuery,window,document),function(a,b,c,d){"use strict";a.fn.dropdown=function(d){var e,f=a(this),g=a(c),h=f.selector||"",i="ontouchstart"in c.documentElement,j=(new Date).getTime(),k=[],l=arguments[0],m="string"==typeof l,n=[].slice.call(arguments,1);return f.each(function(o){var p,q,r,s,t,u,v,w=a.isPlainObject(d)?a.extend(!0,{},a.fn.dropdown.settings,d):a.extend({},a.fn.dropdown.settings),x=w.className,y=w.message,z=w.fields,A=w.keys,B=w.metadata,C=w.namespace,D=w.regExp,E=w.selector,F=w.error,G=w.templates,H="."+C,I="module-"+C,J=a(this),K=a(w.context),L=J.find(E.text),M=J.find(E.search),N=J.find(E.input),O=J.find(E.icon),P=J.prev().find(E.text).length>0?J.prev().find(E.text):J.prev(),Q=J.children(E.menu),R=Q.find(E.item),S=!1,T=!1,U=!1,V=this,W=J.data(I);v={initialize:function(){v.debug("Initializing dropdown",w),v.is.alreadySetup()?v.setup.reference():(v.setup.layout(),v.refreshData(),v.save.defaults(),v.restore.selected(),v.create.id(),v.bind.events(),v.observeChanges(),v.instantiate())},instantiate:function(){v.verbose("Storing instance of dropdown",v),W=v,J.data(I,v)},destroy:function(){v.verbose("Destroying previous dropdown",J),v.remove.tabbable(),J.off(H).removeData(I),Q.off(H),g.off(r),t&&t.disconnect(),u&&u.disconnect()},observeChanges:function(){"MutationObserver"in b&&(t=new MutationObserver(function(a){v.debug("<select> modified, recreating menu"),v.setup.select()}),u=new MutationObserver(function(a){v.debug("Menu modified, updating selector cache"),v.refresh()}),v.has.input()&&t.observe(N[0],{childList:!0,subtree:!0}),v.has.menu()&&u.observe(Q[0],{childList:!0,subtree:!0}),v.debug("Setting up mutation observer",t,u))},create:{id:function(){s=(Math.random().toString(16)+"000000000").substr(2,8),r="."+s,v.verbose("Creating unique id for element",s)},userChoice:function(b){var c,d,e;return!!(b=b||v.get.userValues())&&(b=a.isArray(b)?b:[b],a.each(b,function(b,f){!1===v.get.item(f)&&(e=w.templates.addition(v.add.variables(y.addResult,f)),d=a("<div />").html(e).attr("data-"+B.value,f).attr("data-"+B.text,f).addClass(x.addition).addClass(x.item),c=void 0===c?d:c.add(d),v.verbose("Creating user choices for value",f,d))}),c)},userLabels:function(b){var c=v.get.userValues();c&&(v.debug("Adding user labels",c),a.each(c,function(a,b){v.verbose("Adding custom user value"),v.add.label(b,b)}))},menu:function(){Q=a("<div />").addClass(x.menu).appendTo(J)}},search:function(a){a=void 0!==a?a:v.get.query(),v.verbose("Searching for query",a),v.filter(a)},select:{firstUnfiltered:function(){v.verbose("Selecting first non-filtered element"),v.remove.selectedItem(),R.not(E.unselectable).eq(0).addClass(x.selected)},nextAvailable:function(a){a=a.eq(0);var b=a.nextAll(E.item).not(E.unselectable).eq(0),c=a.prevAll(E.item).not(E.unselectable).eq(0);b.length>0?(v.verbose("Moving selection to",b),b.addClass(x.selected)):(v.verbose("Moving selection to",c),c.addClass(x.selected))}},setup:{api:function(){var a={debug:w.debug,on:!1};v.verbose("First request, initializing API"),J.api(a)},layout:function(){J.is("select")&&(v.setup.select(),v.setup.returnedObject()),v.has.menu()||v.create.menu(),v.is.search()&&!v.has.search()&&(v.verbose("Adding search input"),M=a("<input />").addClass(x.search).prop("autocomplete","off").insertBefore(L)),w.allowTab&&v.set.tabbable()},select:function(){var b=v.get.selectValues();v.debug("Dropdown initialized on a select",b),J.is("select")&&(N=J),N.parent(E.dropdown).length>0?(v.debug("UI dropdown already exists. Creating dropdown menu only"),J=N.closest(E.dropdown),v.has.menu()||v.create.menu(),Q=J.children(E.menu),v.setup.menu(b)):(v.debug("Creating entire dropdown from select"),J=a("<div />").attr("class",N.attr("class")).addClass(x.selection).addClass(x.dropdown).html(G.dropdown(b)).insertBefore(N),N.hasClass(x.multiple)&&!1===N.prop("multiple")&&(v.error(F.missingMultiple),N.prop("multiple",!0)),N.is("[multiple]")&&v.set.multiple(),N.prop("disabled")&&(v.debug("Disabling dropdown"),J.addClass(x.disabled)),N.removeAttr("class").detach().prependTo(J)),v.refresh()},menu:function(a){Q.html(G.menu(a,z)),R=Q.find(E.item)},reference:function(){v.debug("Dropdown behavior was called on select, replacing with closest dropdown"),J=J.parent(E.dropdown),v.refresh(),v.setup.returnedObject(),m&&(W=v,v.invoke(l))},returnedObject:function(){var a=f.slice(0,o),b=f.slice(o+1);f=a.add(J).add(b)}},refresh:function(){v.refreshSelectors(),v.refreshData()},refreshSelectors:function(){v.verbose("Refreshing selector cache"),L=J.find(E.text),M=J.find(E.search),N=J.find(E.input),O=J.find(E.icon),P=J.prev().find(E.text).length>0?J.prev().find(E.text):J.prev(),Q=J.children(E.menu),R=Q.find(E.item)},refreshData:function(){v.verbose("Refreshing cached metadata"),R.removeData(B.text).removeData(B.value),J.removeData(B.defaultText).removeData(B.defaultValue).removeData(B.placeholderText)},toggle:function(){v.verbose("Toggling menu visibility"),v.is.active()?v.hide():v.show()},show:function(b){if(b=a.isFunction(b)?b:function(){},v.can.show()&&!v.is.active()){if(v.debug("Showing dropdown"),v.is.multiple()&&!v.has.search()&&v.is.allFiltered())return!0;!v.has.message()||v.has.maxSelections()||v.has.allResultsFiltered()||v.remove.message(),!1!==w.onShow.call(V)&&v.animate.show(function(){v.can.click()&&v.bind.intent(),v.set.visible(),b.call(V)})}},hide:function(b){b=a.isFunction(b)?b:function(){},v.is.active()&&(v.debug("Hiding dropdown"),!1!==w.onHide.call(V)&&v.animate.hide(function(){v.remove.visible(),b.call(V)}))},hideOthers:function(){v.verbose("Finding other dropdowns to hide"),f.not(J).has(E.menu+"."+x.visible).dropdown("hide")},hideMenu:function(){v.verbose("Hiding menu  instantaneously"),v.remove.active(),v.remove.visible(),Q.transition("hide")},hideSubMenus:function(){var a=Q.children(E.item).find(E.menu);v.verbose("Hiding sub menus",a),a.transition("hide")},bind:{events:function(){i&&v.bind.touchEvents(),v.bind.keyboardEvents(),v.bind.inputEvents(),v.bind.mouseEvents()},touchEvents:function(){v.debug("Touch device detected binding additional touch events"),v.is.searchSelection()||v.is.single()&&J.on("touchstart"+H,v.event.test.toggle),Q.on("touchstart"+H,E.item,v.event.item.mouseenter)},keyboardEvents:function(){v.verbose("Binding keyboard events"),J.on("keydown"+H,v.event.keydown),v.has.search()&&J.on(v.get.inputEvent()+H,E.search,v.event.input),v.is.multiple()&&g.on("keydown"+r,v.event.document.keydown)},inputEvents:function(){v.verbose("Binding input change events"),J.on("change"+H,E.input,v.event.change)},mouseEvents:function(){v.verbose("Binding mouse events"),v.is.multiple()&&J.on("click"+H,E.label,v.event.label.click).on("click"+H,E.remove,v.event.remove.click),v.is.searchSelection()?(J.on("mousedown"+H,E.menu,v.event.menu.mousedown).on("mouseup"+H,E.menu,v.event.menu.mouseup).on("click"+H,E.icon,v.event.icon.click).on("click"+H,E.search,v.show).on("focus"+H,E.search,v.event.search.focus).on("blur"+H,E.search,v.event.search.blur).on("click"+H,E.text,v.event.text.focus),v.is.multiple()&&J.on("click"+H,v.event.click)):("click"==w.on?J.on("click"+H,E.icon,v.event.icon.click).on("click"+H,v.event.test.toggle):"hover"==w.on?J.on("mouseenter"+H,v.delay.show).on("mouseleave"+H,v.delay.hide):J.on(w.on+H,v.toggle),J.on("mousedown"+H,v.event.mousedown).on("mouseup"+H,v.event.mouseup).on("focus"+H,v.event.focus).on("blur"+H,v.event.blur)),Q.on("mouseenter"+H,E.item,v.event.item.mouseenter).on("mouseleave"+H,E.item,v.event.item.mouseleave).on("click"+H,E.item,v.event.item.click)},intent:function(){v.verbose("Binding hide intent event to document"),i&&g.on("touchstart"+r,v.event.test.touch).on("touchmove"+r,v.event.test.touch),g.on("click"+r,v.event.test.hide)}},unbind:{intent:function(){v.verbose("Removing hide intent event from document"),i&&g.off("touchstart"+r).off("touchmove"+r),g.off("click"+r)}},filter:function(a){var b=void 0!==a?a:v.get.query(),c=function(){v.is.multiple()&&v.filterActive(),v.select.firstUnfiltered(),v.has.allResultsFiltered()?w.onNoResults.call(V,b)?w.allowAdditions||(v.verbose("All items filtered, showing message",b),v.add.message(y.noResults)):(v.verbose("All items filtered, hiding dropdown",b),v.hideMenu()):v.remove.message(),w.allowAdditions&&v.add.userSuggestion(a),v.is.searchSelection()&&v.can.show()&&v.is.focusedOnSearch()&&v.show()};w.useLabels&&v.has.maxSelections()||(w.apiSettings?v.can.useAPI()?v.queryRemote(b,function(){c()}):v.error(F.noAPI):(v.filterItems(b),c()))},queryRemote:function(b,c){var d={errorDuration:!1,throttle:w.throttle,urlData:{query:b},onError:function(){v.add.message(y.serverError),c()},onFailure:function(){v.add.message(y.serverError),c()},onSuccess:function(a){v.remove.message(),v.setup.menu({values:a[z.remoteValues]}),c()}};J.api("get request")||v.setup.api(),d=a.extend(!0,{},d,w.apiSettings),J.api("setting",d).api("query")},filterItems:function(b){var c=void 0!==b?b:v.get.query(),d=null,e=v.escape.regExp(c),f=new RegExp("^"+e,"igm");v.has.query()&&(d=[],v.verbose("Searching for matching values",c),R.each(function(){var b,e,g=a(this);if("both"==w.match||"text"==w.match){if(b=String(v.get.choiceText(g,!1)),-1!==b.search(f))return d.push(this),!0;if(w.fullTextSearch&&v.fuzzySearch(c,b))return d.push(this),!0}if("both"==w.match||"value"==w.match){if(e=String(v.get.choiceValue(g,b)),-1!==e.search(f))return d.push(this),!0;if(w.fullTextSearch&&v.fuzzySearch(c,e))return d.push(this),!0}})),v.debug("Showing only matched items",c),v.remove.filteredItem(),d&&R.not(d).addClass(x.filtered)},fuzzySearch:function(a,b){var c=b.length,d=a.length;if(a=a.toLowerCase(),b=b.toLowerCase(),d>c)return!1;if(d===c)return a===b;a:for(var e=0,f=0;e<d;e++){for(var g=a.charCodeAt(e);f<c;)if(b.charCodeAt(f++)===g)continue a;return!1}return!0},filterActive:function(){w.useLabels&&R.filter("."+x.active).addClass(x.filtered)},focusSearch:function(){v.is.search()&&!v.is.focusedOnSearch()&&M[0].focus()},forceSelection:function(){var a=R.not(x.filtered).filter("."+x.selected).eq(0),b=R.not(x.filtered).filter("."+x.active).eq(0),c=a.length>0?a:b,d=c.size()>0;if(v.has.query()){if(d)return v.debug("Forcing partial selection to selected item",c),void v.event.item.click.call(c);v.remove.searchTerm()}v.hide()},event:{change:function(){U||(v.debug("Input changed, updating selection"),v.set.selected())},focus:function(){w.showOnFocus&&!S&&v.is.hidden()&&!q&&v.show()},click:function(b){a(b.target).is(J)&&!v.is.focusedOnSearch()&&v.focusSearch()},blur:function(a){q=c.activeElement===this,S||q||(v.remove.activeLabel(),v.hide())},mousedown:function(){S=!0},mouseup:function(){S=!1},search:{focus:function(){S=!0,v.is.multiple()&&v.remove.activeLabel(),w.showOnFocus&&(v.search(),v.show())},blur:function(a){q=c.activeElement===this,T||q?q&&w.forceSelection&&v.forceSelection():v.is.multiple()?(v.remove.activeLabel(),v.hide()):w.forceSelection?v.forceSelection():v.hide()}},icon:{click:function(a){v.toggle(),a.stopPropagation()}},text:{focus:function(a){S=!0,v.focusSearch()}},input:function(a){(v.is.multiple()||v.is.searchSelection())&&v.set.filtered(),clearTimeout(v.timer),v.timer=setTimeout(v.search,w.delay.search)},label:{click:function(b){var c=a(this),d=J.find(E.label),e=d.filter("."+x.active),f=c.nextAll("."+x.active),g=c.prevAll("."+x.active),h=f.length>0?c.nextUntil(f).add(e).add(c):c.prevUntil(g).add(e).add(c);b.shiftKey?(e.removeClass(x.active),h.addClass(x.active)):b.ctrlKey?c.toggleClass(x.active):(e.removeClass(x.active),c.addClass(x.active)),w.onLabelSelect.apply(this,d.filter("."+x.active))}},remove:{click:function(){var b=a(this).parent();b.hasClass(x.active)?v.remove.activeLabels():v.remove.activeLabels(b)}},test:{toggle:function(a){var b=v.is.multiple()?v.show:v.toggle;v.determine.eventOnElement(a,b)&&a.preventDefault()},touch:function(a){v.determine.eventOnElement(a,function(){"touchstart"==a.type?v.timer=setTimeout(function(){v.hide()},w.delay.touch):"touchmove"==a.type&&clearTimeout(v.timer)}),a.stopPropagation()},hide:function(a){v.determine.eventInModule(a,v.hide)}},menu:{mousedown:function(){T=!0},mouseup:function(){T=!1}},item:{mouseenter:function(b){var c=a(this).children(E.menu),d=a(this).siblings(E.item).children(E.menu);c.length>0&&(clearTimeout(v.itemTimer),v.itemTimer=setTimeout(function(){v.verbose("Showing sub-menu",c),a.each(d,function(){v.animate.hide(!1,a(this))}),v.animate.show(!1,c)},w.delay.show),b.preventDefault())},mouseleave:function(b){var c=a(this).children(E.menu);c.length>0&&(clearTimeout(v.itemTimer),v.itemTimer=setTimeout(function(){v.verbose("Hiding sub-menu",c),v.animate.hide(!1,c)},w.delay.hide))},touchend:function(){},click:function(b){var c=a(this),d=a(b?b.target:""),e=c.find(E.menu),f=v.get.choiceText(c),g=v.get.choiceValue(c,f),h=e.length>0;e.find(d).length>0||h&&!w.allowCategorySelection||(w.useLabels||(v.remove.filteredItem(),v.remove.searchTerm(),v.set.scrollPosition(c)),v.determine.selectAction.call(this,f,g))}},document:{keydown:function(a){var b=a.which
;if(v.is.inObject(b,A)){var c=J.find(E.label),d=c.filter("."+x.active),e=(d.data(B.value),c.index(d)),f=c.length,g=d.length>0,h=d.length>1,i=0===e,j=e+1==f,k=v.is.searchSelection(),l=v.is.focusedOnSearch(),m=v.is.focused(),n=l&&0===v.get.caretPosition();if(k&&!g&&!l)return;b==A.leftArrow?!m&&!n||g?g&&(a.shiftKey?v.verbose("Adding previous label to selection"):(v.verbose("Selecting previous label"),c.removeClass(x.active)),i&&!h?d.addClass(x.active):d.prev(E.siblingLabel).addClass(x.active).end(),a.preventDefault()):(v.verbose("Selecting previous label"),c.last().addClass(x.active)):b==A.rightArrow?(m&&!g&&c.first().addClass(x.active),g&&(a.shiftKey?v.verbose("Adding next label to selection"):(v.verbose("Selecting next label"),c.removeClass(x.active)),j?k?l?c.removeClass(x.active):v.focusSearch():h?d.next(E.siblingLabel).addClass(x.active):d.addClass(x.active):d.next(E.siblingLabel).addClass(x.active),a.preventDefault())):b==A.deleteKey||b==A.backspace?g?(v.verbose("Removing active labels"),j&&k&&!l&&v.focusSearch(),d.last().next(E.siblingLabel).addClass(x.active),v.remove.activeLabels(d),a.preventDefault()):n&&!g&&b==A.backspace&&(v.verbose("Removing last label on input backspace"),d=c.last().addClass(x.active),v.remove.activeLabels(d)):d.removeClass(x.active)}}},keydown:function(a){var b=a.which;if(v.is.inObject(b,A)){var c,d=R.not(E.unselectable).filter("."+x.selected).eq(0),e=Q.children("."+x.active).eq(0),f=d.length>0?d:e,g=f.length>0?f.siblings(":not(."+x.filtered+")").andSelf():Q.children(":not(."+x.filtered+")"),h=f.children(E.menu),i=f.closest(E.menu),j=i.hasClass(x.visible)||i.hasClass(x.animating)||i.parent(E.menu).length>0,k=h.length>0,l=f.length>0,m=f.not(E.unselectable).length>0,n=b==A.delimiter&&w.allowAdditions&&v.is.multiple();if(v.is.visible()){if((b==A.enter||n)&&(b==A.enter&&l&&k&&!w.allowCategorySelection?(v.verbose("Pressed enter on unselectable category, opening sub menu"),b=A.rightArrow):m&&(v.verbose("Selecting item from keyboard shortcut",f),v.event.item.click.call(f,a),v.is.searchSelection()&&v.remove.searchTerm()),a.preventDefault()),b==A.leftArrow&&i[0]!==Q[0]&&(v.verbose("Left key pressed, closing sub-menu"),v.animate.hide(!1,i),f.removeClass(x.selected),i.closest(E.item).addClass(x.selected),a.preventDefault()),b==A.rightArrow&&k&&(v.verbose("Right key pressed, opening sub-menu"),v.animate.show(!1,h),f.removeClass(x.selected),h.find(E.item).eq(0).addClass(x.selected),a.preventDefault()),b==A.upArrow){if(c=l&&j?f.prevAll(E.item+":not("+E.unselectable+")").eq(0):R.eq(0),g.index(c)<0)return v.verbose("Up key pressed but reached top of current menu"),void a.preventDefault();v.verbose("Up key pressed, changing active item"),f.removeClass(x.selected),c.addClass(x.selected),v.set.scrollPosition(c),a.preventDefault()}if(b==A.downArrow){if(c=l&&j?c=f.nextAll(E.item+":not("+E.unselectable+")").eq(0):R.eq(0),0===c.length)return v.verbose("Down key pressed but reached bottom of current menu"),void a.preventDefault();v.verbose("Down key pressed, changing active item"),R.removeClass(x.selected),c.addClass(x.selected),v.set.scrollPosition(c),a.preventDefault()}b==A.pageUp&&(v.scrollPage("up"),a.preventDefault()),b==A.pageDown&&(v.scrollPage("down"),a.preventDefault()),b==A.escape&&(v.verbose("Escape key pressed, closing dropdown"),v.hide())}else n&&a.preventDefault(),b==A.downArrow&&(v.verbose("Down key pressed, showing dropdown"),v.show(),a.preventDefault())}else v.is.selection()&&!v.is.search()&&v.set.selectedLetter(String.fromCharCode(b))}},trigger:{change:function(){var a=c.createEvent("HTMLEvents"),b=N[0];b&&(v.verbose("Triggering native change event"),a.initEvent("change",!0,!1),b.dispatchEvent(a))}},determine:{selectAction:function(b,c){v.verbose("Determining action",w.action),a.isFunction(v.action[w.action])?(v.verbose("Triggering preset action",w.action,b,c),v.action[w.action].call(this,b,c)):a.isFunction(w.action)?(v.verbose("Triggering user action",w.action,b,c),w.action.call(this,b,c)):v.error(F.action,w.action)},eventInModule:function(b,d){var e=a(b.target),f=e.closest(c.documentElement).length>0,g=e.closest(J).length>0;return d=a.isFunction(d)?d:function(){},f&&!g?(v.verbose("Triggering event",d),d(),!0):(v.verbose("Event occurred in dropdown, canceling callback"),!1)},eventOnElement:function(b,c){var d=a(b.target),e=d.closest(E.siblingLabel),f=0===J.find(e).length,g=0===d.closest(Q).length;return c=a.isFunction(c)?c:function(){},f&&g?(v.verbose("Triggering event",c),c(),!0):(v.verbose("Event occurred in dropdown menu, canceling callback"),!1)}},action:{nothing:function(){},activate:function(b,c){if(c=void 0!==c?c:b,v.can.activate(a(this))){if(v.set.selected(c,a(this)),v.is.multiple()&&!v.is.allFiltered())return;v.hideAndClear()}},select:function(a,b){v.action.activate.call(this)},combo:function(b,c){c=void 0!==c?c:b,v.set.selected(c,a(this)),v.hideAndClear()},hide:function(a,b){v.set.value(b),v.hideAndClear()}},get:{id:function(){return s},defaultText:function(){return J.data(B.defaultText)},defaultValue:function(){return J.data(B.defaultValue)},placeholderText:function(){return J.data(B.placeholderText)||""},text:function(){return L.text()},query:function(){return a.trim(M.val())},searchWidth:function(a){return a*w.glyphWidth+"em"},selectionCount:function(){var b=v.get.values();return v.is.multiple()?a.isArray(b)?b.length:0:""!==v.get.value()?1:0},transition:function(a){return"auto"==w.transition?v.is.upward(a)?"slide up":"slide down":w.transition},userValues:function(){var b=v.get.values();return!!b&&(b=a.isArray(b)?b:[b],a.grep(b,function(a){return!1===v.get.item(a)}))},uniqueArray:function(b){return a.grep(b,function(c,d){return a.inArray(c,b)===d})},caretPosition:function(){var a,b,d=M.get(0);return"selectionStart"in d?d.selectionStart:c.selection?(d.focus(),a=c.selection.createRange(),b=a.text.length,a.moveStart("character",-d.value.length),a.text.length-b):void 0},value:function(){var b=N.length>0?N.val():J.data(B.value);return a.isArray(b)&&1===b.length&&""===b[0]?"":b},values:function(){var a=v.get.value();return""===a?"":!v.has.selectInput()&&v.is.multiple()?"string"==typeof a?a.split(w.delimiter):"":a},remoteValues:function(){var b=v.get.values(),c=!1;return b&&("string"==typeof b&&(b=[b]),c={},a.each(b,function(a,b){var d=v.read.remoteData(b);v.verbose("Restoring value from session data",d,b),c[b]=d||b})),c},choiceText:function(b,c){if(c=void 0!==c?c:w.preserveHTML,b)return b.find(E.menu).length>0&&(v.verbose("Retreiving text of element with sub-menu"),b=b.clone(),b.find(E.menu).remove(),b.find(E.menuIcon).remove()),void 0!==b.data(B.text)?b.data(B.text):c?a.trim(b.html()):a.trim(b.text())},choiceValue:function(b,c){return c=c||v.get.choiceText(b),!!b&&(void 0!==b.data(B.value)?String(b.data(B.value)):"string"==typeof c?a.trim(c.toLowerCase()):String(c))},inputEvent:function(){var a=M[0];return!!a&&(void 0!==a.oninput?"input":void 0!==a.onpropertychange?"propertychange":"keyup")},selectValues:function(){var b={};return b.values=[],J.find("option").each(function(){var c=a(this),d=c.html(),e=c.attr("disabled"),f=void 0!==c.attr("value")?c.attr("value"):d;"auto"===w.placeholder&&""===f?b.placeholder=d:b.values.push({name:d,value:f,disabled:e})}),w.placeholder&&"auto"!==w.placeholder&&(v.debug("Setting placeholder value to",w.placeholder),b.placeholder=w.placeholder),w.sortSelect?(b.values.sort(function(a,b){return a.name>b.name?1:-1}),v.debug("Retrieved and sorted values from select",b)):v.debug("Retreived values from select",b),b},activeItem:function(){return R.filter("."+x.active)},selectedItem:function(){var a=R.not(E.unselectable).filter("."+x.selected);return a.length>0?a:R.eq(0)},itemWithAdditions:function(a){var b=v.get.item(a),c=v.create.userChoice(a);return c&&c.length>0&&(b=b.length>0?b.add(c):c),b},item:function(b,c){var d,e,f=!1;return b=void 0!==b?b:void 0!==v.get.values()?v.get.values():v.get.text(),d=e?b.length>0:void 0!==b&&null!==b,e=v.is.multiple()&&a.isArray(b),c=""===b||0===b||(c||!1),d&&R.each(function(){var d=a(this),g=v.get.choiceText(d),h=v.get.choiceValue(d,g);if(null!==h&&void 0!==h)if(e)-1===a.inArray(String(h),b)&&-1===a.inArray(g,b)||(f=f?f.add(d):d);else if(c){if(v.verbose("Ambiguous dropdown value using strict type check",d,b),h===b||g===b)return f=d,!0}else if(String(h)==String(b)||g==b)return v.verbose("Found select item by value",h,b),f=d,!0}),f}},check:{maxSelections:function(a){return!w.maxSelections||(a=void 0!==a?a:v.get.selectionCount(),a>=w.maxSelections?(v.debug("Maximum selection count reached"),w.useLabels&&(R.addClass(x.filtered),v.add.message(y.maxSelections)),!0):(v.verbose("No longer at maximum selection count"),v.remove.message(),v.remove.filteredItem(),v.is.searchSelection()&&v.filterItems(),!1))}},restore:{defaults:function(){v.clear(),v.restore.defaultText(),v.restore.defaultValue()},defaultText:function(){var a=v.get.defaultText();a===v.get.placeholderText?(v.debug("Restoring default placeholder text",a),v.set.placeholderText(a)):(v.debug("Restoring default text",a),v.set.text(a))},defaultValue:function(){var a=v.get.defaultValue();void 0!==a&&(v.debug("Restoring default value",a),""!==a?(v.set.value(a),v.set.selected()):(v.remove.activeItem(),v.remove.selectedItem()))},labels:function(){w.allowAdditions&&(w.useLabels||(v.error(F.labels),w.useLabels=!0),v.debug("Restoring selected values"),v.create.userLabels()),v.check.maxSelections()},selected:function(){v.restore.values(),v.is.multiple()?(v.debug("Restoring previously selected values and labels"),v.restore.labels()):v.debug("Restoring previously selected values")},values:function(){v.set.initialLoad(),w.apiSettings?w.saveRemoteData?v.restore.remoteValues():v.clearValue():v.set.selected(),v.remove.initialLoad()},remoteValues:function(){var b=v.get.remoteValues();v.debug("Recreating selected from session data",b),b&&(v.is.single()?a.each(b,function(a,b){v.set.text(b)}):a.each(b,function(a,b){v.add.label(a,b)}))}},read:{remoteData:function(a){var c;return void 0===b.Storage?void v.error(F.noStorage):void 0!==(c=sessionStorage.getItem(a))&&c}},save:{defaults:function(){v.save.defaultText(),v.save.placeholderText(),v.save.defaultValue()},defaultValue:function(){var a=v.get.value();v.verbose("Saving default value as",a),J.data(B.defaultValue,a)},defaultText:function(){var a=v.get.text();v.verbose("Saving default text as",a),J.data(B.defaultText,a)},placeholderText:function(){var a;!1!==w.placeholder&&L.hasClass(x.placeholder)&&(a=v.get.text(),v.verbose("Saving placeholder text as",a),J.data(B.placeholderText,a))},remoteData:function(a,c){if(void 0===b.Storage)return void v.error(F.noStorage);v.verbose("Saving remote data to session storage",c,a),sessionStorage.setItem(c,a)}},clear:function(){v.is.multiple()?v.remove.labels():(v.remove.activeItem(),v.remove.selectedItem()),v.set.placeholderText(),v.clearValue()},clearValue:function(){v.set.value("")},scrollPage:function(a,b){var c,d,e,f=b||v.get.selectedItem(),g=f.closest(E.menu),h=g.outerHeight(),i=g.scrollTop(),j=R.eq(0).outerHeight(),k=Math.floor(h/j),l=(g.prop("scrollHeight"),"up"==a?i-j*k:i+j*k),m=R.not(E.unselectable);e="up"==a?m.index(f)-k:m.index(f)+k,c="up"==a?e>=0:e<m.length,d=c?m.eq(e):"up"==a?m.first():m.last(),d.length>0&&(v.debug("Scrolling page",a,d),f.removeClass(x.selected),d.addClass(x.selected),g.scrollTop(l))},set:{filtered:function(){var a=v.is.multiple(),b=v.is.searchSelection(),c=a&&b,d=b?v.get.query():"",e="string"==typeof d&&d.length>0,f=v.get.searchWidth(d.length),g=""!==d;a&&e&&(v.verbose("Adjusting input width",f,w.glyphWidth),M.css("width",f)),e||c&&g?(v.verbose("Hiding placeholder text"),L.addClass(x.filtered)):(!a||c&&!g)&&(v.verbose("Showing placeholder text"),L.removeClass(x.filtered))},loading:function(){J.addClass(x.loading)},placeholderText:function(a){a=a||v.get.placeholderText(),v.debug("Setting placeholder text",a),v.set.text(a),L.addClass(x.placeholder)},tabbable:function(){v.has.search()?(v.debug("Added tabindex to searchable dropdown"),M.val("").attr("tabindex",0),Q.attr("tabindex",-1)):(v.debug("Added tabindex to dropdown"),void 0===J.attr("tabindex")&&(J.attr("tabindex",0),Q.attr("tabindex",-1)))},initialLoad:function(){v.verbose("Setting initial load"),p=!0},activeItem:function(a){w.allowAdditions&&a.filter(E.addition).length>0?a.addClass(x.filtered):a.addClass(x.active)},scrollPosition:function(a,b){var c,d,e,f,g,h,i,j,k;a=a||v.get.selectedItem(),c=a.closest(E.menu),d=a&&a.length>0,b=void 0!==b&&b,a&&c.length>0&&d&&(f=a.position().top,c.addClass(x.loading),h=c.scrollTop(),g=c.offset().top,f=a.offset().top,e=h-g+f,b||(i=c.height(),k=h+i<e+5,j=e-5<h),v.debug("Scrolling to active item",e),(b||j||k)&&c.scrollTop(e),c.removeClass(x.loading))},text:function(a){"select"!==w.action&&("combo"==w.action?(v.debug("Changing combo button text",a,P),w.preserveHTML?P.html(a):P.text(a)):(a!==v.get.placeholderText()&&L.removeClass(x.placeholder),v.debug("Changing text",a,L),L.removeClass(x.filtered),w.preserveHTML?L.html(a):L.text(a)))},selectedLetter:function(b){var c,d=R.filter("."+x.selected),e=d.length>0&&v.has.firstLetter(d,b),f=!1;e&&(c=d.nextAll(R).eq(0),v.has.firstLetter(c,b)&&(f=c)),f||R.each(function(){if(v.has.firstLetter(a(this),b))return f=a(this),!1}),f&&(v.verbose("Scrolling to next value with letter",b),v.set.scrollPosition(f),d.removeClass(x.selected),f.addClass(x.selected))},direction:function(a){"auto"==w.direction?v.is.onScreen(a)?v.remove.upward(a):v.set.upward(a):"upward"==w.direction&&v.set.upward(a)},upward:function(a){(a||J).addClass(x.upward)},value:function(a,b,c){var d=N.length>0,e=(v.has.value(a),v.get.values()),f=void 0!==a?String(a):a;if(d){if(f==e&&(v.verbose("Skipping value update already same value",a,e),!v.is.initialLoad()))return;v.is.single()&&v.has.selectInput()&&v.can.extendSelect()&&(v.debug("Adding user option",a),v.add.optionValue(a)),v.debug("Updating input value",a,e),U=!0,N.val(a),!1===w.fireOnInit&&v.is.initialLoad()?v.debug("Input native change event ignored on initial load"):v.trigger.change(),U=!1}else v.verbose("Storing value in metadata",a,N),a!==e&&J.data(B.value,f);!1===w.fireOnInit&&v.is.initialLoad()?v.verbose("No callback on initial load",w.onChange):w.onChange.call(V,a,b,c)},active:function(){J.addClass(x.active)},multiple:function(){J.addClass(x.multiple)},visible:function(){J.addClass(x.visible)},exactly:function(a,b){v.debug("Setting selected to exact values"),v.clear(),v.set.selected(a,b)},selected:function(b,c){var d=v.is.multiple();(c=w.allowAdditions?c||v.get.itemWithAdditions(b):c||v.get.item(b))&&(v.debug("Setting selected menu item to",c),v.is.single()?(v.remove.activeItem(),v.remove.selectedItem()):w.useLabels&&v.remove.selectedItem(),c.each(function(){var b=a(this),e=v.get.choiceText(b),f=v.get.choiceValue(b,e),g=b.hasClass(x.filtered),h=b.hasClass(x.active),i=b.hasClass(x.addition),j=d&&1==c.length;d?!h||i?(w.apiSettings&&w.saveRemoteData&&v.save.remoteData(e,f),w.useLabels?(v.add.value(f,e,b),v.add.label(f,e,j),v.set.activeItem(b),v.filterActive(),v.select.nextAvailable(c)):(v.add.value(f,e,b),v.set.text(v.add.variables(y.count)),v.set.activeItem(b))):g||(v.debug("Selected active value, removing label"),v.remove.selected(f)):(w.apiSettings&&w.saveRemoteData&&v.save.remoteData(e,f),v.set.text(e),v.set.value(f,e,b),b.addClass(x.active).addClass(x.selected))}))}},add:{label:function(b,c,d){var e,f=v.is.searchSelection()?M:L;if(e=a("<a />").addClass(x.label).attr("data-value",b).html(G.label(b,c)),e=w.onLabelCreate.call(e,b,c),v.has.label(b))return void v.debug("Label already exists, skipping",b);w.label.variation&&e.addClass(w.label.variation),!0===d?(v.debug("Animating in label",e),e.addClass(x.hidden).insertBefore(f).transition(w.label.transition,w.label.duration)):(v.debug("Adding selection label",e),e.insertBefore(f))},message:function(b){var c=Q.children(E.message),d=w.templates.message(v.add.variables(b));c.length>0?c.html(d):c=a("<div/>").html(d).addClass(x.message).appendTo(Q)},optionValue:function(b){N.find('option[value="'+b+'"]').length>0||(t&&(t.disconnect(),v.verbose("Temporarily disconnecting mutation observer",b)),v.is.single()&&(v.verbose("Removing previous user addition"),N.find("option."+x.addition).remove()),a("<option/>").prop("value",b).addClass(x.addition).html(b).appendTo(N),v.verbose("Adding user addition as an <option>",b),t&&t.observe(N[0],{childList:!0,subtree:!0}))},userSuggestion:function(a){var b,c=Q.children(E.addition),d=v.get.item(a),e=d&&d.not(E.addition).length,f=c.length>0;if(!w.useLabels||!v.has.maxSelections()){if(""===a||e)return void c.remove();R.removeClass(x.selected),f?(b=w.templates.addition(v.add.variables(y.addResult,a)),c.html(b).attr("data-"+B.value,a).attr("data-"+B.text,a).removeClass(x.filtered).addClass(x.selected),v.verbose("Replacing user suggestion with new value",c)):(c=v.create.userChoice(a),c.prependTo(Q).addClass(x.selected),v.verbose("Adding item choice to menu corresponding with user choice addition",c))}},variables:function(a,b){var c,d,e=-1!==a.search("{count}"),f=-1!==a.search("{maxCount}"),g=-1!==a.search("{term}");return v.verbose("Adding templated variables to message",a),e&&(c=v.get.selectionCount(),a=a.replace("{count}",c)),f&&(c=v.get.selectionCount(),a=a.replace("{maxCount}",w.maxSelections)),g&&(d=b||v.get.query(),a=a.replace("{term}",d)),a},value:function(b,c,d){var e,f=v.get.values();if(""===b)return void v.debug("Cannot select blank values from multiselect");a.isArray(f)?(e=f.concat([b]),e=v.get.uniqueArray(e)):e=[b],v.has.selectInput()?v.can.extendSelect()&&(v.debug("Adding value to select",b,e,N),v.add.optionValue(b)):(e=e.join(w.delimiter),v.debug("Setting hidden input to delimited value",e,N)),!1===w.fireOnInit&&v.is.initialLoad()?v.verbose("Skipping onadd callback on initial load",w.onAdd):w.onAdd.call(V,b,c,d),v.set.value(e,b,c,d),v.check.maxSelections()}},remove:{active:function(){J.removeClass(x.active)},activeLabel:function(){J.find(E.label).removeClass(x.active)},loading:function(){J.removeClass(x.loading)},initialLoad:function(){p=!1},upward:function(a){(a||J).removeClass(x.upward)},visible:function(){J.removeClass(x.visible)},activeItem:function(){R.removeClass(x.active)},filteredItem:function(){w.useLabels&&v.has.maxSelections()||(w.useLabels&&v.is.multiple()?R.not("."+x.active).removeClass(x.filtered):R.removeClass(x.filtered))},optionValue:function(a){var b=N.find('option[value="'+a+'"]');b.length>0&&b.hasClass(x.addition)&&(t&&(t.disconnect(),v.verbose("Temporarily disconnecting mutation observer",a)),b.remove(),v.verbose("Removing user addition as an <option>",a),t&&t.observe(N[0],{childList:!0,subtree:!0}))},message:function(){Q.children(E.message).remove()},searchTerm:function(){v.verbose("Cleared search term"),M.val(""),v.set.filtered()},selected:function(b,c){if(!(c=w.allowAdditions?c||v.get.itemWithAdditions(b):c||v.get.item(b)))return!1;c.each(function(){var b=a(this),c=v.get.choiceText(b),d=v.get.choiceValue(b,c);v.is.multiple()?w.useLabels?(v.remove.value(d,c,b),v.remove.label(d)):(v.remove.value(d,c,b),0===v.get.selectionCount()?v.set.placeholderText():v.set.text(v.add.variables(y.count))):v.remove.value(d,c,b),b.removeClass(x.filtered).removeClass(x.active),w.useLabels&&b.removeClass(x.selected)})},selectedItem:function(){R.removeClass(x.selected)},value:function(a,b,c){var d,e=v.get.values();v.has.selectInput()?(v.verbose("Input is <select> removing selected option",a),d=v.remove.arrayValue(a,e),v.remove.optionValue(a)):(v.verbose("Removing from delimited values",a),d=v.remove.arrayValue(a,e),d=d.join(w.delimiter)),!1===w.fireOnInit&&v.is.initialLoad()?v.verbose("No callback on initial load",w.onRemove):w.onRemove.call(V,a,b,c),v.set.value(d,b,c),v.check.maxSelections()},arrayValue:function(b,c){return a.isArray(c)||(c=[c]),c=a.grep(c,function(a){return b!=a}),v.verbose("Removed value from delimited string",b,c),c},label:function(a,b){var c=J.find(E.label),d=c.filter('[data-value="'+a+'"]');v.verbose("Removing label",d),d.remove()},activeLabels:function(a){a=a||J.find(E.label).filter("."+x.active),v.verbose("Removing active label selections",a),v.remove.labels(a)},labels:function(b){b=b||J.find(E.label),v.verbose("Removing labels",b),b.each(function(){var b=a(this),c=b.data(B.value),d=void 0!==c?String(c):c,e=v.is.userValue(d);if(!1===w.onLabelRemove.call(b,c))return void v.debug("Label remove callback cancelled removal");e?(v.remove.value(d),v.remove.label(d)):v.remove.selected(d)})},tabbable:function(){v.has.search()?(v.debug("Searchable dropdown initialized"),M.removeAttr("tabindex"),Q.removeAttr("tabindex")):(v.debug("Simple selection dropdown initialized"),J.removeAttr("tabindex"),Q.removeAttr("tabindex"))}},has:{search:function(){return M.length>0},selectInput:function(){return N.is("select")},firstLetter:function(a,b){var c,d;return!(!a||0===a.length||"string"!=typeof b)&&(c=v.get.choiceText(a,!1),b=b.toLowerCase(),d=String(c).charAt(0).toLowerCase(),b==d)},input:function(){return N.length>0},items:function(){return R.length>0},menu:function(){return Q.length>0},message:function(){return 0!==Q.children(E.message).length},label:function(a){return J.find(E.label).filter('[data-value="'+a+'"]').length>0},maxSelections:function(){return w.maxSelections&&v.get.selectionCount()>=w.maxSelections},allResultsFiltered:function(){return R.filter(E.unselectable).length===R.length},query:function(){return""!==v.get.query()},value:function(b){var c=v.get.values();return!!(a.isArray(c)?c&&-1!==a.inArray(b,c):c==b)}},is:{active:function(){return J.hasClass(x.active)},alreadySetup:function(){return J.is("select")&&J.parent(E.dropdown).length>0&&0===J.prev().length},animating:function(a){return a?a.transition&&a.transition("is animating"):Q.transition&&Q.transition("is animating")},disabled:function(){return J.hasClass(x.disabled)},focused:function(){return c.activeElement===J[0]},focusedOnSearch:function(){return c.activeElement===M[0]},allFiltered:function(){return(v.is.multiple()||v.has.search())&&!v.has.message()&&v.has.allResultsFiltered()},hidden:function(a){return!v.is.visible(a)},initialLoad:function(){return p},onScreen:function(a){var b,c=a||Q,d=!0,e={};return c.addClass(x.loading),b={context:{scrollTop:K.scrollTop(),height:K.outerHeight()},menu:{offset:c.offset(),height:c.outerHeight()}},e={above:b.context.scrollTop<=b.menu.offset.top-b.menu.height,below:b.context.scrollTop+b.context.height>=b.menu.offset.top+b.menu.height},e.below?(v.verbose("Dropdown can fit in context downward",e),d=!0):e.below||e.above?(v.verbose("Dropdown cannot fit below, opening upward",e),d=!1):(v.verbose("Dropdown cannot fit in either direction, favoring downward",e),d=!0),c.removeClass(x.loading),d},inObject:function(b,c){var d=!1;return a.each(c,function(a,c){if(c==b)return d=!0,!0}),d},multiple:function(){return J.hasClass(x.multiple)},single:function(){return!v.is.multiple()},selectMutation:function(b){var c=!1;return a.each(b,function(b,d){if(d.target&&a(d.target).is("select"))return c=!0,!0}),c},search:function(){return J.hasClass(x.search)},searchSelection:function(){return v.has.search()&&1===M.parent(E.dropdown).length},selection:function(){return J.hasClass(x.selection)},userValue:function(b){return-1!==a.inArray(b,v.get.userValues())},upward:function(a){return(a||J).hasClass(x.upward)},visible:function(a){return a?a.hasClass(x.visible):Q.hasClass(x.visible)}},can:{activate:function(a){return!!w.useLabels||(!v.has.maxSelections()||!(!v.has.maxSelections()||!a.hasClass(x.active)))},click:function(){return i||"click"==w.on},extendSelect:function(){return w.allowAdditions||w.apiSettings},show:function(){return!v.is.disabled()&&(v.has.items()||v.has.message())},useAPI:function(){return void 0!==a.fn.api}},animate:{show:function(b,c){var d,e=c||Q,f=c?function(){}:function(){v.hideSubMenus(),v.hideOthers(),v.set.active()};b=a.isFunction(b)?b:function(){},v.verbose("Doing menu show animation",e),v.set.direction(c),d=v.get.transition(c),v.is.selection()&&v.set.scrollPosition(v.get.selectedItem(),!0),(v.is.hidden(e)||v.is.animating(e))&&("none"==d?(f(),e.transition("show"),b.call(V)):void 0!==a.fn.transition&&J.transition("is supported")?e.transition({animation:d+" in",debug:w.debug,verbose:w.verbose,duration:w.duration,queue:!0,onStart:f,onComplete:function(){b.call(V)}}):v.error(F.noTransition,d))},hide:function(b,c){var d=c||Q,e=(c?w.duration:w.duration,c?function(){}:function(){v.can.click()&&v.unbind.intent(),v.remove.active()}),f=v.get.transition(c);b=a.isFunction(b)?b:function(){},(v.is.visible(d)||v.is.animating(d))&&(v.verbose("Doing menu hide animation",d),"none"==f?(e(),d.transition("hide"),b.call(V)):void 0!==a.fn.transition&&J.transition("is supported")?d.transition({animation:f+" out",duration:w.duration,debug:w.debug,verbose:w.verbose,queue:!0,onStart:e,onComplete:function(){"auto"==w.direction&&v.remove.upward(c),b.call(V)}}):v.error(F.transition))}},hideAndClear:function(){v.remove.searchTerm(),v.has.maxSelections()||(v.has.search()?v.hide(function(){v.remove.filteredItem()}):v.hide())},delay:{show:function(){v.verbose("Delaying show event to ensure user intent"),clearTimeout(v.timer),v.timer=setTimeout(v.show,w.delay.show)},hide:function(){v.verbose("Delaying hide event to ensure user intent"),clearTimeout(v.timer),v.timer=setTimeout(v.hide,w.delay.hide)}},escape:{regExp:function(a){return a=String(a),a.replace(D.escape,"\\$&")}},setting:function(b,c){if(v.debug("Changing setting",b,c),a.isPlainObject(b))a.extend(!0,w,b);else{if(void 0===c)return w[b];w[b]=c}},internal:function(b,c){if(a.isPlainObject(b))a.extend(!0,v,b);else{if(void 0===c)return v[b];v[b]=c}},debug:function(){w.debug&&(w.performance?v.performance.log(arguments):(v.debug=Function.prototype.bind.call(console.info,console,w.name+":"),v.debug.apply(console,arguments)))},verbose:function(){w.verbose&&w.debug&&(w.performance?v.performance.log(arguments):(v.verbose=Function.prototype.bind.call(console.info,console,w.name+":"),v.verbose.apply(console,arguments)))},error:function(){v.error=Function.prototype.bind.call(console.error,console,w.name+":"),v.error.apply(console,arguments)},performance:{log:function(a){var b,c,d;w.performance&&(b=(new Date).getTime(),d=j||b,c=b-d,j=b,k.push({Name:a[0],Arguments:[].slice.call(a,1)||"",Element:V,"Execution Time":c})),clearTimeout(v.performance.timer),v.performance.timer=setTimeout(v.performance.display,500)},display:function(){var b=w.name+":",c=0;j=!1,clearTimeout(v.performance.timer),a.each(k,function(a,b){c+=b["Execution Time"]}),b+=" "+c+"ms",h&&(b+=" '"+h+"'"),(void 0!==console.group||void 0!==console.table)&&k.length>0&&(console.groupCollapsed(b),console.table?console.table(k):a.each(k,function(a,b){console.log(b.Name+": "+b["Execution Time"]+"ms")}),console.groupEnd()),k=[]}},invoke:function(b,c,d){var f,g,h,i=W;return c=c||n,d=V||d,"string"==typeof b&&void 0!==i&&(b=b.split(/[\. ]/),f=b.length-1,a.each(b,function(c,d){var e=c!=f?d+b[c+1].charAt(0).toUpperCase()+b[c+1].slice(1):b;if(a.isPlainObject(i[e])&&c!=f)i=i[e];else{if(void 0!==i[e])return g=i[e],!1;if(!a.isPlainObject(i[d])||c==f)return void 0!==i[d]?(g=i[d],!1):(v.error(F.method,b),!1);i=i[d]}})),a.isFunction(g)?h=g.apply(d,c):void 0!==g&&(h=g),a.isArray(e)?e.push(h):void 0!==e?e=[e,h]:void 0!==h&&(e=h),g}},m?(void 0===W&&v.initialize(),v.invoke(l)):(void 0!==W&&W.invoke("destroy"),v.initialize())}),void 0!==e?e:f},a.fn.dropdown.settings={debug:!1,verbose:!1,performance:!0,on:"click",action:"activate",apiSettings:!1,saveRemoteData:!0,throttle:200,context:b,direction:"auto",keepOnScreen:!0,match:"both",fullTextSearch:!1,placeholder:"auto",preserveHTML:!0,sortSelect:!1,forceSelection:!0,allowAdditions:!1,maxSelections:!1,useLabels:!0,delimiter:",",showOnFocus:!0,allowTab:!0,allowCategorySelection:!1,fireOnInit:!1,transition:"auto",duration:200,glyphWidth:1.0714,label:{transition:"scale",duration:200,variation:!1},delay:{hide:300,show:200,search:20,touch:50},onChange:function(a,b,c){},onAdd:function(a,b,c){},onRemove:function(a,b,c){},onLabelSelect:function(a){},onLabelCreate:function(b,c){return a(this)},onLabelRemove:function(a){return!0},onNoResults:function(a){return!0},onShow:function(){},onHide:function(){},name:"Dropdown",namespace:"dropdown",message:{addResult:"Add <b>{term}</b>",count:"{count} selected",maxSelections:"Max {maxCount} selections",noResults:"No results found.",serverError:"There was an error contacting the server"},error:{action:"You called a dropdown action that was not defined",alreadySetup:"Once a select has been initialized behaviors must be called on the created ui dropdown",labels:"Allowing user additions currently requires the use of labels.",missingMultiple:"<select> requires multiple property to be set to correctly preserve multiple values",method:"The method you called is not defined.",noAPI:"The API module is required to load resources remotely",noStorage:"Saving remote data requires session storage",noTransition:"This module requires ui transitions <https://github.com/Semantic-Org/UI-Transition>"},regExp:{escape:/[-[\]{}()*+?.,\\^$|#\s]/g},metadata:{defaultText:"defaultText",defaultValue:"defaultValue",placeholderText:"placeholder",text:"text",value:"value"},fields:{remoteValues:"results",values:"values",name:"name",value:"value"},keys:{backspace:8,delimiter:188,deleteKey:46,enter:13,escape:27,pageUp:33,pageDown:34,leftArrow:37,upArrow:38,rightArrow:39,downArrow:40},selector:{addition:".addition",dropdown:".ui.dropdown",icon:"> .dropdown.icon",input:'> input[type="hidden"], > select',item:".item",label:"> .label",remove:"> .label > .delete.icon",siblingLabel:".label",menu:".menu",message:".message",menuIcon:".dropdown.icon",search:"input.search, .menu > .search > input",text:"> .text:not(.icon)",unselectable:".disabled, .filtered"},className:{active:"active",addition:"addition",animating:"animating",disabled:"disabled",dropdown:"ui dropdown",filtered:"filtered",hidden:"hidden transition",item:"item",label:"ui label",loading:"loading",menu:"menu",message:"message",multiple:"multiple",placeholder:"default",search:"search",selected:"selected",selection:"selection",upward:"upward",visible:"visible"}},a.fn.dropdown.settings.templates={dropdown:function(b){var c=b.placeholder||!1,d=(b.values,"");return d+='<i class="dropdown icon"></i>',b.placeholder?d+='<div class="default text">'+c+"</div>":d+='<div class="text"></div>',d+='<div class="menu">',a.each(b.values,function(a,b){d+=b.disabled?'<div class="disabled item" data-value="'+b.value+'">'+b.name+"</div>":'<div class="item" data-value="'+b.value+'">'+b.name+"</div>"}),d+="</div>"},menu:function(b,c){var d=b[c.values]||{},e="";return a.each(d,function(a,b){e+='<div class="item" data-value="'+b[c.value]+'">'+b[c.name]+"</div>"}),e},label:function(a,b){return b+'<i class="delete icon"></i>'},message:function(a){return a},addition:function(a){return a}}}(jQuery,window,document),function(a,b,c,d){"use strict";a.fn.embed=function(c){var d,e=a(this),f=e.selector||"",g=(new Date).getTime(),h=[],i=arguments[0],j="string"==typeof i,k=[].slice.call(arguments,1);return e.each(function(){var l,m=a.isPlainObject(c)?a.extend(!0,{},a.fn.embed.settings,c):a.extend({},a.fn.embed.settings),n=m.selector,o=m.className,p=m.sources,q=m.error,r=m.metadata,s=m.namespace,t=m.templates,u="."+s,v="module-"+s,w=(a(b),a(this)),x=w.find(n.placeholder),y=w.find(n.icon),z=w.find(n.embed),A=this,B=w.data(v);l={initialize:function(){l.debug("Initializing embed"),l.determine.autoplay(),l.create(),l.bind.events(),l.instantiate()},instantiate:function(){l.verbose("Storing instance of module",l),B=l,w.data(v,l)},destroy:function(){l.verbose("Destroying previous instance of embed"),l.reset(),w.removeData(v).off(u)},refresh:function(){l.verbose("Refreshing selector cache"),x=w.find(n.placeholder),y=w.find(n.icon),z=w.find(n.embed)},bind:{events:function(){l.has.placeholder()&&(l.debug("Adding placeholder events"),w.on("click"+u,n.placeholder,l.createAndShow).on("click"+u,n.icon,l.createAndShow))}},
create:function(){l.get.placeholder()?l.createPlaceholder():l.createAndShow()},createPlaceholder:function(a){var b=l.get.icon(),c=l.get.url();l.generate.embed(c);a=a||l.get.placeholder(),w.html(t.placeholder(a,b)),l.debug("Creating placeholder for embed",a,b)},createEmbed:function(b){l.refresh(),b=b||l.get.url(),z=a("<div/>").addClass(o.embed).html(l.generate.embed(b)).appendTo(w),m.onCreate.call(A,b),l.debug("Creating embed object",z)},createAndShow:function(){l.createEmbed(),l.show()},change:function(a,b,c){l.debug("Changing video to ",a,b,c),w.data(r.source,a).data(r.id,b).data(r.url,c),l.create()},reset:function(){l.debug("Clearing embed and showing placeholder"),l.remove.active(),l.remove.embed(),l.showPlaceholder(),m.onReset.call(A)},show:function(){l.debug("Showing embed"),l.set.active(),m.onDisplay.call(A)},hide:function(){l.debug("Hiding embed"),l.showPlaceholder()},showPlaceholder:function(){l.debug("Showing placeholder image"),l.remove.active(),m.onPlaceholderDisplay.call(A)},get:{id:function(){return m.id||w.data(r.id)},placeholder:function(){return m.placeholder||w.data(r.placeholder)},icon:function(){return m.icon?m.icon:void 0!==w.data(r.icon)?w.data(r.icon):l.determine.icon()},source:function(a){return m.source?m.source:void 0!==w.data(r.source)?w.data(r.source):l.determine.source()},type:function(){var a=l.get.source();return void 0!==p[a]&&p[a].type},url:function(){return m.url?m.url:void 0!==w.data(r.url)?w.data(r.url):l.determine.url()}},determine:{autoplay:function(){l.should.autoplay()&&(m.autoplay=!0)},source:function(b){var c=!1;return b=b||l.get.url(),b&&a.each(p,function(a,d){if(-1!==b.search(d.domain))return c=a,!1}),c},icon:function(){var a=l.get.source();return void 0!==p[a]&&p[a].icon},url:function(){var a,b=m.id||w.data(r.id),c=m.source||w.data(r.source);return a=void 0!==p[c]&&p[c].url.replace("{id}",b),a&&w.data(r.url,a),a}},set:{active:function(){w.addClass(o.active)}},remove:{active:function(){w.removeClass(o.active)},embed:function(){z.empty()}},encode:{parameters:function(a){var b,c=[];for(b in a)c.push(encodeURIComponent(b)+"="+encodeURIComponent(a[b]));return c.join("&amp;")}},generate:{embed:function(a){l.debug("Generating embed html");var b,c,d=l.get.source();return a=l.get.url(a),a?(c=l.generate.parameters(d),b=t.iframe(a,c)):l.error(q.noURL,w),b},parameters:function(b,c){var d=p[b]&&void 0!==p[b].parameters?p[b].parameters(m):{};return c=c||m.parameters,c&&(d=a.extend({},d,c)),d=m.onEmbed(d),l.encode.parameters(d)}},has:{placeholder:function(){return m.placeholder||w.data(r.placeholder)}},should:{autoplay:function(){return"auto"===m.autoplay?m.placeholder||void 0!==w.data(r.placeholder):m.autoplay}},is:{video:function(){return"video"==l.get.type()}},setting:function(b,c){if(l.debug("Changing setting",b,c),a.isPlainObject(b))a.extend(!0,m,b);else{if(void 0===c)return m[b];m[b]=c}},internal:function(b,c){if(a.isPlainObject(b))a.extend(!0,l,b);else{if(void 0===c)return l[b];l[b]=c}},debug:function(){m.debug&&(m.performance?l.performance.log(arguments):(l.debug=Function.prototype.bind.call(console.info,console,m.name+":"),l.debug.apply(console,arguments)))},verbose:function(){m.verbose&&m.debug&&(m.performance?l.performance.log(arguments):(l.verbose=Function.prototype.bind.call(console.info,console,m.name+":"),l.verbose.apply(console,arguments)))},error:function(){l.error=Function.prototype.bind.call(console.error,console,m.name+":"),l.error.apply(console,arguments)},performance:{log:function(a){var b,c,d;m.performance&&(b=(new Date).getTime(),d=g||b,c=b-d,g=b,h.push({Name:a[0],Arguments:[].slice.call(a,1)||"",Element:A,"Execution Time":c})),clearTimeout(l.performance.timer),l.performance.timer=setTimeout(l.performance.display,500)},display:function(){var b=m.name+":",c=0;g=!1,clearTimeout(l.performance.timer),a.each(h,function(a,b){c+=b["Execution Time"]}),b+=" "+c+"ms",f&&(b+=" '"+f+"'"),e.length>1&&(b+=" ("+e.length+")"),(void 0!==console.group||void 0!==console.table)&&h.length>0&&(console.groupCollapsed(b),console.table?console.table(h):a.each(h,function(a,b){console.log(b.Name+": "+b["Execution Time"]+"ms")}),console.groupEnd()),h=[]}},invoke:function(b,c,e){var f,g,h,i=B;return c=c||k,e=A||e,"string"==typeof b&&void 0!==i&&(b=b.split(/[\. ]/),f=b.length-1,a.each(b,function(c,d){var e=c!=f?d+b[c+1].charAt(0).toUpperCase()+b[c+1].slice(1):b;if(a.isPlainObject(i[e])&&c!=f)i=i[e];else{if(void 0!==i[e])return g=i[e],!1;if(!a.isPlainObject(i[d])||c==f)return void 0!==i[d]?(g=i[d],!1):(l.error(q.method,b),!1);i=i[d]}})),a.isFunction(g)?h=g.apply(e,c):void 0!==g&&(h=g),a.isArray(d)?d.push(h):void 0!==d?d=[d,h]:void 0!==h&&(d=h),g}},j?(void 0===B&&l.initialize(),l.invoke(i)):(void 0!==B&&B.invoke("destroy"),l.initialize())}),void 0!==d?d:this},a.fn.embed.settings={name:"Embed",namespace:"embed",debug:!1,verbose:!1,performance:!0,icon:!1,source:!1,url:!1,id:!1,autoplay:"auto",color:"#444444",hd:!0,brandedUI:!1,parameters:!1,onDisplay:function(){},onPlaceholderDisplay:function(){},onReset:function(){},onCreate:function(a){},onEmbed:function(a){return a},metadata:{id:"id",icon:"icon",placeholder:"placeholder",source:"source",url:"url"},error:{noURL:"No URL specified",method:"The method you called is not defined"},className:{active:"active",embed:"embed"},selector:{embed:".embed",placeholder:".placeholder",icon:".icon"},sources:{youtube:{name:"youtube",type:"video",icon:"video play",domain:"youtube.com",url:"//www.youtube.com/embed/{id}",parameters:function(a){return{autohide:!a.brandedUI,autoplay:a.autoplay,color:a.colors||void 0,hq:a.hd,jsapi:a.api,modestbranding:!a.brandedUI}}},vimeo:{name:"vimeo",type:"video",icon:"video play",domain:"vimeo.com",url:"//player.vimeo.com/video/{id}",parameters:function(a){return{api:a.api,autoplay:a.autoplay,byline:a.brandedUI,color:a.colors||void 0,portrait:a.brandedUI,title:a.brandedUI}}}},templates:{iframe:function(a,b){return'<iframe src="'+a+"?"+b+'" width="100%" height="100%" frameborder="0" scrolling="no" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>'},placeholder:function(a,b){var c="";return b&&(c+='<i class="'+b+' icon"></i>'),a&&(c+='<img class="placeholder" src="'+a+'">'),c}},api:!0,onPause:function(){},onPlay:function(){},onStop:function(){}}}(jQuery,window,document),function(a,b,c,d){"use strict";a.fn.modal=function(d){var e,f=a(this),g=a(b),h=a(c),i=a("body"),j=f.selector||"",k=(new Date).getTime(),l=[],m=arguments[0],n="string"==typeof m,o=[].slice.call(arguments,1),p=b.requestAnimationFrame||b.mozRequestAnimationFrame||b.webkitRequestAnimationFrame||b.msRequestAnimationFrame||function(a){setTimeout(a,0)};return f.each(function(){var f,q,r,s,t,u,v,w,x,y=a.isPlainObject(d)?a.extend(!0,{},a.fn.modal.settings,d):a.extend({},a.fn.modal.settings),z=y.selector,A=y.className,B=y.namespace,C=y.error,D="."+B,E="module-"+B,F=a(this),G=a(y.context),H=F.find(z.close),I=this,J=F.data(E);x={initialize:function(){x.verbose("Initializing dimmer",G),x.create.id(),x.create.dimmer(),x.refreshModals(),x.bind.events(),y.observeChanges&&x.observeChanges(),x.instantiate()},instantiate:function(){x.verbose("Storing instance of modal"),J=x,F.data(E,J)},create:{dimmer:function(){var b={debug:y.debug,dimmerName:"modals",duration:{show:y.duration,hide:y.duration}},c=a.extend(!0,b,y.dimmerSettings);if(y.inverted&&(c.variation=void 0!==c.variation?c.variation+" inverted":"inverted"),void 0===a.fn.dimmer)return void x.error(C.dimmer);x.debug("Creating dimmer with settings",c),s=G.dimmer(c),y.detachable?(x.verbose("Modal is detachable, moving content into dimmer"),s.dimmer("add content",F)):x.set.undetached(),y.blurring&&s.addClass(A.blurring),t=s.dimmer("get dimmer")},id:function(){v=(Math.random().toString(16)+"000000000").substr(2,8),u="."+v,x.verbose("Creating unique id for element",v)}},destroy:function(){x.verbose("Destroying previous modal"),F.removeData(E).off(D),g.off(u),H.off(D),G.dimmer("destroy")},observeChanges:function(){"MutationObserver"in b&&(w=new MutationObserver(function(a){x.debug("DOM tree modified, refreshing"),x.refresh()}),w.observe(I,{childList:!0,subtree:!0}),x.debug("Setting up mutation observer",w))},refresh:function(){x.remove.scrolling(),x.cacheSizes(),x.set.screenHeight(),x.set.type(),x.set.position()},refreshModals:function(){q=F.siblings(z.modal),f=q.add(F)},attachEvents:function(b,c){var d=a(b);c=a.isFunction(x[c])?x[c]:x.toggle,d.length>0?(x.debug("Attaching modal events to element",b,c),d.off(D).on("click"+D,c)):x.error(C.notFound,b)},bind:{events:function(){x.verbose("Attaching events"),F.on("click"+D,z.close,x.event.close).on("click"+D,z.approve,x.event.approve).on("click"+D,z.deny,x.event.deny),g.on("resize"+u,x.event.resize)}},get:{id:function(){return(Math.random().toString(16)+"000000000").substr(2,8)}},event:{approve:function(){if(!1===y.onApprove.call(I,a(this)))return void x.verbose("Approve callback returned false cancelling hide");x.hide()},deny:function(){if(!1===y.onDeny.call(I,a(this)))return void x.verbose("Deny callback returned false cancelling hide");x.hide()},close:function(){x.hide()},click:function(b){var d=a(b.target),e=d.closest(z.modal).length>0,f=a.contains(c.documentElement,b.target);!e&&f&&(x.debug("Dimmer clicked, hiding all modals"),x.is.active()&&(x.remove.clickaway(),y.allowMultiple?x.hide():x.hideAll()))},debounce:function(a,b){clearTimeout(x.timer),x.timer=setTimeout(a,b)},keyboard:function(a){27==a.which&&(y.closable?(x.debug("Escape key pressed hiding modal"),x.hide()):x.debug("Escape key pressed, but closable is set to false"),a.preventDefault())},resize:function(){s.dimmer("is active")&&p(x.refresh)}},toggle:function(){x.is.active()||x.is.animating()?x.hide():x.show()},show:function(b){b=a.isFunction(b)?b:function(){},x.refreshModals(),x.showModal(b)},hide:function(b){b=a.isFunction(b)?b:function(){},x.refreshModals(),x.hideModal(b)},showModal:function(b){b=a.isFunction(b)?b:function(){},x.is.animating()||!x.is.active()?(x.showDimmer(),x.cacheSizes(),x.set.position(),x.set.screenHeight(),x.set.type(),x.set.clickaway(),!y.allowMultiple&&x.others.active()?x.hideOthers(x.showModal):(y.onShow.call(I),y.transition&&void 0!==a.fn.transition&&F.transition("is supported")?(x.debug("Showing modal with css animations"),F.transition({debug:y.debug,animation:y.transition+" in",queue:y.queue,duration:y.duration,useFailSafe:!0,onComplete:function(){y.onVisible.apply(I),x.add.keyboardShortcuts(),x.save.focus(),x.set.active(),y.autofocus&&x.set.autofocus(),b()}})):x.error(C.noTransition))):x.debug("Modal is already visible")},hideModal:function(b,c){if(b=a.isFunction(b)?b:function(){},x.debug("Hiding modal"),!1===y.onHide.call(I,a(this)))return void x.verbose("Hide callback returned false cancelling hide");(x.is.animating()||x.is.active())&&(y.transition&&void 0!==a.fn.transition&&F.transition("is supported")?(x.remove.active(),F.transition({debug:y.debug,animation:y.transition+" out",queue:y.queue,duration:y.duration,useFailSafe:!0,onStart:function(){x.others.active()||c||x.hideDimmer(),x.remove.keyboardShortcuts()},onComplete:function(){y.onHidden.call(I),x.restore.focus(),b()}})):x.error(C.noTransition))},showDimmer:function(){s.dimmer("is animating")||!s.dimmer("is active")?(x.debug("Showing dimmer"),s.dimmer("show")):x.debug("Dimmer already visible")},hideDimmer:function(){if(!s.dimmer("is animating")&&!s.dimmer("is active"))return void x.debug("Dimmer is not visible cannot hide");s.dimmer("hide",function(){x.remove.clickaway(),x.remove.screenHeight()})},hideAll:function(b){var c=f.filter("."+A.active+", ."+A.animating);b=a.isFunction(b)?b:function(){},c.length>0&&(x.debug("Hiding all visible modals"),x.hideDimmer(),c.modal("hide modal",b))},hideOthers:function(b){var c=q.filter("."+A.active+", ."+A.animating);b=a.isFunction(b)?b:function(){},c.length>0&&(x.debug("Hiding other modals",q),c.modal("hide modal",b,!0))},others:{active:function(){return q.filter("."+A.active).length>0},animating:function(){return q.filter("."+A.animating).length>0}},add:{keyboardShortcuts:function(){x.verbose("Adding keyboard shortcuts"),h.on("keyup"+D,x.event.keyboard)}},save:{focus:function(){r=a(c.activeElement).blur()}},restore:{focus:function(){r&&r.length>0&&r.focus()}},remove:{active:function(){F.removeClass(A.active)},clickaway:function(){y.closable&&t.off("click"+u)},bodyStyle:function(){""===i.attr("style")&&(x.verbose("Removing style attribute"),i.removeAttr("style"))},screenHeight:function(){x.debug("Removing page height"),i.css("height","")},keyboardShortcuts:function(){x.verbose("Removing keyboard shortcuts"),h.off("keyup"+D)},scrolling:function(){s.removeClass(A.scrolling),F.removeClass(A.scrolling)}},cacheSizes:function(){var d=F.outerHeight();void 0!==x.cache&&0===d||(x.cache={pageHeight:a(c).outerHeight(),height:d+y.offset,contextHeight:"body"==y.context?a(b).height():s.height()}),x.debug("Caching modal and container sizes",x.cache)},can:{fit:function(){return x.cache.height+2*y.padding<x.cache.contextHeight}},is:{active:function(){return F.hasClass(A.active)},animating:function(){return F.transition("is supported")?F.transition("is animating"):F.is(":visible")},scrolling:function(){return s.hasClass(A.scrolling)},modernBrowser:function(){return!(b.ActiveXObject||"ActiveXObject"in b)}},set:{autofocus:function(){var a=F.find(":input").filter(":visible"),b=a.filter("[autofocus]"),c=b.length>0?b.first():a.first();c.length>0&&c.focus()},clickaway:function(){y.closable&&t.on("click"+u,x.event.click)},screenHeight:function(){x.can.fit()?i.css("height",""):(x.debug("Modal is taller than page content, resizing page height"),i.css("height",x.cache.height+2*y.padding))},active:function(){F.addClass(A.active)},scrolling:function(){s.addClass(A.scrolling),F.addClass(A.scrolling)},type:function(){x.can.fit()?(x.verbose("Modal fits on screen"),x.others.active()||x.others.animating()||x.remove.scrolling()):(x.verbose("Modal cannot fit on screen setting to scrolling"),x.set.scrolling())},position:function(){x.verbose("Centering modal on page",x.cache),x.can.fit()?F.css({top:"",marginTop:-x.cache.height/2}):F.css({marginTop:"",top:h.scrollTop()})},undetached:function(){s.addClass(A.undetached)}},setting:function(b,c){if(x.debug("Changing setting",b,c),a.isPlainObject(b))a.extend(!0,y,b);else{if(void 0===c)return y[b];y[b]=c}},internal:function(b,c){if(a.isPlainObject(b))a.extend(!0,x,b);else{if(void 0===c)return x[b];x[b]=c}},debug:function(){y.debug&&(y.performance?x.performance.log(arguments):(x.debug=Function.prototype.bind.call(console.info,console,y.name+":"),x.debug.apply(console,arguments)))},verbose:function(){y.verbose&&y.debug&&(y.performance?x.performance.log(arguments):(x.verbose=Function.prototype.bind.call(console.info,console,y.name+":"),x.verbose.apply(console,arguments)))},error:function(){x.error=Function.prototype.bind.call(console.error,console,y.name+":"),x.error.apply(console,arguments)},performance:{log:function(a){var b,c,d;y.performance&&(b=(new Date).getTime(),d=k||b,c=b-d,k=b,l.push({Name:a[0],Arguments:[].slice.call(a,1)||"",Element:I,"Execution Time":c})),clearTimeout(x.performance.timer),x.performance.timer=setTimeout(x.performance.display,500)},display:function(){var b=y.name+":",c=0;k=!1,clearTimeout(x.performance.timer),a.each(l,function(a,b){c+=b["Execution Time"]}),b+=" "+c+"ms",j&&(b+=" '"+j+"'"),(void 0!==console.group||void 0!==console.table)&&l.length>0&&(console.groupCollapsed(b),console.table?console.table(l):a.each(l,function(a,b){console.log(b.Name+": "+b["Execution Time"]+"ms")}),console.groupEnd()),l=[]}},invoke:function(b,c,d){var f,g,h,i=J;return c=c||o,d=I||d,"string"==typeof b&&void 0!==i&&(b=b.split(/[\. ]/),f=b.length-1,a.each(b,function(c,d){var e=c!=f?d+b[c+1].charAt(0).toUpperCase()+b[c+1].slice(1):b;if(a.isPlainObject(i[e])&&c!=f)i=i[e];else{if(void 0!==i[e])return g=i[e],!1;if(!a.isPlainObject(i[d])||c==f)return void 0!==i[d]&&(g=i[d],!1);i=i[d]}})),a.isFunction(g)?h=g.apply(d,c):void 0!==g&&(h=g),a.isArray(e)?e.push(h):void 0!==e?e=[e,h]:void 0!==h&&(e=h),g}},n?(void 0===J&&x.initialize(),x.invoke(m)):(void 0!==J&&J.invoke("destroy"),x.initialize())}),void 0!==e?e:this},a.fn.modal.settings={name:"Modal",namespace:"modal",debug:!1,verbose:!1,performance:!0,observeChanges:!1,allowMultiple:!1,detachable:!0,closable:!0,autofocus:!0,inverted:!1,blurring:!1,dimmerSettings:{closable:!1,useCSS:!0},context:"body",queue:!1,duration:500,offset:0,transition:"scale",padding:50,onShow:function(){},onVisible:function(){},onHide:function(){return!0},onHidden:function(){},onApprove:function(){return!0},onDeny:function(){return!0},selector:{close:"> .close",approve:".actions .positive, .actions .approve, .actions .ok",deny:".actions .negative, .actions .deny, .actions .cancel",modal:".ui.modal"},error:{dimmer:"UI Dimmer, a required component is not included in this page",method:"The method you called is not defined.",notFound:"The element you specified could not be found"},className:{active:"active",animating:"animating",blurring:"blurring",scrolling:"scrolling",undetached:"undetached"}}}(jQuery,window,document),function(a,b,c,d){"use strict";a.fn.nag=function(c){var d,e=a(this),f=e.selector||"",g=(new Date).getTime(),h=[],i=arguments[0],j="string"==typeof i,k=[].slice.call(arguments,1);return e.each(function(){var e,l=a.isPlainObject(c)?a.extend(!0,{},a.fn.nag.settings,c):a.extend({},a.fn.nag.settings),m=(l.className,l.selector),n=l.error,o=l.namespace,p="."+o,q=o+"-module",r=a(this),s=(r.find(m.close),a(l.context?l.context:"body")),t=this,u=r.data(q);b.requestAnimationFrame||b.mozRequestAnimationFrame||b.webkitRequestAnimationFrame||b.msRequestAnimationFrame;e={initialize:function(){e.verbose("Initializing element"),r.on("click"+p,m.close,e.dismiss).data(q,e),l.detachable&&r.parent()[0]!==s[0]&&r.detach().prependTo(s),l.displayTime>0&&setTimeout(e.hide,l.displayTime),e.show()},destroy:function(){e.verbose("Destroying instance"),r.removeData(q).off(p)},show:function(){e.should.show()&&!r.is(":visible")&&(e.debug("Showing nag",l.animation.show),"fade"==l.animation.show?r.fadeIn(l.duration,l.easing):r.slideDown(l.duration,l.easing))},hide:function(){e.debug("Showing nag",l.animation.hide),"fade"==l.animation.show?r.fadeIn(l.duration,l.easing):r.slideUp(l.duration,l.easing)},onHide:function(){e.debug("Removing nag",l.animation.hide),r.remove(),l.onHide&&l.onHide()},dismiss:function(a){l.storageMethod&&e.storage.set(l.key,l.value),e.hide(),a.stopImmediatePropagation(),a.preventDefault()},should:{show:function(){return l.persist?(e.debug("Persistent nag is set, can show nag"),!0):e.storage.get(l.key)!=l.value.toString()?(e.debug("Stored value is not set, can show nag",e.storage.get(l.key)),!0):(e.debug("Stored value is set, cannot show nag",e.storage.get(l.key)),!1)}},get:{storageOptions:function(){var a={};return l.expires&&(a.expires=l.expires),l.domain&&(a.domain=l.domain),l.path&&(a.path=l.path),a}},clear:function(){e.storage.remove(l.key)},storage:{set:function(c,d){var f=e.get.storageOptions();if("localstorage"==l.storageMethod&&void 0!==b.localStorage)b.localStorage.setItem(c,d),e.debug("Value stored using local storage",c,d);else if("sessionstorage"==l.storageMethod&&void 0!==b.sessionStorage)b.sessionStorage.setItem(c,d),e.debug("Value stored using session storage",c,d);else{if(void 0===a.cookie)return void e.error(n.noCookieStorage);a.cookie(c,d,f),e.debug("Value stored using cookie",c,d,f)}},get:function(c,d){var f;return"localstorage"==l.storageMethod&&void 0!==b.localStorage?f=b.localStorage.getItem(c):"sessionstorage"==l.storageMethod&&void 0!==b.sessionStorage?f=b.sessionStorage.getItem(c):void 0!==a.cookie?f=a.cookie(c):e.error(n.noCookieStorage),"undefined"!=f&&"null"!=f&&void 0!==f&&null!==f||(f=void 0),f},remove:function(c){var d=e.get.storageOptions();"localstorage"==l.storageMethod&&void 0!==b.localStorage?b.localStorage.removeItem(c):"sessionstorage"==l.storageMethod&&void 0!==b.sessionStorage?b.sessionStorage.removeItem(c):void 0!==a.cookie?a.removeCookie(c,d):e.error(n.noStorage)}},setting:function(b,c){if(e.debug("Changing setting",b,c),a.isPlainObject(b))a.extend(!0,l,b);else{if(void 0===c)return l[b];l[b]=c}},internal:function(b,c){if(a.isPlainObject(b))a.extend(!0,e,b);else{if(void 0===c)return e[b];e[b]=c}},debug:function(){l.debug&&(l.performance?e.performance.log(arguments):(e.debug=Function.prototype.bind.call(console.info,console,l.name+":"),e.debug.apply(console,arguments)))},verbose:function(){l.verbose&&l.debug&&(l.performance?e.performance.log(arguments):(e.verbose=Function.prototype.bind.call(console.info,console,l.name+":"),e.verbose.apply(console,arguments)))},error:function(){e.error=Function.prototype.bind.call(console.error,console,l.name+":"),e.error.apply(console,arguments)},performance:{log:function(a){var b,c,d;l.performance&&(b=(new Date).getTime(),d=g||b,c=b-d,g=b,h.push({Name:a[0],Arguments:[].slice.call(a,1)||"",Element:t,"Execution Time":c})),clearTimeout(e.performance.timer),e.performance.timer=setTimeout(e.performance.display,500)},display:function(){var b=l.name+":",c=0;g=!1,clearTimeout(e.performance.timer),a.each(h,function(a,b){c+=b["Execution Time"]}),b+=" "+c+"ms",f&&(b+=" '"+f+"'"),(void 0!==console.group||void 0!==console.table)&&h.length>0&&(console.groupCollapsed(b),console.table?console.table(h):a.each(h,function(a,b){console.log(b.Name+": "+b["Execution Time"]+"ms")}),console.groupEnd()),h=[]}},invoke:function(b,c,f){var g,h,i,j=u;return c=c||k,f=t||f,"string"==typeof b&&void 0!==j&&(b=b.split(/[\. ]/),g=b.length-1,a.each(b,function(c,d){var f=c!=g?d+b[c+1].charAt(0).toUpperCase()+b[c+1].slice(1):b;if(a.isPlainObject(j[f])&&c!=g)j=j[f];else{if(void 0!==j[f])return h=j[f],!1;if(!a.isPlainObject(j[d])||c==g)return void 0!==j[d]?(h=j[d],!1):(e.error(n.method,b),!1);j=j[d]}})),a.isFunction(h)?i=h.apply(f,c):void 0!==h&&(i=h),a.isArray(d)?d.push(i):void 0!==d?d=[d,i]:void 0!==i&&(d=i),h}},j?(void 0===u&&e.initialize(),e.invoke(i)):(void 0!==u&&u.invoke("destroy"),e.initialize())}),void 0!==d?d:this},a.fn.nag.settings={name:"Nag",debug:!1,verbose:!1,performance:!0,namespace:"Nag",persist:!1,displayTime:0,animation:{show:"slide",hide:"slide"},context:!1,detachable:!1,expires:30,domain:!1,path:"/",storageMethod:"cookie",key:"nag",value:"dismiss",error:{noCookieStorage:"$.cookie is not included. A storage solution is required.",noStorage:"Neither $.cookie or store is defined. A storage solution is required for storing state",method:"The method you called is not defined."},className:{bottom:"bottom",fixed:"fixed"},selector:{close:".close.icon"},speed:500,easing:"easeOutQuad",onHide:function(){}}}(jQuery,window,document),function(a,b,c,d){"use strict";a.fn.popup=function(d){var e,f=a(this),g=a(c),h=a(b),i=a("body"),j=f.selector||"",k=(new Date).getTime(),l=[],m=arguments[0],n="string"==typeof m,o=[].slice.call(arguments,1);return f.each(function(){var c,f,p,q,r,s=a.isPlainObject(d)?a.extend(!0,{},a.fn.popup.settings,d):a.extend({},a.fn.popup.settings),t=s.selector,u=s.className,v=s.error,w=s.metadata,x=s.namespace,y="."+s.namespace,z="module-"+x,A=a(this),B=a(s.context),C=s.target?a(s.target):A,D=0,E=!1,F=!1,G=this,H=A.data(z);r={initialize:function(){r.debug("Initializing",A),r.createID(),r.bind.events(),!r.exists()&&s.preserve&&r.create(),r.instantiate()},instantiate:function(){r.verbose("Storing instance",r),H=r,A.data(z,H)},refresh:function(){s.popup?c=a(s.popup).eq(0):s.inline&&(c=C.nextAll(t.popup).eq(0),s.popup=c),s.popup?(c.addClass(u.loading),f=r.get.offsetParent(),c.removeClass(u.loading),s.movePopup&&r.has.popup()&&r.get.offsetParent(c)[0]!==f[0]&&(r.debug("Moving popup to the same offset parent as activating element"),c.detach().appendTo(f))):f=s.inline?r.get.offsetParent(C):r.has.popup()?r.get.offsetParent(c):i,f.is("html")&&f[0]!==i[0]&&(r.debug("Setting page as offset parent"),f=i),r.get.variation()&&r.set.variation()},reposition:function(){r.refresh(),r.set.position()},destroy:function(){r.debug("Destroying previous module"),c&&!s.preserve&&r.removePopup(),clearTimeout(r.hideTimer),clearTimeout(r.showTimer),h.off(p),A.off(y).removeData(z)},event:{start:function(b){var c=a.isPlainObject(s.delay)?s.delay.show:s.delay;clearTimeout(r.hideTimer),F||(r.showTimer=setTimeout(r.show,c))},end:function(){var b=a.isPlainObject(s.delay)?s.delay.hide:s.delay;clearTimeout(r.showTimer),r.hideTimer=setTimeout(r.hide,b)},touchstart:function(a){F=!0,r.show()},resize:function(){r.is.visible()&&r.set.position()},hideGracefully:function(b){b&&0===a(b.target).closest(t.popup).length?(r.debug("Click occurred outside popup hiding popup"),r.hide()):r.debug("Click was inside popup, keeping popup open")}},create:function(){var b=r.get.html(),d=r.get.title(),e=r.get.content();b||e||d?(r.debug("Creating pop-up html"),b||(b=s.templates.popup({title:d,content:e})),c=a("<div/>").addClass(u.popup).data(w.activator,A).html(b),s.inline?(r.verbose("Inserting popup element inline",c),c.insertAfter(A)):(r.verbose("Appending popup element to body",c),c.appendTo(B)),r.refresh(),r.set.variation(),s.hoverable&&r.bind.popup(),s.onCreate.call(c,G)):0!==C.next(t.popup).length?(r.verbose("Pre-existing popup found"),s.inline=!0,s.popups=C.next(t.popup).data(w.activator,A),r.refresh(),s.hoverable&&r.bind.popup()):s.popup?(a(s.popup).data(w.activator,A),r.verbose("Used popup specified in settings"),r.refresh(),s.hoverable&&r.bind.popup()):r.debug("No content specified skipping display",G)},createID:function(){q=(Math.random().toString(16)+"000000000").substr(2,8),p="."+q,r.verbose("Creating unique id for element",q)},toggle:function(){r.debug("Toggling pop-up"),r.is.hidden()?(r.debug("Popup is hidden, showing pop-up"),r.unbind.close(),r.show()):(r.debug("Popup is visible, hiding pop-up"),r.hide())},show:function(a){if(a=a||function(){},r.debug("Showing pop-up",s.transition),r.is.hidden()&&(!r.is.active()||!r.is.dropdown())){if(r.exists()||r.create(),!1===s.onShow.call(c,G))return void r.debug("onShow callback returned false, cancelling popup animation");s.preserve||s.popup||r.refresh(),c&&r.set.position()&&(r.save.conditions(),s.exclusive&&r.hideAll(),r.animate.show(a))}},hide:function(a){if(a=a||function(){},r.is.visible()||r.is.animating()){if(!1===s.onHide.call(c,G))return void r.debug("onHide callback returned false, cancelling popup animation");r.remove.visible(),r.unbind.close(),r.restore.conditions(),r.animate.hide(a)}},hideAll:function(){a(t.popup).filter("."+u.visible).each(function(){a(this).data(w.activator).popup("hide")})},exists:function(){return!!c&&(s.inline||s.popup?r.has.popup():c.closest(B).length>=1)},removePopup:function(){r.has.popup()&&!s.popup&&(r.debug("Removing popup",c),c.remove(),c=void 0,s.onRemove.call(c,G))},save:{conditions:function(){r.cache={title:A.attr("title")},r.cache.title&&A.removeAttr("title"),r.verbose("Saving original attributes",r.cache.title)}},restore:{conditions:function(){return r.cache&&r.cache.title&&(A.attr("title",r.cache.title),r.verbose("Restoring original attributes",r.cache.title)),!0}},animate:{show:function(b){b=a.isFunction(b)?b:function(){},s.transition&&void 0!==a.fn.transition&&A.transition("is supported")?(r.set.visible(),c.transition({animation:s.transition+" in",queue:!1,debug:s.debug,verbose:s.verbose,duration:s.duration,onComplete:function(){r.bind.close(),b.call(c,G),s.onVisible.call(c,G)}})):r.error(v.noTransition)},hide:function(b){if(b=a.isFunction(b)?b:function(){},r.debug("Hiding pop-up"),!1===s.onHide.call(c,G))return void r.debug("onHide callback returned false, cancelling popup animation");s.transition&&void 0!==a.fn.transition&&A.transition("is supported")?c.transition({animation:s.transition+" out",queue:!1,duration:s.duration,debug:s.debug,verbose:s.verbose,onComplete:function(){r.reset(),b.call(c,G),s.onHidden.call(c,G)}}):r.error(v.noTransition)}},change:{content:function(a){c.html(a)}},get:{html:function(){return A.removeData(w.html),A.data(w.html)||s.html},title:function(){return A.removeData(w.title),A.data(w.title)||s.title},content:function(){return A.removeData(w.content),A.data(w.content)||A.attr("title")||s.content},variation:function(){return A.removeData(w.variation),A.data(w.variation)||s.variation},popup:function(){return c},popupOffset:function(){return c.offset()},calculations:function(){var a,d=C[0],e=s.inline||s.popup&&s.movePopup?C.position():C.offset(),g={};return g={target:{element:C[0],width:C.outerWidth(),height:C.outerHeight(),top:e.top,left:e.left,margin:{}},popup:{width:c.outerWidth(),height:c.outerHeight()},parent:{width:f.outerWidth(),height:f.outerHeight()},screen:{scroll:{top:h.scrollTop(),left:h.scrollLeft()},width:h.width(),height:h.height()}},s.setFluidWidth&&r.is.fluid()&&(g.container={width:c.parent().outerWidth()},g.popup.width=g.container.width),g.target.margin.top=s.inline?parseInt(b.getComputedStyle(d).getPropertyValue("margin-top"),10):0,g.target.margin.left=s.inline?r.is.rtl()?parseInt(b.getComputedStyle(d).getPropertyValue("margin-right"),10):parseInt(b.getComputedStyle(d).getPropertyValue("margin-left"),10):0,a=g.screen,g.boundary={top:a.scroll.top,bottom:a.scroll.top+a.height,left:a.scroll.left,right:a.scroll.left+a.width},g},id:function(){return q},startEvent:function(){return"hover"==s.on?"mouseenter":"focus"==s.on&&"focus"},scrollEvent:function(){return"scroll"},endEvent:function(){return"hover"==s.on?"mouseleave":"focus"==s.on&&"blur"},distanceFromBoundary:function(a,b){var c,d,e={};return a=a||r.get.offset(),b=b||r.get.calculations(),c=b.popup,d=b.boundary,a&&(e={top:a.top-d.top,left:a.left-d.left,right:d.right-(a.left+c.width),bottom:d.bottom-(a.top+c.height)},r.verbose("Distance from boundaries determined",a,e)),e},offsetParent:function(b){var c=void 0!==b?b[0]:A[0],d=c.parentNode,e=a(d);if(d)for(var f="none"===e.css("transform"),g="static"===e.css("position"),h=e.is("html");d&&!h&&g&&f;)d=d.parentNode,e=a(d),f="none"===e.css("transform"),g="static"===e.css("position"),h=e.is("html");return e&&e.length>0?e:a()},positions:function(){return{"top left":!1,"top center":!1,"top right":!1,"bottom left":!1,"bottom center":!1,"bottom right":!1,"left center":!1,"right center":!1}},nextPosition:function(a){var b=a.split(" "),c=b[0],d=b[1],e={top:"bottom",bottom:"top",left:"right",right:"left"},f={left:"center",center:"right",right:"left"},g={"top left":"top center","top center":"top right","top right":"right center","right center":"bottom right","bottom right":"bottom center","bottom center":"bottom left","bottom left":"left center","left center":"top left"},h="top"==c||"bottom"==c,i=!1,j=!1,k=!1;return E||(r.verbose("All available positions available"),E=r.get.positions()),r.debug("Recording last position tried",a),E[a]=!0,"opposite"===s.prefer&&(k=[e[c],d],k=k.join(" "),i=!0===E[k],r.debug("Trying opposite strategy",k)),"adjacent"===s.prefer&&h&&(k=[c,f[d]],k=k.join(" "),j=!0===E[k],r.debug("Trying adjacent strategy",k)),(j||i)&&(r.debug("Using backup position",k),k=g[a]),k}},set:{position:function(a,b){if(0===C.length||0===c.length)return void r.error(v.notFound);var d,e,f,g,h,i,j,k;if(b=b||r.get.calculations(),a=a||A.data(w.position)||s.position,d=A.data(w.offset)||s.offset,e=s.distanceAway,f=b.target,g=b.popup,h=b.parent,0===f.width&&0===f.height&&!(f.element instanceof SVGGraphicsElement))return r.debug("Popup target is hidden, no action taken"),!1;switch(s.inline&&(r.debug("Adding margin to calculation",f.margin),"left center"==a||"right center"==a?(d+=f.margin.top,e+=-f.margin.left):"top left"==a||"top center"==a||"top right"==a?(d+=f.margin.left,e-=f.margin.top):(d+=f.margin.left,e+=f.margin.top)),r.debug("Determining popup position from calculations",a,b),r.is.rtl()&&(a=a.replace(/left|right/g,function(a){return"left"==a?"right":"left"}),r.debug("RTL: Popup position updated",a)),D==s.maxSearchDepth&&"string"==typeof s.lastResort&&(a=s.lastResort),a){case"top left":i={top:"auto",bottom:h.height-f.top+e,left:f.left+d,right:"auto"};break;case"top center":i={bottom:h.height-f.top+e,
left:f.left+f.width/2-g.width/2+d,top:"auto",right:"auto"};break;case"top right":i={bottom:h.height-f.top+e,right:h.width-f.left-f.width-d,top:"auto",left:"auto"};break;case"left center":i={top:f.top+f.height/2-g.height/2+d,right:h.width-f.left+e,left:"auto",bottom:"auto"};break;case"right center":i={top:f.top+f.height/2-g.height/2+d,left:f.left+f.width+e,bottom:"auto",right:"auto"};break;case"bottom left":i={top:f.top+f.height+e,left:f.left+d,bottom:"auto",right:"auto"};break;case"bottom center":i={top:f.top+f.height+e,left:f.left+f.width/2-g.width/2+d,bottom:"auto",right:"auto"};break;case"bottom right":i={top:f.top+f.height+e,right:h.width-f.left-f.width-d,left:"auto",bottom:"auto"}}if(void 0===i&&r.error(v.invalidPosition,a),r.debug("Calculated popup positioning values",i),c.css(i).removeClass(u.position).addClass(a).addClass(u.loading),j=r.get.popupOffset(),k=r.get.distanceFromBoundary(j,b),r.is.offstage(k,a)){if(r.debug("Position is outside viewport",a),D<s.maxSearchDepth)return D++,a=r.get.nextPosition(a),r.debug("Trying new position",a),!!c&&r.set.position(a,b);if(!s.lastResort)return r.debug("Popup could not find a position to display",c),r.error(v.cannotPlace,G),r.remove.attempts(),r.remove.loading(),r.reset(),s.onUnplaceable.call(c,G),!1;r.debug("No position found, showing with last position")}return r.debug("Position is on stage",a),r.remove.attempts(),r.remove.loading(),s.setFluidWidth&&r.is.fluid()&&r.set.fluidWidth(b),!0},fluidWidth:function(a){a=a||r.get.calculations(),r.debug("Automatically setting element width to parent width",a.parent.width),c.css("width",a.container.width)},variation:function(a){(a=a||r.get.variation())&&r.has.popup()&&(r.verbose("Adding variation to popup",a),c.addClass(a))},visible:function(){A.addClass(u.visible)}},remove:{loading:function(){c.removeClass(u.loading)},variation:function(a){(a=a||r.get.variation())&&(r.verbose("Removing variation",a),c.removeClass(a))},visible:function(){A.removeClass(u.visible)},attempts:function(){r.verbose("Resetting all searched positions"),D=0,E=!1}},bind:{events:function(){r.debug("Binding popup events to module"),"click"==s.on&&A.on("click"+y,r.toggle),"hover"==s.on&&A.on("touchstart"+y,r.event.touchstart),r.get.startEvent()&&A.on(r.get.startEvent()+y,r.event.start).on(r.get.endEvent()+y,r.event.end),s.target&&r.debug("Target set to element",C),h.on("resize"+p,r.event.resize)},popup:function(){r.verbose("Allowing hover events on popup to prevent closing"),c&&r.has.popup()&&c.on("mouseenter"+y,r.event.start).on("mouseleave"+y,r.event.end)},close:function(){(!0===s.hideOnScroll||"auto"==s.hideOnScroll&&"click"!=s.on)&&(g.one(r.get.scrollEvent()+p,r.event.hideGracefully),B.one(r.get.scrollEvent()+p,r.event.hideGracefully)),"hover"==s.on&&F&&(r.verbose("Binding popup close event to document"),g.on("touchstart"+p,function(a){r.verbose("Touched away from popup"),r.event.hideGracefully.call(G,a)})),"click"==s.on&&s.closable&&(r.verbose("Binding popup close event to document"),g.on("click"+p,function(a){r.verbose("Clicked away from popup"),r.event.hideGracefully.call(G,a)}))}},unbind:{close:function(){(!0===s.hideOnScroll||"auto"==s.hideOnScroll&&"click"!=s.on)&&(g.off("scroll"+p,r.hide),B.off("scroll"+p,r.hide)),"hover"==s.on&&F&&(g.off("touchstart"+p),F=!1),"click"==s.on&&s.closable&&(r.verbose("Removing close event from document"),g.off("click"+p))}},has:{popup:function(){return c&&c.length>0}},is:{offstage:function(b,c){var d=[];return a.each(b,function(a,b){b<-s.jitter&&(r.debug("Position exceeds allowable distance from edge",a,b,c),d.push(a))}),d.length>0},active:function(){return A.hasClass(u.active)},animating:function(){return void 0!==c&&c.hasClass(u.animating)},fluid:function(){return void 0!==c&&c.hasClass(u.fluid)},visible:function(){return void 0!==c&&c.hasClass(u.visible)},dropdown:function(){return A.hasClass(u.dropdown)},hidden:function(){return!r.is.visible()},rtl:function(){return"rtl"==A.css("direction")}},reset:function(){r.remove.visible(),s.preserve?void 0!==a.fn.transition&&c.transition("remove transition"):r.removePopup()},setting:function(b,c){if(a.isPlainObject(b))a.extend(!0,s,b);else{if(void 0===c)return s[b];s[b]=c}},internal:function(b,c){if(a.isPlainObject(b))a.extend(!0,r,b);else{if(void 0===c)return r[b];r[b]=c}},debug:function(){s.debug&&(s.performance?r.performance.log(arguments):(r.debug=Function.prototype.bind.call(console.info,console,s.name+":"),r.debug.apply(console,arguments)))},verbose:function(){s.verbose&&s.debug&&(s.performance?r.performance.log(arguments):(r.verbose=Function.prototype.bind.call(console.info,console,s.name+":"),r.verbose.apply(console,arguments)))},error:function(){r.error=Function.prototype.bind.call(console.error,console,s.name+":"),r.error.apply(console,arguments)},performance:{log:function(a){var b,c,d;s.performance&&(b=(new Date).getTime(),d=k||b,c=b-d,k=b,l.push({Name:a[0],Arguments:[].slice.call(a,1)||"",Element:G,"Execution Time":c})),clearTimeout(r.performance.timer),r.performance.timer=setTimeout(r.performance.display,500)},display:function(){var b=s.name+":",c=0;k=!1,clearTimeout(r.performance.timer),a.each(l,function(a,b){c+=b["Execution Time"]}),b+=" "+c+"ms",j&&(b+=" '"+j+"'"),(void 0!==console.group||void 0!==console.table)&&l.length>0&&(console.groupCollapsed(b),console.table?console.table(l):a.each(l,function(a,b){console.log(b.Name+": "+b["Execution Time"]+"ms")}),console.groupEnd()),l=[]}},invoke:function(b,c,d){var f,g,h,i=H;return c=c||o,d=G||d,"string"==typeof b&&void 0!==i&&(b=b.split(/[\. ]/),f=b.length-1,a.each(b,function(c,d){var e=c!=f?d+b[c+1].charAt(0).toUpperCase()+b[c+1].slice(1):b;if(a.isPlainObject(i[e])&&c!=f)i=i[e];else{if(void 0!==i[e])return g=i[e],!1;if(!a.isPlainObject(i[d])||c==f)return void 0!==i[d]&&(g=i[d],!1);i=i[d]}})),a.isFunction(g)?h=g.apply(d,c):void 0!==g&&(h=g),a.isArray(e)?e.push(h):void 0!==e?e=[e,h]:void 0!==h&&(e=h),g}},n?(void 0===H&&r.initialize(),r.invoke(m)):(void 0!==H&&H.invoke("destroy"),r.initialize())}),void 0!==e?e:this},a.fn.popup.settings={name:"Popup",debug:!1,verbose:!1,performance:!0,namespace:"popup",onCreate:function(){},onRemove:function(){},onShow:function(){},onVisible:function(){},onHide:function(){},onUnplaceable:function(){},onHidden:function(){},on:"hover",addTouchEvents:!0,position:"top left",variation:"",movePopup:!0,target:!1,popup:!1,inline:!1,preserve:!1,hoverable:!1,content:!1,html:!1,title:!1,closable:!0,hideOnScroll:"auto",exclusive:!1,context:"body",prefer:"opposite",lastResort:!1,delay:{show:50,hide:70},setFluidWidth:!0,duration:200,transition:"scale",distanceAway:0,jitter:2,offset:0,maxSearchDepth:15,error:{invalidPosition:"The position you specified is not a valid position",cannotPlace:"Popup does not fit within the boundaries of the viewport",method:"The method you called is not defined.",noTransition:"This module requires ui transitions <https://github.com/Semantic-Org/UI-Transition>",notFound:"The target or popup you specified does not exist on the page"},metadata:{activator:"activator",content:"content",html:"html",offset:"offset",position:"position",title:"title",variation:"variation"},className:{active:"active",animating:"animating",dropdown:"dropdown",fluid:"fluid",loading:"loading",popup:"ui popup",position:"top left center bottom right",visible:"visible"},selector:{popup:".ui.popup"},templates:{escape:function(a){var b=/[&<>"'`]/g,c=/[&<>"'`]/,d={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},e=function(a){return d[a]};return c.test(a)?a.replace(b,e):a},popup:function(b){var c="",d=a.fn.popup.settings.templates.escape;return void 0!==typeof b&&(void 0!==typeof b.title&&b.title&&(b.title=d(b.title),c+='<div class="header">'+b.title+"</div>"),void 0!==typeof b.content&&b.content&&(b.content=d(b.content),c+='<div class="content">'+b.content+"</div>")),c}}}}(jQuery,window,document),function(a,b,c,d){"use strict";a.fn.progress=function(b){var d,e=a(this),f=e.selector||"",g=(new Date).getTime(),h=[],i=arguments[0],j="string"==typeof i,k=[].slice.call(arguments,1);return e.each(function(){var e,l,m=a.isPlainObject(b)?a.extend(!0,{},a.fn.progress.settings,b):a.extend({},a.fn.progress.settings),n=m.className,o=m.metadata,p=m.namespace,q=m.selector,r=m.error,s="."+p,t="module-"+p,u=a(this),v=a(this).find(q.bar),w=a(this).find(q.progress),x=a(this).find(q.label),y=this,z=u.data(t),A=!1;l={initialize:function(){l.debug("Initializing progress bar",m),l.set.duration(),l.set.transitionEvent(),l.read.metadata(),l.read.settings(),l.instantiate()},instantiate:function(){l.verbose("Storing instance of progress",l),z=l,u.data(t,l)},destroy:function(){l.verbose("Destroying previous progress for",u),clearInterval(z.interval),l.remove.state(),u.removeData(t),z=void 0},reset:function(){l.set.percent(0),l.set.value(0)},complete:function(){(void 0===l.percent||l.percent<100)&&l.set.percent(100)},read:{metadata:function(){var a={percent:u.data(o.percent),total:u.data(o.total),value:u.data(o.value)};a.percent&&(l.debug("Current percent value set from metadata",a.percent),l.set.percent(a.percent)),a.total&&(l.debug("Total value set from metadata",a.total),l.set.total(a.total)),a.value&&(l.debug("Current value set from metadata",a.value),l.set.value(a.value),l.set.progress(a.value))},settings:function(){!1!==m.total&&(l.debug("Current total set in settings",m.total),l.set.total(m.total)),!1!==m.value&&(l.debug("Current value set in settings",m.value),l.set.value(m.value),l.set.progress(l.value)),!1!==m.percent&&(l.debug("Current percent set in settings",m.percent),l.set.percent(m.percent))}},increment:function(a){var b,c,d;l.has.total()?(c=l.get.value(),a=a||1,d=c+a,b=l.get.total(),l.debug("Incrementing value",c,d,b),d>b&&(l.debug("Value cannot increment above total",b),d=b)):(c=l.get.percent(),a=a||l.get.randomValue(),d=c+a,b=100,l.debug("Incrementing percentage by",c,d),d>b&&(l.debug("Value cannot increment above 100 percent"),d=b)),l.set.progress(d)},decrement:function(a){var b,c,d=l.get.total();d?(b=l.get.value(),a=a||1,c=b-a,l.debug("Decrementing value by",a,b)):(b=l.get.percent(),a=a||l.get.randomValue(),c=b-a,l.debug("Decrementing percentage by",a,b)),c<0&&(l.debug("Value cannot decrement below 0"),c=0),l.set.progress(c)},has:{total:function(){return!1!==l.get.total()}},get:{text:function(a){var b=l.value||0,c=l.total||0,d=A?l.get.displayPercent():l.percent||0,e=l.total>0?c-b:100-d;return a=a||"",a=a.replace("{value}",b).replace("{total}",c).replace("{left}",e).replace("{percent}",d),l.debug("Adding variables to progress bar text",a),a},randomValue:function(){return l.debug("Generating random increment percentage"),Math.floor(Math.random()*m.random.max+m.random.min)},numericValue:function(a){return"string"==typeof a?""!==a.replace(/[^\d.]/g,"")&&+a.replace(/[^\d.]/g,""):a},transitionEnd:function(){var a,b=c.createElement("element"),d={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(a in d)if(void 0!==b.style[a])return d[a]},displayPercent:function(){var a=v.width(),b=u.width(),c=parseInt(v.css("min-width"),10),d=a>c?a/b*100:l.percent;return m.precision>0?Math.round(d*(10*m.precision))/(10*m.precision):Math.round(d)},percent:function(){return l.percent||0},value:function(){return l.value||0},total:function(){return l.total||!1}},is:{success:function(){return u.hasClass(n.success)},warning:function(){return u.hasClass(n.warning)},error:function(){return u.hasClass(n.error)},active:function(){return u.hasClass(n.active)},visible:function(){return u.is(":visible")}},remove:{state:function(){l.verbose("Removing stored state"),delete l.total,delete l.percent,delete l.value},active:function(){l.verbose("Removing active state"),u.removeClass(n.active)},success:function(){l.verbose("Removing success state"),u.removeClass(n.success)},warning:function(){l.verbose("Removing warning state"),u.removeClass(n.warning)},error:function(){l.verbose("Removing error state"),u.removeClass(n.error)}},set:{barWidth:function(a){a>100?l.error(r.tooHigh,a):a<0?l.error(r.tooLow,a):(v.css("width",a+"%"),u.attr("data-percent",parseInt(a,10)))},duration:function(a){a=a||m.duration,a="number"==typeof a?a+"ms":a,l.verbose("Setting progress bar transition duration",a),v.css({"transition-duration":a})},percent:function(a){a="string"==typeof a?+a.replace("%",""):a,a=m.precision>0?Math.round(a*(10*m.precision))/(10*m.precision):Math.round(a),l.percent=a,l.has.total()||(l.value=m.precision>0?Math.round(a/100*l.total*(10*m.precision))/(10*m.precision):Math.round(a/100*l.total*10)/10,m.limitValues&&(l.value=l.value>100?100:l.value<0?0:l.value)),l.set.barWidth(a),l.set.labelInterval(),l.set.labels(),m.onChange.call(y,a,l.value,l.total)},labelInterval:function(){var a=function(){l.verbose("Bar finished animating, removing continuous label updates"),clearInterval(l.interval),A=!1,l.set.labels()};clearInterval(l.interval),v.one(e+s,a),l.timer=setTimeout(a,m.duration+100),A=!0,l.interval=setInterval(l.set.labels,m.framerate)},labels:function(){l.verbose("Setting both bar progress and outer label text"),l.set.barLabel(),l.set.state()},label:function(a){(a=a||"")&&(a=l.get.text(a),l.debug("Setting label to text",a),x.text(a))},state:function(a){a=void 0!==a?a:l.percent,100===a?!m.autoSuccess||l.is.warning()||l.is.error()?(l.verbose("Reached 100% removing active state"),l.remove.active()):(l.set.success(),l.debug("Automatically triggering success at 100%")):a>0?(l.verbose("Adjusting active progress bar label",a),l.set.active()):(l.remove.active(),l.set.label(m.text.active))},barLabel:function(a){void 0!==a?w.text(l.get.text(a)):"ratio"==m.label&&l.total?(l.debug("Adding ratio to bar label"),w.text(l.get.text(m.text.ratio))):"percent"==m.label&&(l.debug("Adding percentage to bar label"),w.text(l.get.text(m.text.percent)))},active:function(a){a=a||m.text.active,l.debug("Setting active state"),m.showActivity&&!l.is.active()&&u.addClass(n.active),l.remove.warning(),l.remove.error(),l.remove.success(),a&&l.set.label(a),m.onActive.call(y,l.value,l.total)},success:function(a){a=a||m.text.success,l.debug("Setting success state"),u.addClass(n.success),l.remove.active(),l.remove.warning(),l.remove.error(),l.complete(),a&&l.set.label(a),m.onSuccess.call(y,l.total)},warning:function(a){a=a||m.text.warning,l.debug("Setting warning state"),u.addClass(n.warning),l.remove.active(),l.remove.success(),l.remove.error(),l.complete(),a&&l.set.label(a),m.onWarning.call(y,l.value,l.total)},error:function(a){a=a||m.text.error,l.debug("Setting error state"),u.addClass(n.error),l.remove.active(),l.remove.success(),l.remove.warning(),l.complete(),a&&l.set.label(a),m.onError.call(y,l.value,l.total)},transitionEvent:function(){e=l.get.transitionEnd()},total:function(a){l.total=a},value:function(a){l.value=a},progress:function(a){var b,c=l.get.numericValue(a);!1===c&&l.error(r.nonNumeric,a),l.has.total()?(l.set.value(c),b=c/l.total*100,l.debug("Calculating percent complete from total",b),l.set.percent(b)):(b=c,l.debug("Setting value to exact percentage value",b),l.set.percent(b))}},setting:function(b,c){if(l.debug("Changing setting",b,c),a.isPlainObject(b))a.extend(!0,m,b);else{if(void 0===c)return m[b];m[b]=c}},internal:function(b,c){if(a.isPlainObject(b))a.extend(!0,l,b);else{if(void 0===c)return l[b];l[b]=c}},debug:function(){m.debug&&(m.performance?l.performance.log(arguments):(l.debug=Function.prototype.bind.call(console.info,console,m.name+":"),l.debug.apply(console,arguments)))},verbose:function(){m.verbose&&m.debug&&(m.performance?l.performance.log(arguments):(l.verbose=Function.prototype.bind.call(console.info,console,m.name+":"),l.verbose.apply(console,arguments)))},error:function(){l.error=Function.prototype.bind.call(console.error,console,m.name+":"),l.error.apply(console,arguments)},performance:{log:function(a){var b,c,d;m.performance&&(b=(new Date).getTime(),d=g||b,c=b-d,g=b,h.push({Name:a[0],Arguments:[].slice.call(a,1)||"",Element:y,"Execution Time":c})),clearTimeout(l.performance.timer),l.performance.timer=setTimeout(l.performance.display,500)},display:function(){var b=m.name+":",c=0;g=!1,clearTimeout(l.performance.timer),a.each(h,function(a,b){c+=b["Execution Time"]}),b+=" "+c+"ms",f&&(b+=" '"+f+"'"),(void 0!==console.group||void 0!==console.table)&&h.length>0&&(console.groupCollapsed(b),console.table?console.table(h):a.each(h,function(a,b){console.log(b.Name+": "+b["Execution Time"]+"ms")}),console.groupEnd()),h=[]}},invoke:function(b,c,e){var f,g,h,i=z;return c=c||k,e=y||e,"string"==typeof b&&void 0!==i&&(b=b.split(/[\. ]/),f=b.length-1,a.each(b,function(c,d){var e=c!=f?d+b[c+1].charAt(0).toUpperCase()+b[c+1].slice(1):b;if(a.isPlainObject(i[e])&&c!=f)i=i[e];else{if(void 0!==i[e])return g=i[e],!1;if(!a.isPlainObject(i[d])||c==f)return void 0!==i[d]?(g=i[d],!1):(l.error(r.method,b),!1);i=i[d]}})),a.isFunction(g)?h=g.apply(e,c):void 0!==g&&(h=g),a.isArray(d)?d.push(h):void 0!==d?d=[d,h]:void 0!==h&&(d=h),g}},j?(void 0===z&&l.initialize(),l.invoke(i)):(void 0!==z&&z.invoke("destroy"),l.initialize())}),void 0!==d?d:this},a.fn.progress.settings={name:"Progress",namespace:"progress",debug:!1,verbose:!1,performance:!0,random:{min:2,max:5},duration:300,autoSuccess:!0,showActivity:!0,limitValues:!0,label:"percent",precision:0,framerate:1e3/30,percent:!1,total:!1,value:!1,onChange:function(a,b,c){},onSuccess:function(a){},onActive:function(a,b){},onError:function(a,b){},onWarning:function(a,b){},error:{method:"The method you called is not defined.",nonNumeric:"Progress value is non numeric",tooHigh:"Value specified is above 100%",tooLow:"Value specified is below 0%"},regExp:{variable:/\{\$*[A-z0-9]+\}/g},metadata:{percent:"percent",total:"total",value:"value"},selector:{bar:"> .bar",label:"> .label",progress:".bar > .progress"},text:{active:!1,error:!1,success:!1,warning:!1,percent:"{percent}%",ratio:"{value} of {total}"},className:{active:"active",error:"error",success:"success",warning:"warning"}}}(jQuery,window,document),function(a,b,c,d){"use strict";a.fn.rating=function(b){var c,d=a(this),e=d.selector||"",f=(new Date).getTime(),g=[],h=arguments[0],i="string"==typeof h,j=[].slice.call(arguments,1);return d.each(function(){var k,l=a.isPlainObject(b)?a.extend(!0,{},a.fn.rating.settings,b):a.extend({},a.fn.rating.settings),m=l.namespace,n=l.className,o=l.metadata,p=l.selector,q=(l.error,"."+m),r="module-"+m,s=this,t=a(this).data(r),u=a(this),v=u.find(p.icon);k={initialize:function(){k.verbose("Initializing rating module",l),0===v.length&&k.setup.layout(),l.interactive?k.enable():k.disable(),k.set.rating(k.get.initialRating()),k.instantiate()},instantiate:function(){k.verbose("Instantiating module",l),t=k,u.data(r,k)},destroy:function(){k.verbose("Destroying previous instance",t),k.remove.events(),u.removeData(r)},refresh:function(){v=u.find(p.icon)},setup:{layout:function(){var b=k.get.maxRating(),c=a.fn.rating.settings.templates.icon(b);k.debug("Generating icon html dynamically"),u.html(c),k.refresh()}},event:{mouseenter:function(){var b=a(this);b.nextAll().removeClass(n.selected),u.addClass(n.selected),b.addClass(n.selected).prevAll().addClass(n.selected)},mouseleave:function(){u.removeClass(n.selected),v.removeClass(n.selected)},click:function(){var b=a(this),c=k.get.rating(),d=v.index(b)+1;("auto"==l.clearable?1===v.length:l.clearable)&&c==d?k.clearRating():k.set.rating(d)}},clearRating:function(){k.debug("Clearing current rating"),k.set.rating(0)},bind:{events:function(){k.verbose("Binding events"),u.on("mouseenter"+q,p.icon,k.event.mouseenter).on("mouseleave"+q,p.icon,k.event.mouseleave).on("click"+q,p.icon,k.event.click)}},remove:{events:function(){k.verbose("Removing events"),u.off(q)}},enable:function(){k.debug("Setting rating to interactive mode"),k.bind.events(),u.removeClass(n.disabled)},disable:function(){k.debug("Setting rating to read-only mode"),k.remove.events(),u.addClass(n.disabled)},get:{initialRating:function(){return void 0!==u.data(o.rating)?(u.removeData(o.rating),u.data(o.rating)):l.initialRating},maxRating:function(){return void 0!==u.data(o.maxRating)?(u.removeData(o.maxRating),u.data(o.maxRating)):l.maxRating},rating:function(){var a=v.filter("."+n.active).length;return k.verbose("Current rating retrieved",a),a}},set:{rating:function(a){var b=a-1>=0?a-1:0,c=v.eq(b);u.removeClass(n.selected),v.removeClass(n.selected).removeClass(n.active),a>0&&(k.verbose("Setting current rating to",a),c.prevAll().andSelf().addClass(n.active)),l.onRate.call(s,a)}},setting:function(b,c){if(k.debug("Changing setting",b,c),a.isPlainObject(b))a.extend(!0,l,b);else{if(void 0===c)return l[b];l[b]=c}},internal:function(b,c){if(a.isPlainObject(b))a.extend(!0,k,b);else{if(void 0===c)return k[b];k[b]=c}},debug:function(){l.debug&&(l.performance?k.performance.log(arguments):(k.debug=Function.prototype.bind.call(console.info,console,l.name+":"),k.debug.apply(console,arguments)))},verbose:function(){l.verbose&&l.debug&&(l.performance?k.performance.log(arguments):(k.verbose=Function.prototype.bind.call(console.info,console,l.name+":"),k.verbose.apply(console,arguments)))},error:function(){k.error=Function.prototype.bind.call(console.error,console,l.name+":"),k.error.apply(console,arguments)},performance:{log:function(a){var b,c,d;l.performance&&(b=(new Date).getTime(),d=f||b,c=b-d,f=b,g.push({Name:a[0],Arguments:[].slice.call(a,1)||"",Element:s,"Execution Time":c})),clearTimeout(k.performance.timer),k.performance.timer=setTimeout(k.performance.display,500)},display:function(){var b=l.name+":",c=0;f=!1,clearTimeout(k.performance.timer),a.each(g,function(a,b){c+=b["Execution Time"]}),b+=" "+c+"ms",e&&(b+=" '"+e+"'"),d.length>1&&(b+=" ("+d.length+")"),(void 0!==console.group||void 0!==console.table)&&g.length>0&&(console.groupCollapsed(b),console.table?console.table(g):a.each(g,function(a,b){console.log(b.Name+": "+b["Execution Time"]+"ms")}),console.groupEnd()),g=[]}},invoke:function(b,d,e){var f,g,h,i=t;return d=d||j,e=s||e,"string"==typeof b&&void 0!==i&&(b=b.split(/[\. ]/),f=b.length-1,a.each(b,function(c,d){var e=c!=f?d+b[c+1].charAt(0).toUpperCase()+b[c+1].slice(1):b;if(a.isPlainObject(i[e])&&c!=f)i=i[e];else{if(void 0!==i[e])return g=i[e],!1;if(!a.isPlainObject(i[d])||c==f)return void 0!==i[d]&&(g=i[d],!1);i=i[d]}})),a.isFunction(g)?h=g.apply(e,d):void 0!==g&&(h=g),a.isArray(c)?c.push(h):void 0!==c?c=[c,h]:void 0!==h&&(c=h),g}},i?(void 0===t&&k.initialize(),k.invoke(h)):(void 0!==t&&t.invoke("destroy"),k.initialize())}),void 0!==c?c:this},a.fn.rating.settings={name:"Rating",namespace:"rating",debug:!1,verbose:!1,performance:!0,initialRating:0,interactive:!0,maxRating:4,clearable:"auto",onRate:function(a){},error:{method:"The method you called is not defined",noMaximum:"No maximum rating specified. Cannot generate HTML automatically"},metadata:{rating:"rating",maxRating:"maxRating"},className:{active:"active",disabled:"disabled",selected:"selected",loading:"loading"},selector:{icon:".icon"},templates:{icon:function(a){for(var b=1,c="";b<=a;)c+='<i class="icon"></i>',b++;return c}}}}(jQuery,window,document),function(a,b,c,d){"use strict";a.fn.search=function(d){var e,f=a(this),g=f.selector||"",h=(new Date).getTime(),i=[],j=arguments[0],k="string"==typeof j,l=[].slice.call(arguments,1);return a(this).each(function(){var m,n=a.isPlainObject(d)?a.extend(!0,{},a.fn.search.settings,d):a.extend({},a.fn.search.settings),o=n.className,p=n.metadata,q=n.regExp,r=n.fields,s=n.selector,t=n.error,u=n.namespace,v="."+u,w=u+"-module",x=a(this),y=x.find(s.prompt),z=x.find(s.searchButton),A=x.find(s.results),B=(x.find(s.result),x.find(s.category),this),C=x.data(w);m={initialize:function(){m.verbose("Initializing module"),m.determine.searchFields(),m.bind.events(),m.set.type(),m.create.results(),m.instantiate()},instantiate:function(){m.verbose("Storing instance of module",m),C=m,x.data(w,m)},destroy:function(){m.verbose("Destroying instance"),x.off(v).removeData(w)},bind:{events:function(){m.verbose("Binding events to search"),n.automatic&&(x.on(m.get.inputEvent()+v,s.prompt,m.event.input),y.attr("autocomplete","off")),x.on("focus"+v,s.prompt,m.event.focus).on("blur"+v,s.prompt,m.event.blur).on("keydown"+v,s.prompt,m.handleKeyboard).on("click"+v,s.searchButton,m.query).on("mousedown"+v,s.results,m.event.result.mousedown).on("mouseup"+v,s.results,m.event.result.mouseup).on("click"+v,s.result,m.event.result.click)}},determine:{searchFields:function(){d&&void 0!==d.searchFields&&(n.searchFields=d.searchFields)}},event:{input:function(){clearTimeout(m.timer),m.timer=setTimeout(m.query,n.searchDelay)},focus:function(){m.set.focus(),m.has.minimumCharacters()&&(m.query(),m.can.show()&&m.showResults())},blur:function(a){var b=c.activeElement===this,d=function(){m.cancel.query(),m.remove.focus(),m.timer=setTimeout(m.hideResults,n.hideDelay)};b||(m.resultsClicked?(m.debug("Determining if user action caused search to close"),x.one("click",s.results,function(a){m.is.animating()||m.is.hidden()||d()})):(m.debug("Input blurred without user action, closing results"),d()))},result:{mousedown:function(){m.resultsClicked=!0},mouseup:function(){m.resultsClicked=!1},click:function(c){m.debug("Search result selected");var d=a(this),e=d.find(s.title).eq(0),f=d.find("a[href]").eq(0),g=f.attr("href")||!1,h=f.attr("target")||!1,i=(e.html(),e.length>0&&e.text()),j=m.get.results(),k=d.data(p.result)||m.get.result(i,j);if(a.isFunction(n.onSelect)&&!1===n.onSelect.call(B,k,j))return void m.debug("Custom onSelect callback cancelled default select action");m.hideResults(),i&&m.set.value(i),g&&(m.verbose("Opening search link found in result",f),"_blank"==h||c.ctrlKey?b.open(g):b.location.href=g)}}},handleKeyboard:function(a){var b,c=x.find(s.result),d=x.find(s.category),e=c.index(c.filter("."+o.active)),f=c.length,g=a.which,h={backspace:8,enter:13,escape:27,upArrow:38,downArrow:40};if(g==h.escape&&(m.verbose("Escape key pressed, blurring search field"),m.trigger.blur()),m.is.visible())if(g==h.enter){if(m.verbose("Enter key pressed, selecting active result"),c.filter("."+o.active).length>0)return m.event.result.click.call(c.filter("."+o.active),a),a.preventDefault(),!1}else g==h.upArrow?(m.verbose("Up key pressed, changing active result"),b=e-1<0?e:e-1,d.removeClass(o.active),c.removeClass(o.active).eq(b).addClass(o.active).closest(d).addClass(o.active),a.preventDefault()):g==h.downArrow&&(m.verbose("Down key pressed, changing active result"),b=e+1>=f?e:e+1,d.removeClass(o.active),c.removeClass(o.active).eq(b).addClass(o.active).closest(d).addClass(o.active),a.preventDefault());else g==h.enter&&(m.verbose("Enter key pressed, executing query"),m.query(),m.set.buttonPressed(),y.one("keyup",m.remove.buttonFocus))},setup:{api:function(){var a={debug:n.debug,on:!1,cache:"local",action:"search",onError:m.error};m.verbose("First request, initializing API"),x.api(a)}},can:{useAPI:function(){return void 0!==a.fn.api},show:function(){return m.is.focused()&&!m.is.visible()&&!m.is.empty()},transition:function(){return n.transition&&void 0!==a.fn.transition&&x.transition("is supported")}},is:{animating:function(){return A.hasClass(o.animating)},hidden:function(){return A.hasClass(o.hidden)},empty:function(){return""===A.html()},visible:function(){return A.filter(":visible").length>0},focused:function(){return y.filter(":focus").length>0}},trigger:{blur:function(){var a=c.createEvent("HTMLEvents"),b=y[0];b&&(m.verbose("Triggering native blur event"),a.initEvent("blur",!1,!1),b.dispatchEvent(a))}},get:{inputEvent:function(){var a=y[0];return void 0!==a&&void 0!==a.oninput?"input":void 0!==a&&void 0!==a.onpropertychange?"propertychange":"keyup"},value:function(){return y.val()},results:function(){return x.data(p.results)},result:function(b,c){var d=["title","id"],e=!1;return b=void 0!==b?b:m.get.value(),c=void 0!==c?c:m.get.results(),"category"===n.type?(m.debug("Finding result that matches",b),a.each(c,function(c,f){if(a.isArray(f.results)&&(e=m.search.object(b,f.results,d)[0]))return!1})):(m.debug("Finding result in results object",b),e=m.search.object(b,c,d)[0]),e||!1}},set:{focus:function(){x.addClass(o.focus)},loading:function(){x.addClass(o.loading)},value:function(a){m.verbose("Setting search input value",a),y.val(a)},type:function(a){a=a||n.type,"category"==n.type&&x.addClass(n.type)},buttonPressed:function(){z.addClass(o.pressed)}},remove:{loading:function(){x.removeClass(o.loading)},focus:function(){x.removeClass(o.focus)},buttonPressed:function(){z.removeClass(o.pressed)}},query:function(){var b=m.get.value(),c=m.read.cache(b);m.has.minimumCharacters()?(c?(m.debug("Reading result from cache",b),m.save.results(c.results),m.addResults(c.html),m.inject.id(c.results)):(m.debug("Querying for",b),a.isPlainObject(n.source)||a.isArray(n.source)?m.search.local(b):m.can.useAPI()?m.search.remote(b):m.error(t.source)),n.onSearchQuery.call(B,b)):m.hideResults()},search:{local:function(a){var b,c=m.search.object(a,n.content);m.set.loading(),m.save.results(c),m.debug("Returned local search results",c),b=m.generateResults({results:c}),m.remove.loading(),m.addResults(b),m.inject.id(c),m.write.cache(a,{html:b,results:c})},remote:function(b){var c={onSuccess:function(a){m.parse.response.call(B,a,b)},onFailure:function(){m.displayMessage(t.serverError)},urlData:{query:b}};x.api("get request")||m.setup.api(),a.extend(!0,c,n.apiSettings),m.debug("Executing search",c),m.cancel.query(),x.api("setting",c).api("query")},object:function(b,c,d){var e=[],f=[],g=b.toString().replace(q.escape,"\\$&"),h=new RegExp(q.beginsWith+g,"i"),i=function(b,c){var d=-1==a.inArray(c,e),g=-1==a.inArray(c,f);d&&g&&b.push(c)};return c=c||n.source,d=void 0!==d?d:n.searchFields,a.isArray(d)||(d=[d]),void 0===c||!1===c?(m.error(t.source),[]):(a.each(d,function(d,g){a.each(c,function(a,c){"string"==typeof c[g]&&(-1!==c[g].search(h)?i(e,c):n.searchFullText&&m.fuzzySearch(b,c[g])&&i(f,c))})}),a.merge(e,f))}},fuzzySearch:function(a,b){var c=b.length,d=a.length;if("string"!=typeof a)return!1;if(a=a.toLowerCase(),b=b.toLowerCase(),d>c)return!1;if(d===c)return a===b;a:for(var e=0,f=0;e<d;e++){for(var g=a.charCodeAt(e);f<c;)if(b.charCodeAt(f++)===g)continue a;return!1}return!0},parse:{response:function(a,b){var c=m.generateResults(a);m.verbose("Parsing server response",a),void 0!==a&&void 0!==b&&void 0!==a[r.results]&&(m.addResults(c),m.inject.id(a[r.results]),m.write.cache(b,{html:c,results:a[r.results]}),m.save.results(a[r.results]))}},cancel:{query:function(){m.can.useAPI()&&x.api("abort")}},has:{minimumCharacters:function(){return m.get.value().length>=n.minCharacters}},clear:{cache:function(a){var b=x.data(p.cache);a?a&&b&&b[a]&&(m.debug("Removing value from cache",a),delete b[a],x.data(p.cache,b)):(m.debug("Clearing cache",a),x.removeData(p.cache))}},read:{cache:function(a){var b=x.data(p.cache);return!!n.cache&&(m.verbose("Checking cache for generated html for query",a),"object"==typeof b&&void 0!==b[a]&&b[a])}},create:{id:function(a,b){var c,d,e=a+1;return void 0!==b?(c=String.fromCharCode(97+b),d=c+e,m.verbose("Creating category result id",d)):(d=e,m.verbose("Creating result id",d)),d},results:function(){0===A.length&&(A=a("<div />").addClass(o.results).appendTo(x))}},inject:{result:function(a,b,c){m.verbose("Injecting result into results");var d=void 0!==c?A.children().eq(c).children(s.result).eq(b):A.children(s.result).eq(b);m.verbose("Injecting results metadata",d),d.data(p.result,a)},id:function(b){m.debug("Injecting unique ids into results");var c=0,d=0;return"category"===n.type?a.each(b,function(b,e){d=0,a.each(e.results,function(a,b){var f=e.results[a];void 0===f.id&&(f.id=m.create.id(d,c)),m.inject.result(f,d,c),d++}),c++}):a.each(b,function(a,c){var e=b[a];void 0===e.id&&(e.id=m.create.id(d)),m.inject.result(e,d),d++}),b}},save:{results:function(a){m.verbose("Saving current search results to metadata",a),x.data(p.results,a)}},write:{cache:function(a,b){var c=void 0!==x.data(p.cache)?x.data(p.cache):{}
;n.cache&&(m.verbose("Writing generated html to cache",a,b),c[a]=b,x.data(p.cache,c))}},addResults:function(b){if(a.isFunction(n.onResultsAdd)&&!1===n.onResultsAdd.call(A,b))return m.debug("onResultsAdd callback cancelled default action"),!1;A.html(b),m.can.show()&&m.showResults()},showResults:function(){m.is.visible()||(m.can.transition()?(m.debug("Showing results with css animations"),A.transition({animation:n.transition+" in",debug:n.debug,verbose:n.verbose,duration:n.duration,queue:!0})):(m.debug("Showing results with javascript"),A.stop().fadeIn(n.duration,n.easing)),n.onResultsOpen.call(A))},hideResults:function(){m.is.visible()&&(m.can.transition()?(m.debug("Hiding results with css animations"),A.transition({animation:n.transition+" out",debug:n.debug,verbose:n.verbose,duration:n.duration,queue:!0})):(m.debug("Hiding results with javascript"),A.stop().fadeOut(n.duration,n.easing)),n.onResultsClose.call(A))},generateResults:function(b){m.debug("Generating html from response",b);var c=n.templates[n.type],d=a.isPlainObject(b[r.results])&&!a.isEmptyObject(b[r.results]),e=a.isArray(b[r.results])&&b[r.results].length>0,f="";return d||e?(n.maxResults>0&&(d?"standard"==n.type&&m.error(t.maxResults):b[r.results]=b[r.results].slice(0,n.maxResults)),a.isFunction(c)?f=c(b,r):m.error(t.noTemplate,!1)):f=m.displayMessage(t.noResults,"empty"),n.onResults.call(B,b),f},displayMessage:function(a,b){return b=b||"standard",m.debug("Displaying message",a,b),m.addResults(n.templates.message(a,b)),n.templates.message(a,b)},setting:function(b,c){if(a.isPlainObject(b))a.extend(!0,n,b);else{if(void 0===c)return n[b];n[b]=c}},internal:function(b,c){if(a.isPlainObject(b))a.extend(!0,m,b);else{if(void 0===c)return m[b];m[b]=c}},debug:function(){n.debug&&(n.performance?m.performance.log(arguments):(m.debug=Function.prototype.bind.call(console.info,console,n.name+":"),m.debug.apply(console,arguments)))},verbose:function(){n.verbose&&n.debug&&(n.performance?m.performance.log(arguments):(m.verbose=Function.prototype.bind.call(console.info,console,n.name+":"),m.verbose.apply(console,arguments)))},error:function(){m.error=Function.prototype.bind.call(console.error,console,n.name+":"),m.error.apply(console,arguments)},performance:{log:function(a){var b,c,d;n.performance&&(b=(new Date).getTime(),d=h||b,c=b-d,h=b,i.push({Name:a[0],Arguments:[].slice.call(a,1)||"",Element:B,"Execution Time":c})),clearTimeout(m.performance.timer),m.performance.timer=setTimeout(m.performance.display,500)},display:function(){var b=n.name+":",c=0;h=!1,clearTimeout(m.performance.timer),a.each(i,function(a,b){c+=b["Execution Time"]}),b+=" "+c+"ms",g&&(b+=" '"+g+"'"),f.length>1&&(b+=" ("+f.length+")"),(void 0!==console.group||void 0!==console.table)&&i.length>0&&(console.groupCollapsed(b),console.table?console.table(i):a.each(i,function(a,b){console.log(b.Name+": "+b["Execution Time"]+"ms")}),console.groupEnd()),i=[]}},invoke:function(b,c,d){var f,g,h,i=C;return c=c||l,d=B||d,"string"==typeof b&&void 0!==i&&(b=b.split(/[\. ]/),f=b.length-1,a.each(b,function(c,d){var e=c!=f?d+b[c+1].charAt(0).toUpperCase()+b[c+1].slice(1):b;if(a.isPlainObject(i[e])&&c!=f)i=i[e];else{if(void 0!==i[e])return g=i[e],!1;if(!a.isPlainObject(i[d])||c==f)return void 0!==i[d]&&(g=i[d],!1);i=i[d]}})),a.isFunction(g)?h=g.apply(d,c):void 0!==g&&(h=g),a.isArray(e)?e.push(h):void 0!==e?e=[e,h]:void 0!==h&&(e=h),g}},k?(void 0===C&&m.initialize(),m.invoke(j)):(void 0!==C&&C.invoke("destroy"),m.initialize())}),void 0!==e?e:this},a.fn.search.settings={name:"Search",namespace:"search",debug:!1,verbose:!1,performance:!0,type:"standard",minCharacters:1,apiSettings:!1,source:!1,searchFields:["title","description"],displayField:"",searchFullText:!0,automatic:!0,hideDelay:0,searchDelay:200,maxResults:7,cache:!0,transition:"scale",duration:200,easing:"easeOutExpo",onSelect:!1,onResultsAdd:!1,onSearchQuery:function(a){},onResults:function(a){},onResultsOpen:function(){},onResultsClose:function(){},className:{animating:"animating",active:"active",empty:"empty",focus:"focus",hidden:"hidden",loading:"loading",results:"results",pressed:"down"},error:{source:"Cannot search. No source used, and Semantic API module was not included",noResults:"Your search returned no results",logging:"Error in debug logging, exiting.",noEndpoint:"No search endpoint was specified",noTemplate:"A valid template name was not specified.",serverError:"There was an issue querying the server.",maxResults:"Results must be an array to use maxResults setting",method:"The method you called is not defined."},metadata:{cache:"cache",results:"results",result:"result"},regExp:{escape:/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,beginsWith:"(?:s|^)"},fields:{categories:"results",categoryName:"name",categoryResults:"results",description:"description",image:"image",price:"price",results:"results",title:"title",url:"url",action:"action",actionText:"text",actionURL:"url"},selector:{prompt:".prompt",searchButton:".search.button",results:".results",category:".category",result:".result",title:".title, .name"},templates:{escape:function(a){var b=/[&<>"'`]/g,c=/[&<>"'`]/,d={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},e=function(a){return d[a]};return c.test(a)?a.replace(b,e):a},message:function(a,b){var c="";return void 0!==a&&void 0!==b&&(c+='<div class="message '+b+'">',c+="empty"==b?'<div class="header">No Results</div class="header"><div class="description">'+a+'</div class="description">':' <div class="description">'+a+"</div>",c+="</div>"),c},category:function(b,c){var d="";a.fn.search.settings.templates.escape;return void 0!==b[c.categoryResults]&&(a.each(b[c.categoryResults],function(b,e){void 0!==e[c.results]&&e.results.length>0&&(d+='<div class="category">',void 0!==e[c.categoryName]&&(d+='<div class="name">'+e[c.categoryName]+"</div>"),a.each(e.results,function(a,b){b[c.url]?d+='<a class="result" href="'+b[c.url]+'">':d+='<a class="result">',void 0!==b[c.image]&&(d+='<div class="image"> <img src="'+b[c.image]+'"></div>'),d+='<div class="content">',void 0!==b[c.price]&&(d+='<div class="price">'+b[c.price]+"</div>"),void 0!==b[c.title]&&(d+='<div class="title">'+b[c.title]+"</div>"),void 0!==b[c.description]&&(d+='<div class="description">'+b[c.description]+"</div>"),d+="</div>",d+="</a>"}),d+="</div>")}),b[c.action]&&(d+='<a href="'+b[c.action][c.actionURL]+'" class="action">'+b[c.action][c.actionText]+"</a>"),d)},standard:function(b,c){var d="";return void 0!==b[c.results]&&(a.each(b[c.results],function(a,b){b[c.url]?d+='<a class="result" href="'+b[c.url]+'">':d+='<a class="result">',void 0!==b[c.image]&&(d+='<div class="image"> <img src="'+b[c.image]+'"></div>'),d+='<div class="content">',void 0!==b[c.price]&&(d+='<div class="price">'+b[c.price]+"</div>"),void 0!==b[c.title]&&(d+='<div class="title">'+b[c.title]+"</div>"),void 0!==b[c.description]&&(d+='<div class="description">'+b[c.description]+"</div>"),d+="</div>",d+="</a>"}),b[c.action]&&(d+='<a href="'+b[c.action][c.actionURL]+'" class="action">'+b[c.action][c.actionText]+"</a>"),d)}}}}(jQuery,window,document),function(a,b,c,d){"use strict";a.fn.shape=function(d){var e,f=a(this),g=(a("body"),(new Date).getTime()),h=[],i=arguments[0],j="string"==typeof i,k=[].slice.call(arguments,1),l=b.requestAnimationFrame||b.mozRequestAnimationFrame||b.webkitRequestAnimationFrame||b.msRequestAnimationFrame||function(a){setTimeout(a,0)};return f.each(function(){var b,m,n,o=f.selector||"",p=a.isPlainObject(d)?a.extend(!0,{},a.fn.shape.settings,d):a.extend({},a.fn.shape.settings),q=p.namespace,r=p.selector,s=p.error,t=p.className,u="."+q,v="module-"+q,w=a(this),x=w.find(r.sides),y=w.find(r.side),z=!1,A=this,B=w.data(v);n={initialize:function(){n.verbose("Initializing module for",A),n.set.defaultSide(),n.instantiate()},instantiate:function(){n.verbose("Storing instance of module",n),B=n,w.data(v,B)},destroy:function(){n.verbose("Destroying previous module for",A),w.removeData(v).off(u)},refresh:function(){n.verbose("Refreshing selector cache for",A),w=a(A),x=a(this).find(r.shape),y=a(this).find(r.side)},repaint:function(){n.verbose("Forcing repaint event");var a=x[0]||c.createElement("div");a.offsetWidth},animate:function(a,c){n.verbose("Animating box with properties",a),c=c||function(a){n.verbose("Executing animation callback"),void 0!==a&&a.stopPropagation(),n.reset(),n.set.active()},p.beforeChange.call(m[0]),n.get.transitionEvent()?(n.verbose("Starting CSS animation"),w.addClass(t.animating),x.css(a).one(n.get.transitionEvent(),c),n.set.duration(p.duration),l(function(){w.addClass(t.animating),b.addClass(t.hidden)})):c()},queue:function(a){n.debug("Queueing animation of",a),x.one(n.get.transitionEvent(),function(){n.debug("Executing queued animation"),setTimeout(function(){w.shape(a)},0)})},reset:function(){n.verbose("Animating states reset"),w.removeClass(t.animating).attr("style","").removeAttr("style"),x.attr("style","").removeAttr("style"),y.attr("style","").removeAttr("style").removeClass(t.hidden),m.removeClass(t.animating).attr("style","").removeAttr("style")},is:{complete:function(){return y.filter("."+t.active)[0]==m[0]},animating:function(){return w.hasClass(t.animating)}},set:{defaultSide:function(){b=w.find("."+p.className.active),m=b.next(r.side).length>0?b.next(r.side):w.find(r.side).first(),z=!1,n.verbose("Active side set to",b),n.verbose("Next side set to",m)},duration:function(a){a=a||p.duration,a="number"==typeof a?a+"ms":a,n.verbose("Setting animation duration",a),(p.duration||0===p.duration)&&x.add(y).css({"-webkit-transition-duration":a,"-moz-transition-duration":a,"-ms-transition-duration":a,"-o-transition-duration":a,"transition-duration":a})},currentStageSize:function(){var a=w.find("."+p.className.active),b=a.outerWidth(!0),c=a.outerHeight(!0);w.css({width:b,height:c})},stageSize:function(){var a=w.clone().addClass(t.loading),b=a.find("."+p.className.active),c=z?a.find(r.side).eq(z):b.next(r.side).length>0?b.next(r.side):a.find(r.side).first(),d={};n.set.currentStageSize(),b.removeClass(t.active),c.addClass(t.active),a.insertAfter(w),d={width:c.outerWidth(!0),height:c.outerHeight(!0)},a.remove(),w.css(d),n.verbose("Resizing stage to fit new content",d)},nextSide:function(a){z=a,m=y.filter(a),z=y.index(m),0===m.length&&(n.set.defaultSide(),n.error(s.side)),n.verbose("Next side manually set to",m)},active:function(){n.verbose("Setting new side to active",m),y.removeClass(t.active),m.addClass(t.active),p.onChange.call(m[0]),n.set.defaultSide()}},flip:{up:function(){if(n.is.complete()&&!n.is.animating()&&!p.allowRepeats)return void n.debug("Side already visible",m);n.is.animating()?n.queue("flip up"):(n.debug("Flipping up",m),n.set.stageSize(),n.stage.above(),n.animate(n.get.transform.up()))},down:function(){if(n.is.complete()&&!n.is.animating()&&!p.allowRepeats)return void n.debug("Side already visible",m);n.is.animating()?n.queue("flip down"):(n.debug("Flipping down",m),n.set.stageSize(),n.stage.below(),n.animate(n.get.transform.down()))},left:function(){if(n.is.complete()&&!n.is.animating()&&!p.allowRepeats)return void n.debug("Side already visible",m);n.is.animating()?n.queue("flip left"):(n.debug("Flipping left",m),n.set.stageSize(),n.stage.left(),n.animate(n.get.transform.left()))},right:function(){if(n.is.complete()&&!n.is.animating()&&!p.allowRepeats)return void n.debug("Side already visible",m);n.is.animating()?n.queue("flip right"):(n.debug("Flipping right",m),n.set.stageSize(),n.stage.right(),n.animate(n.get.transform.right()))},over:function(){if(n.is.complete()&&!n.is.animating()&&!p.allowRepeats)return void n.debug("Side already visible",m);n.is.animating()?n.queue("flip over"):(n.debug("Flipping over",m),n.set.stageSize(),n.stage.behind(),n.animate(n.get.transform.over()))},back:function(){if(n.is.complete()&&!n.is.animating()&&!p.allowRepeats)return void n.debug("Side already visible",m);n.is.animating()?n.queue("flip back"):(n.debug("Flipping back",m),n.set.stageSize(),n.stage.behind(),n.animate(n.get.transform.back()))}},get:{transform:{up:function(){var a={y:-(b.outerHeight(!0)-m.outerHeight(!0))/2,z:-b.outerHeight(!0)/2};return{transform:"translateY("+a.y+"px) translateZ("+a.z+"px) rotateX(-90deg)"}},down:function(){var a={y:-(b.outerHeight(!0)-m.outerHeight(!0))/2,z:-b.outerHeight(!0)/2};return{transform:"translateY("+a.y+"px) translateZ("+a.z+"px) rotateX(90deg)"}},left:function(){var a={x:-(b.outerWidth(!0)-m.outerWidth(!0))/2,z:-b.outerWidth(!0)/2};return{transform:"translateX("+a.x+"px) translateZ("+a.z+"px) rotateY(90deg)"}},right:function(){var a={x:-(b.outerWidth(!0)-m.outerWidth(!0))/2,z:-b.outerWidth(!0)/2};return{transform:"translateX("+a.x+"px) translateZ("+a.z+"px) rotateY(-90deg)"}},over:function(){return{transform:"translateX("+{x:-(b.outerWidth(!0)-m.outerWidth(!0))/2}.x+"px) rotateY(180deg)"}},back:function(){return{transform:"translateX("+{x:-(b.outerWidth(!0)-m.outerWidth(!0))/2}.x+"px) rotateY(-180deg)"}}},transitionEvent:function(){var a,b=c.createElement("element"),d={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(a in d)if(void 0!==b.style[a])return d[a]},nextSide:function(){return b.next(r.side).length>0?b.next(r.side):w.find(r.side).first()}},stage:{above:function(){var a={origin:(b.outerHeight(!0)-m.outerHeight(!0))/2,depth:{active:m.outerHeight(!0)/2,next:b.outerHeight(!0)/2}};n.verbose("Setting the initial animation position as above",m,a),x.css({transform:"translateZ(-"+a.depth.active+"px)"}),b.css({transform:"rotateY(0deg) translateZ("+a.depth.active+"px)"}),m.addClass(t.animating).css({top:a.origin+"px",transform:"rotateX(90deg) translateZ("+a.depth.next+"px)"})},below:function(){var a={origin:(b.outerHeight(!0)-m.outerHeight(!0))/2,depth:{active:m.outerHeight(!0)/2,next:b.outerHeight(!0)/2}};n.verbose("Setting the initial animation position as below",m,a),x.css({transform:"translateZ(-"+a.depth.active+"px)"}),b.css({transform:"rotateY(0deg) translateZ("+a.depth.active+"px)"}),m.addClass(t.animating).css({top:a.origin+"px",transform:"rotateX(-90deg) translateZ("+a.depth.next+"px)"})},left:function(){var a={active:b.outerWidth(!0),next:m.outerWidth(!0)},c={origin:(a.active-a.next)/2,depth:{active:a.next/2,next:a.active/2}};n.verbose("Setting the initial animation position as left",m,c),x.css({transform:"translateZ(-"+c.depth.active+"px)"}),b.css({transform:"rotateY(0deg) translateZ("+c.depth.active+"px)"}),m.addClass(t.animating).css({left:c.origin+"px",transform:"rotateY(-90deg) translateZ("+c.depth.next+"px)"})},right:function(){var a={active:b.outerWidth(!0),next:m.outerWidth(!0)},c={origin:(a.active-a.next)/2,depth:{active:a.next/2,next:a.active/2}};n.verbose("Setting the initial animation position as left",m,c),x.css({transform:"translateZ(-"+c.depth.active+"px)"}),b.css({transform:"rotateY(0deg) translateZ("+c.depth.active+"px)"}),m.addClass(t.animating).css({left:c.origin+"px",transform:"rotateY(90deg) translateZ("+c.depth.next+"px)"})},behind:function(){var a={active:b.outerWidth(!0),next:m.outerWidth(!0)},c={origin:(a.active-a.next)/2,depth:{active:a.next/2,next:a.active/2}};n.verbose("Setting the initial animation position as behind",m,c),b.css({transform:"rotateY(0deg)"}),m.addClass(t.animating).css({left:c.origin+"px",transform:"rotateY(-180deg)"})}},setting:function(b,c){if(n.debug("Changing setting",b,c),a.isPlainObject(b))a.extend(!0,p,b);else{if(void 0===c)return p[b];p[b]=c}},internal:function(b,c){if(a.isPlainObject(b))a.extend(!0,n,b);else{if(void 0===c)return n[b];n[b]=c}},debug:function(){p.debug&&(p.performance?n.performance.log(arguments):(n.debug=Function.prototype.bind.call(console.info,console,p.name+":"),n.debug.apply(console,arguments)))},verbose:function(){p.verbose&&p.debug&&(p.performance?n.performance.log(arguments):(n.verbose=Function.prototype.bind.call(console.info,console,p.name+":"),n.verbose.apply(console,arguments)))},error:function(){n.error=Function.prototype.bind.call(console.error,console,p.name+":"),n.error.apply(console,arguments)},performance:{log:function(a){var b,c,d;p.performance&&(b=(new Date).getTime(),d=g||b,c=b-d,g=b,h.push({Name:a[0],Arguments:[].slice.call(a,1)||"",Element:A,"Execution Time":c})),clearTimeout(n.performance.timer),n.performance.timer=setTimeout(n.performance.display,500)},display:function(){var b=p.name+":",c=0;g=!1,clearTimeout(n.performance.timer),a.each(h,function(a,b){c+=b["Execution Time"]}),b+=" "+c+"ms",o&&(b+=" '"+o+"'"),f.length>1&&(b+=" ("+f.length+")"),(void 0!==console.group||void 0!==console.table)&&h.length>0&&(console.groupCollapsed(b),console.table?console.table(h):a.each(h,function(a,b){console.log(b.Name+": "+b["Execution Time"]+"ms")}),console.groupEnd()),h=[]}},invoke:function(b,c,d){var f,g,h,i=B;return c=c||k,d=A||d,"string"==typeof b&&void 0!==i&&(b=b.split(/[\. ]/),f=b.length-1,a.each(b,function(c,d){var e=c!=f?d+b[c+1].charAt(0).toUpperCase()+b[c+1].slice(1):b;if(a.isPlainObject(i[e])&&c!=f)i=i[e];else{if(void 0!==i[e])return g=i[e],!1;if(!a.isPlainObject(i[d])||c==f)return void 0!==i[d]&&(g=i[d],!1);i=i[d]}})),a.isFunction(g)?h=g.apply(d,c):void 0!==g&&(h=g),a.isArray(e)?e.push(h):void 0!==e?e=[e,h]:void 0!==h&&(e=h),g}},j?(void 0===B&&n.initialize(),n.invoke(i)):(void 0!==B&&B.invoke("destroy"),n.initialize())}),void 0!==e?e:this},a.fn.shape.settings={name:"Shape",debug:!1,verbose:!1,performance:!0,namespace:"shape",beforeChange:function(){},onChange:function(){},allowRepeats:!1,duration:!1,error:{side:"You tried to switch to a side that does not exist.",method:"The method you called is not defined"},className:{animating:"animating",hidden:"hidden",loading:"loading",active:"active"},selector:{sides:".sides",side:".side"}}}(jQuery,window,document),function(a,b,c,d){"use strict";a.fn.sidebar=function(d){var e,f=a(this),g=a(b),h=a(c),i=a("html"),j=a("head"),k=f.selector||"",l=(new Date).getTime(),m=[],n=arguments[0],o="string"==typeof n,p=[].slice.call(arguments,1),q=b.requestAnimationFrame||b.mozRequestAnimationFrame||b.webkitRequestAnimationFrame||b.msRequestAnimationFrame||function(a){setTimeout(a,0)};return f.each(function(){var f,r,s,t,u,v,w=a.isPlainObject(d)?a.extend(!0,{},a.fn.sidebar.settings,d):a.extend({},a.fn.sidebar.settings),x=w.selector,y=w.className,z=w.namespace,A=w.regExp,B=w.error,C="."+z,D="module-"+z,E=a(this),F=a(w.context),G=E.children(x.sidebar),H=F.children(x.fixed),I=F.children(x.pusher),J=this,K=E.data(D);v={initialize:function(){v.debug("Initializing sidebar",d),v.create.id(),u=v.get.transitionEvent(),v.is.ios()&&v.set.ios(),w.delaySetup?q(v.setup.layout):v.setup.layout(),q(function(){v.setup.cache()}),v.instantiate()},instantiate:function(){v.verbose("Storing instance of module",v),K=v,E.data(D,v)},create:{id:function(){s=(Math.random().toString(16)+"000000000").substr(2,8),r="."+s,v.verbose("Creating unique id for element",s)}},destroy:function(){v.verbose("Destroying previous module for",E),E.off(C).removeData(D),v.is.ios()&&v.remove.ios(),F.off(r),g.off(r),h.off(r)},event:{clickaway:function(a){var b=I.find(a.target).length>0||I.is(a.target),c=F.is(a.target);b&&(v.verbose("User clicked on dimmed page"),v.hide()),c&&(v.verbose("User clicked on dimmable context (scaled out page)"),v.hide())},touch:function(a){},containScroll:function(a){J.scrollTop<=0&&(J.scrollTop=1),J.scrollTop+J.offsetHeight>=J.scrollHeight&&(J.scrollTop=J.scrollHeight-J.offsetHeight-1)},scroll:function(b){0===a(b.target).closest(x.sidebar).length&&b.preventDefault()}},bind:{clickaway:function(){v.verbose("Adding clickaway events to context",F),w.closable&&F.on("click"+r,v.event.clickaway).on("touchend"+r,v.event.clickaway)},scrollLock:function(){w.scrollLock&&(v.debug("Disabling page scroll"),g.on("DOMMouseScroll"+r,v.event.scroll)),v.verbose("Adding events to contain sidebar scroll"),h.on("touchmove"+r,v.event.touch),E.on("scroll"+C,v.event.containScroll)}},unbind:{clickaway:function(){v.verbose("Removing clickaway events from context",F),F.off(r)},scrollLock:function(){v.verbose("Removing scroll lock from page"),h.off(r),g.off(r),E.off("scroll"+C)}},add:{inlineCSS:function(){var b,c=v.cache.width||E.outerWidth(),d=v.cache.height||E.outerHeight(),e=v.is.rtl(),g=v.get.direction(),h={left:c,right:-c,top:d,bottom:-d};e&&(v.verbose("RTL detected, flipping widths"),h.left=-c,h.right=c),b="<style>","left"===g||"right"===g?(v.debug("Adding CSS rules for animation distance",c),b+=" .ui.visible."+g+".sidebar ~ .fixed, .ui.visible."+g+".sidebar ~ .pusher {   -webkit-transform: translate3d("+h[g]+"px, 0, 0);           transform: translate3d("+h[g]+"px, 0, 0); }"):"top"!==g&&"bottom"!=g||(b+=" .ui.visible."+g+".sidebar ~ .fixed, .ui.visible."+g+".sidebar ~ .pusher {   -webkit-transform: translate3d(0, "+h[g]+"px, 0);           transform: translate3d(0, "+h[g]+"px, 0); }"),v.is.ie()&&("left"===g||"right"===g?(v.debug("Adding CSS rules for animation distance",c),b+=" body.pushable > .ui.visible."+g+".sidebar ~ .pusher:after {   -webkit-transform: translate3d("+h[g]+"px, 0, 0);           transform: translate3d("+h[g]+"px, 0, 0); }"):"top"!==g&&"bottom"!=g||(b+=" body.pushable > .ui.visible."+g+".sidebar ~ .pusher:after {   -webkit-transform: translate3d(0, "+h[g]+"px, 0);           transform: translate3d(0, "+h[g]+"px, 0); }"),b+=" body.pushable > .ui.visible.left.sidebar ~ .ui.visible.right.sidebar ~ .pusher:after, body.pushable > .ui.visible.right.sidebar ~ .ui.visible.left.sidebar ~ .pusher:after {   -webkit-transform: translate3d(0px, 0, 0);           transform: translate3d(0px, 0, 0); }"),b+="</style>",f=a(b).appendTo(j),v.debug("Adding sizing css to head",f)}},refresh:function(){v.verbose("Refreshing selector cache"),F=a(w.context),G=F.children(x.sidebar),I=F.children(x.pusher),H=F.children(x.fixed),v.clear.cache()},refreshSidebars:function(){v.verbose("Refreshing other sidebars"),G=F.children(x.sidebar)},repaint:function(){v.verbose("Forcing repaint event"),J.style.display="none";J.offsetHeight;J.scrollTop=J.scrollTop,J.style.display=""},setup:{cache:function(){v.cache={width:E.outerWidth(),height:E.outerHeight(),rtl:"rtl"==E.css("direction")}},layout:function(){0===F.children(x.pusher).length&&(v.debug("Adding wrapper element for sidebar"),v.error(B.pusher),I=a('<div class="pusher" />'),F.children().not(x.omitted).not(G).wrapAll(I),v.refresh()),0!==E.nextAll(x.pusher).length&&E.nextAll(x.pusher)[0]===I[0]||(v.debug("Moved sidebar to correct parent element"),v.error(B.movedSidebar,J),E.detach().prependTo(F),v.refresh()),v.clear.cache(),v.set.pushable(),v.set.direction()}},attachEvents:function(b,c){var d=a(b);c=a.isFunction(v[c])?v[c]:v.toggle,d.length>0?(v.debug("Attaching sidebar events to element",b,c),d.on("click"+C,c)):v.error(B.notFound,b)},show:function(b){if(b=a.isFunction(b)?b:function(){},v.is.hidden()){if(v.refreshSidebars(),w.overlay&&(v.error(B.overlay),w.transition="overlay"),v.refresh(),v.othersActive())if(v.debug("Other sidebars currently visible"),w.exclusive){if("overlay"!=w.transition)return void v.hideOthers(v.show);v.hideOthers()}else w.transition="overlay";v.pushPage(function(){b.call(J),w.onShow.call(J)}),w.onChange.call(J),w.onVisible.call(J)}else v.debug("Sidebar is already visible")},hide:function(b){b=a.isFunction(b)?b:function(){},(v.is.visible()||v.is.animating())&&(v.debug("Hiding sidebar",b),v.refreshSidebars(),v.pullPage(function(){b.call(J),w.onHidden.call(J)}),w.onChange.call(J),w.onHide.call(J))},othersAnimating:function(){return G.not(E).filter("."+y.animating).length>0},othersVisible:function(){return G.not(E).filter("."+y.visible).length>0},othersActive:function(){return v.othersVisible()||v.othersAnimating()},hideOthers:function(a){var b=G.not(E).filter("."+y.visible),c=b.length,d=0;a=a||function(){},b.sidebar("hide",function(){++d==c&&a()})},toggle:function(){v.verbose("Determining toggled direction"),v.is.hidden()?v.show():v.hide()},pushPage:function(b){var c,d,e,f=v.get.transition(),g="overlay"===f||v.othersActive()?E:I;b=a.isFunction(b)?b:function(){},"scale down"==w.transition&&v.scrollToTop(),v.set.transition(f),v.repaint(),c=function(){v.bind.clickaway(),v.add.inlineCSS(),v.set.animating(),v.set.visible()},d=function(){v.set.dimmed()},e=function(a){a.target==g[0]&&(g.off(u+r,e),v.remove.animating(),v.bind.scrollLock(),b.call(J))},g.off(u+r),g.on(u+r,e),q(c),w.dimPage&&!v.othersVisible()&&q(d)},pullPage:function(b){var c,d,e=v.get.transition(),f="overlay"==e||v.othersActive()?E:I;b=a.isFunction(b)?b:function(){},v.verbose("Removing context push state",v.get.direction()),v.unbind.clickaway(),v.unbind.scrollLock(),c=function(){v.set.transition(e),v.set.animating(),v.remove.visible(),w.dimPage&&!v.othersVisible()&&I.removeClass(y.dimmed)},d=function(a){a.target==f[0]&&(f.off(u+r,d),v.remove.animating(),v.remove.transition(),v.remove.inlineCSS(),("scale down"==e||w.returnScroll&&v.is.mobile())&&v.scrollBack(),b.call(J))},f.off(u+r),f.on(u+r,d),q(c)},scrollToTop:function(){v.verbose("Scrolling to top of page to avoid animation issues"),t=a(b).scrollTop(),E.scrollTop(0),b.scrollTo(0,0)},scrollBack:function(){v.verbose("Scrolling back to original page position"),b.scrollTo(0,t)},clear:{cache:function(){v.verbose("Clearing cached dimensions"),v.cache={}}},set:{ios:function(){i.addClass(y.ios)},pushed:function(){F.addClass(y.pushed)},pushable:function(){F.addClass(y.pushable)},dimmed:function(){I.addClass(y.dimmed)},active:function(){E.addClass(y.active)},animating:function(){E.addClass(y.animating)},transition:function(a){a=a||v.get.transition(),E.addClass(a)},direction:function(a){a=a||v.get.direction(),E.addClass(y[a])},visible:function(){E.addClass(y.visible)},overlay:function(){E.addClass(y.overlay)}},remove:{inlineCSS:function(){v.debug("Removing inline css styles",f),f&&f.length>0&&f.remove()},ios:function(){i.removeClass(y.ios)},pushed:function(){F.removeClass(y.pushed)},pushable:function(){F.removeClass(y.pushable)},active:function(){E.removeClass(y.active)},animating:function(){E.removeClass(y.animating)},transition:function(a){a=a||v.get.transition(),E.removeClass(a)},direction:function(a){a=a||v.get.direction(),E.removeClass(y[a])},visible:function(){E.removeClass(y.visible)},overlay:function(){E.removeClass(y.overlay)}},get:{direction:function(){return E.hasClass(y.top)?y.top:E.hasClass(y.right)?y.right:E.hasClass(y.bottom)?y.bottom:y.left},transition:function(){var a,b=v.get.direction();return a=v.is.mobile()?"auto"==w.mobileTransition?w.defaultTransition.mobile[b]:w.mobileTransition:"auto"==w.transition?w.defaultTransition.computer[b]:w.transition,v.verbose("Determined transition",a),a},transitionEvent:function(){var a,b=c.createElement("element"),d={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(a in d)if(void 0!==b.style[a])return d[a]}},is:{ie:function(){var a=!b.ActiveXObject&&"ActiveXObject"in b,c="ActiveXObject"in b;return a||c},ios:function(){var a=navigator.userAgent,b=a.match(A.ios),c=a.match(A.mobileChrome);return!(!b||c)&&(v.verbose("Browser was found to be iOS",a),!0)},mobile:function(){var a=navigator.userAgent;return a.match(A.mobile)?(v.verbose("Browser was found to be mobile",a),!0):(v.verbose("Browser is not mobile, using regular transition",a),!1)},hidden:function(){return!v.is.visible()},visible:function(){return E.hasClass(y.visible)},open:function(){return v.is.visible()},closed:function(){return v.is.hidden()},vertical:function(){return E.hasClass(y.top)},animating:function(){return F.hasClass(y.animating)},rtl:function(){return void 0===v.cache.rtl&&(v.cache.rtl="rtl"==E.css("direction")),v.cache.rtl}},setting:function(b,c){if(v.debug("Changing setting",b,c),a.isPlainObject(b))a.extend(!0,w,b);else{if(void 0===c)return w[b];w[b]=c}},internal:function(b,c){if(a.isPlainObject(b))a.extend(!0,v,b);else{if(void 0===c)return v[b];v[b]=c}},debug:function(){w.debug&&(w.performance?v.performance.log(arguments):(v.debug=Function.prototype.bind.call(console.info,console,w.name+":"),v.debug.apply(console,arguments)))},verbose:function(){w.verbose&&w.debug&&(w.performance?v.performance.log(arguments):(v.verbose=Function.prototype.bind.call(console.info,console,w.name+":"),v.verbose.apply(console,arguments)))},error:function(){v.error=Function.prototype.bind.call(console.error,console,w.name+":"),v.error.apply(console,arguments)},performance:{log:function(a){var b,c,d;w.performance&&(b=(new Date).getTime(),d=l||b,c=b-d,l=b,m.push({Name:a[0],Arguments:[].slice.call(a,1)||"",Element:J,"Execution Time":c})),clearTimeout(v.performance.timer),v.performance.timer=setTimeout(v.performance.display,500)},display:function(){var b=w.name+":",c=0;l=!1,clearTimeout(v.performance.timer),a.each(m,function(a,b){c+=b["Execution Time"]}),b+=" "+c+"ms",k&&(b+=" '"+k+"'"),(void 0!==console.group||void 0!==console.table)&&m.length>0&&(console.groupCollapsed(b),console.table?console.table(m):a.each(m,function(a,b){console.log(b.Name+": "+b["Execution Time"]+"ms")}),console.groupEnd()),m=[]}},invoke:function(b,c,d){var f,g,h,i=K;return c=c||p,d=J||d,"string"==typeof b&&void 0!==i&&(b=b.split(/[\. ]/),f=b.length-1,a.each(b,function(c,d){var e=c!=f?d+b[c+1].charAt(0).toUpperCase()+b[c+1].slice(1):b;if(a.isPlainObject(i[e])&&c!=f)i=i[e];else{if(void 0!==i[e])return g=i[e],!1;if(!a.isPlainObject(i[d])||c==f)return void 0!==i[d]?(g=i[d],!1):(v.error(B.method,b),!1);i=i[d]}})),a.isFunction(g)?h=g.apply(d,c):void 0!==g&&(h=g),a.isArray(e)?e.push(h):void 0!==e?e=[e,h]:void 0!==h&&(e=h),g}},o?(void 0===K&&v.initialize(),v.invoke(n)):(void 0!==K&&v.invoke("destroy"),v.initialize())}),void 0!==e?e:this},a.fn.sidebar.settings={name:"Sidebar",namespace:"sidebar",debug:!1,verbose:!1,performance:!0,transition:"auto",mobileTransition:"auto",defaultTransition:{computer:{left:"uncover",right:"uncover",top:"overlay",bottom:"overlay"},mobile:{left:"uncover",right:"uncover",top:"overlay",bottom:"overlay"}},context:"body",exclusive:!1,closable:!0,dimPage:!0,scrollLock:!1,returnScroll:!1,delaySetup:!1,duration:500,onChange:function(){},onShow:function(){},onHide:function(){},onHidden:function(){},onVisible:function(){},className:{active:"active",animating:"animating",dimmed:"dimmed",ios:"ios",pushable:"pushable",pushed:"pushed",right:"right",top:"top",left:"left",bottom:"bottom",visible:"visible"},selector:{fixed:".fixed",omitted:"script, link, style, .ui.modal, .ui.dimmer, .ui.nag, .ui.fixed",pusher:".pusher",sidebar:".ui.sidebar"},regExp:{ios:/(iPad|iPhone|iPod)/g,mobileChrome:/(CriOS)/g,mobile:/Mobile|iP(hone|od|ad)|Android|BlackBerry|IEMobile|Kindle|NetFront|Silk-Accelerated|(hpw|web)OS|Fennec|Minimo|Opera M(obi|ini)|Blazer|Dolfin|Dolphin|Skyfire|Zune/g},error:{method:"The method you called is not defined.",pusher:"Had to add pusher element. For optimal performance make sure body content is inside a pusher element",movedSidebar:"Had to move sidebar. For optimal performance make sure sidebar and pusher are direct children of your body tag",overlay:"The overlay setting is no longer supported, use animation: overlay",notFound:"There were no elements that matched the specified selector"}}}(jQuery,window,document),function(a,b,c,d){"use strict";a.fn.sticky=function(c){var d,e=a(this),f=e.selector||"",g=(new Date).getTime(),h=[],i=arguments[0],j="string"==typeof i,k=[].slice.call(arguments,1);return e.each(function(){var e,l,m,n,o=a.isPlainObject(c)?a.extend(!0,{},a.fn.sticky.settings,c):a.extend({},a.fn.sticky.settings),p=o.className,q=o.namespace,r=o.error,s="."+q,t="module-"+q,u=a(this),v=a(b),w=a(o.scrollContext),x=(u.selector,u.data(t)),y=b.requestAnimationFrame||b.mozRequestAnimationFrame||b.webkitRequestAnimationFrame||b.msRequestAnimationFrame||function(a){setTimeout(a,0)},z=this;n={initialize:function(){n.determineContainer(),n.determineContext(),n.verbose("Initializing sticky",o,e),n.save.positions(),n.checkErrors(),n.bind.events(),o.observeChanges&&n.observeChanges(),n.instantiate()},instantiate:function(){
n.verbose("Storing instance of module",n),x=n,u.data(t,n)},destroy:function(){n.verbose("Destroying previous instance"),n.reset(),m&&m.disconnect(),v.off("load"+s,n.event.load).off("resize"+s,n.event.resize),w.off("scrollchange"+s,n.event.scrollchange),u.removeData(t)},observeChanges:function(){var a=l[0];"MutationObserver"in b&&(m=new MutationObserver(function(a){clearTimeout(n.timer),n.timer=setTimeout(function(){n.verbose("DOM tree modified, updating sticky menu",a),n.refresh()},100)}),m.observe(z,{childList:!0,subtree:!0}),m.observe(a,{childList:!0,subtree:!0}),n.debug("Setting up mutation observer",m))},determineContainer:function(){e=u.offsetParent()},determineContext:function(){if(l=o.context?a(o.context):e,0===l.length)return void n.error(r.invalidContext,o.context,u)},checkErrors:function(){if(n.is.hidden()&&n.error(r.visible,u),n.cache.element.height>n.cache.context.height)return n.reset(),void n.error(r.elementSize,u)},bind:{events:function(){v.on("load"+s,n.event.load).on("resize"+s,n.event.resize),w.off("scroll"+s).on("scroll"+s,n.event.scroll).on("scrollchange"+s,n.event.scrollchange)}},event:{load:function(){n.verbose("Page contents finished loading"),y(n.refresh)},resize:function(){n.verbose("Window resized"),y(n.refresh)},scroll:function(){y(function(){w.triggerHandler("scrollchange"+s,w.scrollTop())})},scrollchange:function(a,b){n.stick(b),o.onScroll.call(z)}},refresh:function(a){n.reset(),o.context||n.determineContext(),a&&n.determineContainer(),n.save.positions(),n.stick(),o.onReposition.call(z)},supports:{sticky:function(){var b=a("<div/>");b[0];return b.addClass(p.supported),b.css("position").match("sticky")}},save:{lastScroll:function(a){n.lastScroll=a},elementScroll:function(a){n.elementScroll=a},positions:function(){var a={height:w.height()},b={margin:{top:parseInt(u.css("margin-top"),10),bottom:parseInt(u.css("margin-bottom"),10)},offset:u.offset(),width:u.outerWidth(),height:u.outerHeight()},c={offset:l.offset(),height:l.outerHeight()};e.outerHeight();n.is.standardScroll()||(n.debug("Non-standard scroll. Removing scroll offset from element offset"),a.top=w.scrollTop(),a.left=w.scrollLeft(),b.offset.top+=a.top,c.offset.top+=a.top,b.offset.left+=a.left,c.offset.left+=a.left),n.cache={fits:b.height<a.height,scrollContext:{height:a.height},element:{margin:b.margin,top:b.offset.top-b.margin.top,left:b.offset.left,width:b.width,height:b.height,bottom:b.offset.top+b.height},context:{top:c.offset.top,height:c.height,bottom:c.offset.top+c.height}},n.set.containerSize(),n.set.size(),n.stick(),n.debug("Caching element positions",n.cache)}},get:{direction:function(a){var b="down";return a=a||w.scrollTop(),void 0!==n.lastScroll&&(n.lastScroll<a?b="down":n.lastScroll>a&&(b="up")),b},scrollChange:function(a){return a=a||w.scrollTop(),n.lastScroll?a-n.lastScroll:0},currentElementScroll:function(){return n.elementScroll?n.elementScroll:n.is.top()?Math.abs(parseInt(u.css("top"),10))||0:Math.abs(parseInt(u.css("bottom"),10))||0},elementScroll:function(a){a=a||w.scrollTop();var b=n.cache.element,c=n.cache.scrollContext,d=n.get.scrollChange(a),e=b.height-c.height+o.offset,f=n.get.currentElementScroll(),g=f+d;return f=n.cache.fits||g<0?0:g>e?e:g}},remove:{lastScroll:function(){delete n.lastScroll},elementScroll:function(a){delete n.elementScroll},offset:function(){u.css("margin-top","")}},set:{offset:function(){n.verbose("Setting offset on element",o.offset),u.css("margin-top",o.offset)},containerSize:function(){var a=e.get(0).tagName;"HTML"===a||"body"==a?n.determineContainer():Math.abs(e.outerHeight()-n.cache.context.height)>o.jitter&&(n.debug("Context has padding, specifying exact height for container",n.cache.context.height),e.css({height:n.cache.context.height}))},minimumSize:function(){var a=n.cache.element;e.css("min-height",a.height)},scroll:function(a){n.debug("Setting scroll on element",a),n.elementScroll!=a&&(n.is.top()&&u.css("bottom","").css("top",-a),n.is.bottom()&&u.css("top","").css("bottom",a))},size:function(){0!==n.cache.element.height&&0!==n.cache.element.width&&(z.style.setProperty("width",n.cache.element.width+"px","important"),z.style.setProperty("height",n.cache.element.height+"px","important"))}},is:{standardScroll:function(){return w[0]==b},top:function(){return u.hasClass(p.top)},bottom:function(){return u.hasClass(p.bottom)},initialPosition:function(){return!n.is.fixed()&&!n.is.bound()},hidden:function(){return!u.is(":visible")},bound:function(){return u.hasClass(p.bound)},fixed:function(){return u.hasClass(p.fixed)}},stick:function(a){var b=a||w.scrollTop(),c=n.cache,d=c.fits,e=c.element,f=c.scrollContext,g=c.context,h=n.is.bottom()&&o.pushing?o.bottomOffset:o.offset,a={top:b+h,bottom:b+h+f.height},i=(n.get.direction(a.top),d?0:n.get.elementScroll(a.top)),j=!d;0!==e.height&&(n.is.initialPosition()?a.top>=g.bottom?(n.debug("Initial element position is bottom of container"),n.bindBottom()):a.top>e.top&&(e.height+a.top-i>=g.bottom?(n.debug("Initial element position is bottom of container"),n.bindBottom()):(n.debug("Initial element position is fixed"),n.fixTop())):n.is.fixed()?n.is.top()?a.top<=e.top?(n.debug("Fixed element reached top of container"),n.setInitialPosition()):e.height+a.top-i>=g.bottom?(n.debug("Fixed element reached bottom of container"),n.bindBottom()):j&&(n.set.scroll(i),n.save.lastScroll(a.top),n.save.elementScroll(i)):n.is.bottom()&&(a.bottom-e.height<=e.top?(n.debug("Bottom fixed rail has reached top of container"),n.setInitialPosition()):a.bottom>=g.bottom?(n.debug("Bottom fixed rail has reached bottom of container"),n.bindBottom()):j&&(n.set.scroll(i),n.save.lastScroll(a.top),n.save.elementScroll(i))):n.is.bottom()&&(a.top<=e.top?(n.debug("Jumped from bottom fixed to top fixed, most likely used home/end button"),n.setInitialPosition()):o.pushing?n.is.bound()&&a.bottom<=g.bottom&&(n.debug("Fixing bottom attached element to bottom of browser."),n.fixBottom()):n.is.bound()&&a.top<=g.bottom-e.height&&(n.debug("Fixing bottom attached element to top of browser."),n.fixTop())))},bindTop:function(){n.debug("Binding element to top of parent container"),n.remove.offset(),u.css({left:"",top:"",marginBottom:""}).removeClass(p.fixed).removeClass(p.bottom).addClass(p.bound).addClass(p.top),o.onTop.call(z),o.onUnstick.call(z)},bindBottom:function(){n.debug("Binding element to bottom of parent container"),n.remove.offset(),u.css({left:"",top:""}).removeClass(p.fixed).removeClass(p.top).addClass(p.bound).addClass(p.bottom),o.onBottom.call(z),o.onUnstick.call(z)},setInitialPosition:function(){n.debug("Returning to initial position"),n.unfix(),n.unbind()},fixTop:function(){n.debug("Fixing element to top of page"),n.set.minimumSize(),n.set.offset(),u.css({left:n.cache.element.left,bottom:"",marginBottom:""}).removeClass(p.bound).removeClass(p.bottom).addClass(p.fixed).addClass(p.top),o.onStick.call(z)},fixBottom:function(){n.debug("Sticking element to bottom of page"),n.set.minimumSize(),n.set.offset(),u.css({left:n.cache.element.left,bottom:"",marginBottom:""}).removeClass(p.bound).removeClass(p.top).addClass(p.fixed).addClass(p.bottom),o.onStick.call(z)},unbind:function(){n.is.bound()&&(n.debug("Removing container bound position on element"),n.remove.offset(),u.removeClass(p.bound).removeClass(p.top).removeClass(p.bottom))},unfix:function(){n.is.fixed()&&(n.debug("Removing fixed position on element"),n.remove.offset(),u.removeClass(p.fixed).removeClass(p.top).removeClass(p.bottom),o.onUnstick.call(z))},reset:function(){n.debug("Reseting elements position"),n.unbind(),n.unfix(),n.resetCSS(),n.remove.offset(),n.remove.lastScroll()},resetCSS:function(){u.css({width:"",height:""}),e.css({height:""})},setting:function(b,c){if(a.isPlainObject(b))a.extend(!0,o,b);else{if(void 0===c)return o[b];o[b]=c}},internal:function(b,c){if(a.isPlainObject(b))a.extend(!0,n,b);else{if(void 0===c)return n[b];n[b]=c}},debug:function(){o.debug&&(o.performance?n.performance.log(arguments):(n.debug=Function.prototype.bind.call(console.info,console,o.name+":"),n.debug.apply(console,arguments)))},verbose:function(){o.verbose&&o.debug&&(o.performance?n.performance.log(arguments):(n.verbose=Function.prototype.bind.call(console.info,console,o.name+":"),n.verbose.apply(console,arguments)))},error:function(){n.error=Function.prototype.bind.call(console.error,console,o.name+":"),n.error.apply(console,arguments)},performance:{log:function(a){var b,c,d;o.performance&&(b=(new Date).getTime(),d=g||b,c=b-d,g=b,h.push({Name:a[0],Arguments:[].slice.call(a,1)||"",Element:z,"Execution Time":c})),clearTimeout(n.performance.timer),n.performance.timer=setTimeout(n.performance.display,0)},display:function(){var b=o.name+":",c=0;g=!1,clearTimeout(n.performance.timer),a.each(h,function(a,b){c+=b["Execution Time"]}),b+=" "+c+"ms",f&&(b+=" '"+f+"'"),(void 0!==console.group||void 0!==console.table)&&h.length>0&&(console.groupCollapsed(b),console.table?console.table(h):a.each(h,function(a,b){console.log(b.Name+": "+b["Execution Time"]+"ms")}),console.groupEnd()),h=[]}},invoke:function(b,c,e){var f,g,h,i=x;return c=c||k,e=z||e,"string"==typeof b&&void 0!==i&&(b=b.split(/[\. ]/),f=b.length-1,a.each(b,function(c,d){var e=c!=f?d+b[c+1].charAt(0).toUpperCase()+b[c+1].slice(1):b;if(a.isPlainObject(i[e])&&c!=f)i=i[e];else{if(void 0!==i[e])return g=i[e],!1;if(!a.isPlainObject(i[d])||c==f)return void 0!==i[d]&&(g=i[d],!1);i=i[d]}})),a.isFunction(g)?h=g.apply(e,c):void 0!==g&&(h=g),a.isArray(d)?d.push(h):void 0!==d?d=[d,h]:void 0!==h&&(d=h),g}},j?(void 0===x&&n.initialize(),n.invoke(i)):(void 0!==x&&x.invoke("destroy"),n.initialize())}),void 0!==d?d:this},a.fn.sticky.settings={name:"Sticky",namespace:"sticky",debug:!1,verbose:!0,performance:!0,pushing:!1,context:!1,scrollContext:b,offset:0,bottomOffset:0,jitter:5,observeChanges:!1,onReposition:function(){},onScroll:function(){},onStick:function(){},onUnstick:function(){},onTop:function(){},onBottom:function(){},error:{container:"Sticky element must be inside a relative container",visible:"Element is hidden, you must call refresh after element becomes visible",method:"The method you called is not defined.",invalidContext:"Context specified does not exist",elementSize:"Sticky element is larger than its container, cannot create sticky."},className:{bound:"bound",fixed:"fixed",supported:"native",top:"top",bottom:"bottom"}}}(jQuery,window,document),function(a,b,c,d){"use strict";a.fn.tab=function(d){var e,f=a(a.isFunction(this)?b:this),g=f.selector||"",h=(new Date).getTime(),i=[],j=arguments[0],k="string"==typeof j,l=[].slice.call(arguments,1),m=!1;return f.each(function(){var n,o,p,q,r,s,t=a.isPlainObject(d)?a.extend(!0,{},a.fn.tab.settings,d):a.extend({},a.fn.tab.settings),u=t.className,v=t.metadata,w=t.selector,x=t.error,y="."+t.namespace,z="module-"+t.namespace,A=a(this),B={},C=!0,D=0,E=this,F=A.data(z);r={initialize:function(){r.debug("Initializing tab menu item",A),r.fix.callbacks(),r.determineTabs(),r.debug("Determining tabs",t.context,o),t.auto&&r.set.auto(),r.bind.events(),t.history&&!m&&(r.initializeHistory(),m=!0),r.instantiate()},instantiate:function(){r.verbose("Storing instance of module",r),F=r,A.data(z,r)},destroy:function(){r.debug("Destroying tabs",A),A.removeData(z).off(y)},bind:{events:function(){a.isWindow(E)||(r.debug("Attaching tab activation events to element",A),A.on("click"+y,r.event.click))}},determineTabs:function(){var b;"parent"===t.context?(A.closest(w.ui).length>0?(b=A.closest(w.ui),r.verbose("Using closest UI element as parent",b)):b=A,n=b.parent(),r.verbose("Determined parent element for creating context",n)):t.context?(n=a(t.context),r.verbose("Using selector for tab context",t.context,n)):n=a("body"),t.childrenOnly?(o=n.children(w.tabs),r.debug("Searching tab context children for tabs",n,o)):(o=n.find(w.tabs),r.debug("Searching tab context for tabs",n,o))},fix:{callbacks:function(){a.isPlainObject(d)&&(d.onTabLoad||d.onTabInit)&&(d.onTabLoad&&(d.onLoad=d.onTabLoad,delete d.onTabLoad,r.error(x.legacyLoad,d.onLoad)),d.onTabInit&&(d.onFirstLoad=d.onTabInit,delete d.onTabInit,r.error(x.legacyInit,d.onFirstLoad)),t=a.extend(!0,{},a.fn.tab.settings,d))}},initializeHistory:function(){if(r.debug("Initializing page state"),void 0===a.address)return r.error(x.state),!1;if("state"==t.historyType){if(r.debug("Using HTML5 to manage state"),!1===t.path)return r.error(x.path),!1;a.address.history(!0).state(t.path)}a.address.bind("change",r.event.history.change)},event:{click:function(b){var c=a(this).data(v.tab);void 0!==c?(t.history?(r.verbose("Updating page state",b),a.address.value(c)):(r.verbose("Changing tab",b),r.changeTab(c)),b.preventDefault()):r.debug("No tab specified")},history:{change:function(b){var c=b.pathNames.join("/")||r.get.initialPath(),d=t.templates.determineTitle(c)||!1;r.performance.display(),r.debug("History change event",c,b),s=b,void 0!==c&&r.changeTab(c),d&&a.address.title(d)}}},refresh:function(){p&&(r.debug("Refreshing tab",p),r.changeTab(p))},cache:{read:function(a){return void 0!==a&&B[a]},add:function(a,b){a=a||p,r.debug("Adding cached content for",a),B[a]=b},remove:function(a){a=a||p,r.debug("Removing cached content for",a),delete B[a]}},set:{auto:function(){var b="string"==typeof t.path?t.path.replace(/\/$/,"")+"/{$tab}":"/{$tab}";r.verbose("Setting up automatic tab retrieval from server",b),a.isPlainObject(t.apiSettings)?t.apiSettings.url=b:t.apiSettings={url:b}},loading:function(a){var b=r.get.tabElement(a);b.hasClass(u.loading)||(r.verbose("Setting loading state for",b),b.addClass(u.loading).siblings(o).removeClass(u.active+" "+u.loading),b.length>0&&t.onRequest.call(b[0],a))},state:function(b){a.address.value(b)}},changeTab:function(c){var d=b.history&&b.history.pushState,e=d&&t.ignoreFirstLoad&&C,f=t.auto||a.isPlainObject(t.apiSettings),g=f&&!e?r.utilities.pathToArray(c):r.get.defaultPathArray(c);c=r.utilities.arrayToPath(g),a.each(g,function(b,d){var h,i,j,k,l=g.slice(0,b+1),m=r.utilities.arrayToPath(l),o=r.is.tab(m),w=b+1==g.length,y=r.get.tabElement(m);if(r.verbose("Looking for tab",d),o){if(r.verbose("Tab was found",d),p=m,q=r.utilities.filterArray(g,l),w?k=!0:(i=g.slice(0,b+2),j=r.utilities.arrayToPath(i),(k=!r.is.tab(j))&&r.verbose("Tab parameters found",i)),k&&f)return e?(r.debug("Ignoring remote content on first tab load",m),C=!1,r.cache.add(c,y.html()),r.activate.all(m),t.onFirstLoad.call(y[0],m,q,s),t.onLoad.call(y[0],m,q,s)):(r.activate.navigation(m),r.fetch.content(m,c)),!1;r.debug("Opened local tab",m),r.activate.all(m),r.cache.read(m)||(r.cache.add(m,!0),r.debug("First time tab loaded calling tab init"),t.onFirstLoad.call(y[0],m,q,s)),t.onLoad.call(y[0],m,q,s)}else{if(-1!=c.search("/")||""===c)return r.error(x.missingTab,A,n,m),!1;if(h=a("#"+c+', a[name="'+c+'"]'),m=h.closest("[data-tab]").data(v.tab),y=r.get.tabElement(m),h&&h.length>0&&m)return r.debug("Anchor link used, opening parent tab",y,h),y.hasClass(u.active)||setTimeout(function(){r.scrollTo(h)},0),r.activate.all(m),r.cache.read(m)||(r.cache.add(m,!0),r.debug("First time tab loaded calling tab init"),t.onFirstLoad.call(y[0],m,q,s)),t.onLoad.call(y[0],m,q,s),!1}})},scrollTo:function(b){var d=!!(b&&b.length>0)&&b.offset().top;!1!==d&&(r.debug("Forcing scroll to an in-page link in a hidden tab",d,b),a(c).scrollTop(d))},update:{content:function(a,b,c){var d=r.get.tabElement(a),e=d[0];c=void 0!==c?c:t.evaluateScripts,c?(r.debug("Updating HTML and evaluating inline scripts",a,b),d.html(b)):(r.debug("Updating HTML",a,b),e.innerHTML=b)}},fetch:{content:function(b,c){var d,e,f=r.get.tabElement(b),g={dataType:"html",encodeParameters:!1,on:"now",cache:t.alwaysRefresh,headers:{"X-Remote":!0},onSuccess:function(a){r.cache.add(c,a),r.update.content(b,a),b==p?(r.debug("Content loaded",b),r.activate.tab(b)):r.debug("Content loaded in background",b),t.onFirstLoad.call(f[0],b,q,s),t.onLoad.call(f[0],b,q,s)},urlData:{tab:c}},h=f.api("get request")||!1,i=h&&"pending"===h.state();c=c||b,e=r.cache.read(c),t.cache&&e?(r.activate.tab(b),r.debug("Adding cached content",c),"once"==t.evaluateScripts?r.update.content(b,e,!1):r.update.content(b,e),t.onLoad.call(f[0],b,q,s)):i?(r.set.loading(b),r.debug("Content is already loading",c)):void 0!==a.api?(d=a.extend(!0,{},t.apiSettings,g),r.debug("Retrieving remote content",c,d),r.set.loading(b),f.api(d)):r.error(x.api)}},activate:{all:function(a){r.activate.tab(a),r.activate.navigation(a)},tab:function(a){var b=r.get.tabElement(a),c=b.hasClass(u.active);r.verbose("Showing tab content for",b),c||(b.addClass(u.active).siblings(o).removeClass(u.active+" "+u.loading),b.length>0&&t.onVisible.call(b[0],a))},navigation:function(a){var b=r.get.navElement(a),c=b.hasClass(u.active);r.verbose("Activating tab navigation for",b,a),c||b.addClass(u.active).siblings(f).removeClass(u.active+" "+u.loading)}},deactivate:{all:function(){r.deactivate.navigation(),r.deactivate.tabs()},navigation:function(){f.removeClass(u.active)},tabs:function(){o.removeClass(u.active+" "+u.loading)}},is:{tab:function(a){return void 0!==a&&r.get.tabElement(a).length>0}},get:{initialPath:function(){return f.eq(0).data(v.tab)||o.eq(0).data(v.tab)},path:function(){return a.address.value()},defaultPathArray:function(a){return r.utilities.pathToArray(r.get.defaultPath(a))},defaultPath:function(a){var b=f.filter("[data-"+v.tab+'^="'+a+'/"]').eq(0),c=b.data(v.tab)||!1;if(c){if(r.debug("Found default tab",c),D<t.maxDepth)return D++,r.get.defaultPath(c);r.error(x.recursion)}else r.debug("No default tabs found for",a,o);return D=0,a},navElement:function(a){return a=a||p,f.filter("[data-"+v.tab+'="'+a+'"]')},tabElement:function(a){var b,c,d,e;return a=a||p,d=r.utilities.pathToArray(a),e=r.utilities.last(d),b=o.filter("[data-"+v.tab+'="'+a+'"]'),c=o.filter("[data-"+v.tab+'="'+e+'"]'),b.length>0?b:c},tab:function(){return p}},utilities:{filterArray:function(b,c){return a.grep(b,function(b){return-1==a.inArray(b,c)})},last:function(b){return!!a.isArray(b)&&b[b.length-1]},pathToArray:function(a){return void 0===a&&(a=p),"string"==typeof a?a.split("/"):[a]},arrayToPath:function(b){return!!a.isArray(b)&&b.join("/")}},setting:function(b,c){if(r.debug("Changing setting",b,c),a.isPlainObject(b))a.extend(!0,t,b);else{if(void 0===c)return t[b];t[b]=c}},internal:function(b,c){if(a.isPlainObject(b))a.extend(!0,r,b);else{if(void 0===c)return r[b];r[b]=c}},debug:function(){t.debug&&(t.performance?r.performance.log(arguments):(r.debug=Function.prototype.bind.call(console.info,console,t.name+":"),r.debug.apply(console,arguments)))},verbose:function(){t.verbose&&t.debug&&(t.performance?r.performance.log(arguments):(r.verbose=Function.prototype.bind.call(console.info,console,t.name+":"),r.verbose.apply(console,arguments)))},error:function(){r.error=Function.prototype.bind.call(console.error,console,t.name+":"),r.error.apply(console,arguments)},performance:{log:function(a){var b,c,d;t.performance&&(b=(new Date).getTime(),d=h||b,c=b-d,h=b,i.push({Name:a[0],Arguments:[].slice.call(a,1)||"",Element:E,"Execution Time":c})),clearTimeout(r.performance.timer),r.performance.timer=setTimeout(r.performance.display,500)},display:function(){var b=t.name+":",c=0;h=!1,clearTimeout(r.performance.timer),a.each(i,function(a,b){c+=b["Execution Time"]}),b+=" "+c+"ms",g&&(b+=" '"+g+"'"),(void 0!==console.group||void 0!==console.table)&&i.length>0&&(console.groupCollapsed(b),console.table?console.table(i):a.each(i,function(a,b){console.log(b.Name+": "+b["Execution Time"]+"ms")}),console.groupEnd()),i=[]}},invoke:function(b,c,d){var f,g,h,i=F;return c=c||l,d=E||d,"string"==typeof b&&void 0!==i&&(b=b.split(/[\. ]/),f=b.length-1,a.each(b,function(c,d){var e=c!=f?d+b[c+1].charAt(0).toUpperCase()+b[c+1].slice(1):b;if(a.isPlainObject(i[e])&&c!=f)i=i[e];else{if(void 0!==i[e])return g=i[e],!1;if(!a.isPlainObject(i[d])||c==f)return void 0!==i[d]?(g=i[d],!1):(r.error(x.method,b),!1);i=i[d]}})),a.isFunction(g)?h=g.apply(d,c):void 0!==g&&(h=g),a.isArray(e)?e.push(h):void 0!==e?e=[e,h]:void 0!==h&&(e=h),g}},k?(void 0===F&&r.initialize(),r.invoke(j)):(void 0!==F&&F.invoke("destroy"),r.initialize())}),void 0!==e?e:this},a.tab=function(){a(b).tab.apply(this,arguments)},a.fn.tab.settings={name:"Tab",namespace:"tab",debug:!1,verbose:!1,performance:!0,auto:!1,history:!1,historyType:"hash",path:!1,context:!1,childrenOnly:!1,maxDepth:25,alwaysRefresh:!1,cache:!0,ignoreFirstLoad:!1,apiSettings:!1,evaluateScripts:"once",onFirstLoad:function(a,b,c){},onLoad:function(a,b,c){},onVisible:function(a,b,c){},onRequest:function(a,b,c){},templates:{determineTitle:function(a){}},error:{api:"You attempted to load content without API module",method:"The method you called is not defined",missingTab:"Activated tab cannot be found. Tabs are case-sensitive.",noContent:"The tab you specified is missing a content url.",path:"History enabled, but no path was specified",recursion:"Max recursive depth reached",legacyInit:"onTabInit has been renamed to onFirstLoad in 2.0, please adjust your code.",legacyLoad:"onTabLoad has been renamed to onLoad in 2.0. Please adjust your code",state:"History requires Asual's Address library <https://github.com/asual/jquery-address>"},metadata:{tab:"tab",loaded:"loaded",promise:"promise"},className:{loading:"loading",active:"active"},selector:{tabs:".ui.tab",ui:".ui"}}}(jQuery,window,document),function(a,b,c,d){"use strict";a.fn.transition=function(){var d,e=a(this),f=e.selector||"",g=(new Date).getTime(),h=[],i=arguments,j=i[0],k=[].slice.call(arguments,1),l="string"==typeof j;b.requestAnimationFrame||b.mozRequestAnimationFrame||b.webkitRequestAnimationFrame||b.msRequestAnimationFrame;return e.each(function(b){var m,n,o,p,q,r,s,t,u,v=a(this),w=this;u={initialize:function(){m=u.get.settings.apply(w,i),p=m.className,o=m.error,q=m.metadata,t="."+m.namespace,s="module-"+m.namespace,n=v.data(s)||u,r=u.get.animationEndEvent(),l&&(l=u.invoke(j)),!1===l&&(u.verbose("Converted arguments into settings object",m),m.interval?u.delay(m.animate):u.animate(),u.instantiate())},instantiate:function(){u.verbose("Storing instance of module",u),n=u,v.data(s,n)},destroy:function(){u.verbose("Destroying previous module for",w),v.removeData(s)},refresh:function(){u.verbose("Refreshing display type on next animation"),delete u.displayType},forceRepaint:function(){u.verbose("Forcing element repaint");var a=v.parent(),b=v.next();0===b.length?v.detach().appendTo(a):v.detach().insertBefore(b)},repaint:function(){u.verbose("Repainting element");w.offsetWidth},delay:function(a){var c,d,f=u.get.animationDirection();f||(f=u.can.transition()?u.get.direction():"static"),a=void 0!==a?a:m.interval,c="auto"==m.reverse&&f==p.outward,d=c||1==m.reverse?(e.length-b)*m.interval:b*m.interval,u.debug("Delaying animation by",d),setTimeout(u.animate,d)},animate:function(a){if(m=a||m,!u.is.supported())return u.error(o.support),!1;if(u.debug("Preparing animation",m.animation),u.is.animating()){if(m.queue)return!m.allowRepeats&&u.has.direction()&&u.is.occurring()&&!0!==u.queuing?u.debug("Animation is currently occurring, preventing queueing same animation",m.animation):u.queue(m.animation),!1;if(!m.allowRepeats&&u.is.occurring())return u.debug("Animation is already occurring, will not execute repeated animation",m.animation),!1;u.debug("New animation started, completing previous early",m.animation),n.complete()}u.can.animate()?u.set.animating(m.animation):u.error(o.noAnimation,m.animation,w)},reset:function(){u.debug("Resetting animation to beginning conditions"),u.remove.animationCallbacks(),u.restore.conditions(),u.remove.animating()},queue:function(a){u.debug("Queueing animation of",a),u.queuing=!0,v.one(r+".queue"+t,function(){u.queuing=!1,u.repaint(),u.animate.apply(this,m)})},complete:function(a){u.debug("Animation complete",m.animation),u.remove.completeCallback(),u.remove.failSafe(),u.is.looping()||(u.is.outward()?(u.verbose("Animation is outward, hiding element"),u.restore.conditions(),u.hide()):u.is.inward()?(u.verbose("Animation is outward, showing element"),u.restore.conditions(),u.show()):(u.verbose("Static animation completed"),u.restore.conditions(),m.onComplete.call(w)))},force:{visible:function(){var a=v.attr("style"),b=u.get.userStyle(),c=u.get.displayType(),d=b+"display: "+c+" !important;",e=v.css("display"),f=void 0===a||""===a;e!==c?(u.verbose("Overriding default display to show element",c),v.attr("style",d)):f&&v.removeAttr("style")},hidden:function(){var a=v.attr("style"),b=v.css("display"),c=void 0===a||""===a;"none"===b||u.is.hidden()?c&&v.removeAttr("style"):(u.verbose("Overriding default display to hide element"),v.css("display","none"))}},has:{direction:function(b){var c=!1;return b=b||m.animation,"string"==typeof b&&(b=b.split(" "),a.each(b,function(a,b){b!==p.inward&&b!==p.outward||(c=!0)})),c},inlineDisplay:function(){var b=v.attr("style")||"";return a.isArray(b.match(/display.*?;/,""))}},set:{animating:function(a){var b;u.remove.completeCallback(),a=a||m.animation,b=u.get.animationClass(a),u.save.animation(b),u.force.visible(),u.remove.hidden(),u.remove.direction(),u.start.animation(b)},duration:function(a,b){b=b||m.duration,((b="number"==typeof b?b+"ms":b)||0===b)&&(u.verbose("Setting animation duration",b),v.css({"animation-duration":b}))},direction:function(a){a=a||u.get.direction(),a==p.inward?u.set.inward():u.set.outward()},looping:function(){u.debug("Transition set to loop"),v.addClass(p.looping)},hidden:function(){v.addClass(p.transition).addClass(p.hidden)},inward:function(){u.debug("Setting direction to inward"),v.removeClass(p.outward).addClass(p.inward)},outward:function(){u.debug("Setting direction to outward"),v.removeClass(p.inward).addClass(p.outward)},visible:function(){v.addClass(p.transition).addClass(p.visible)}},start:{animation:function(a){a=a||u.get.animationClass(),u.debug("Starting tween",a),v.addClass(a).one(r+".complete"+t,u.complete),m.useFailSafe&&u.add.failSafe(),u.set.duration(m.duration),m.onStart.call(w)}},save:{animation:function(a){u.cache||(u.cache={}),u.cache.animation=a},displayType:function(a){"none"!==a&&v.data(q.displayType,a)},transitionExists:function(b,c){a.fn.transition.exists[b]=c,u.verbose("Saving existence of transition",b,c)}},restore:{conditions:function(){var a=u.get.currentAnimation();a&&(v.removeClass(a),u.verbose("Removing animation class",u.cache)),u.remove.duration()}},add:{failSafe:function(){var a=u.get.duration();u.timer=setTimeout(function(){v.triggerHandler(r)},a+m.failSafeDelay),u.verbose("Adding fail safe timer",u.timer)}},remove:{animating:function(){v.removeClass(p.animating)},animationCallbacks:function(){u.remove.queueCallback(),u.remove.completeCallback()},queueCallback:function(){v.off(".queue"+t)},completeCallback:function(){v.off(".complete"+t)},display:function(){v.css("display","")},direction:function(){v.removeClass(p.inward).removeClass(p.outward)},duration:function(){v.css("animation-duration","")},failSafe:function(){u.verbose("Removing fail safe timer",u.timer),u.timer&&clearTimeout(u.timer)},hidden:function(){v.removeClass(p.hidden)},visible:function(){v.removeClass(p.visible)},looping:function(){u.debug("Transitions are no longer looping"),u.is.looping()&&(u.reset(),v.removeClass(p.looping))},transition:function(){v.removeClass(p.visible).removeClass(p.hidden)}},get:{settings:function(b,c,d){return"object"==typeof b?a.extend(!0,{},a.fn.transition.settings,b):"function"==typeof d?a.extend({},a.fn.transition.settings,{animation:b,onComplete:d,duration:c}):"string"==typeof c||"number"==typeof c?a.extend({},a.fn.transition.settings,{animation:b,duration:c}):"object"==typeof c?a.extend({},a.fn.transition.settings,c,{animation:b}):"function"==typeof c?a.extend({},a.fn.transition.settings,{animation:b,onComplete:c}):a.extend({},a.fn.transition.settings,{animation:b})},animationClass:function(a){var b=a||m.animation,c=u.can.transition()&&!u.has.direction()?u.get.direction()+" ":"";return p.animating+" "+p.transition+" "+c+b},currentAnimation:function(){return!(!u.cache||void 0===u.cache.animation)&&u.cache.animation},currentDirection:function(){return u.is.inward()?p.inward:p.outward},direction:function(){return u.is.hidden()||!u.is.visible()?p.inward:p.outward},animationDirection:function(b){var c;return b=b||m.animation,"string"==typeof b&&(b=b.split(" "),a.each(b,function(a,b){b===p.inward?c=p.inward:b===p.outward&&(c=p.outward)})),c||!1},duration:function(a){return a=a||m.duration,!1===a&&(a=v.css("animation-duration")||0),"string"==typeof a?a.indexOf("ms")>-1?parseFloat(a):1e3*parseFloat(a):a},displayType:function(){return m.displayType?m.displayType:(void 0===v.data(q.displayType)&&u.can.transition(!0),v.data(q.displayType))},userStyle:function(a){return a=a||v.attr("style")||"",a.replace(/display.*?;/,"")},transitionExists:function(b){return a.fn.transition.exists[b]},animationStartEvent:function(){var a,b=c.createElement("div"),d={animation:"animationstart",OAnimation:"oAnimationStart",MozAnimation:"mozAnimationStart",WebkitAnimation:"webkitAnimationStart"};for(a in d)if(void 0!==b.style[a])return d[a];return!1},animationEndEvent:function(){var a,b=c.createElement("div"),d={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"mozAnimationEnd",WebkitAnimation:"webkitAnimationEnd"};for(a in d)if(void 0!==b.style[a])return d[a];return!1}},can:{transition:function(b){var c,d,e,f,g,h,i,j=m.animation,k=u.get.transitionExists(j);if(void 0===k||b){if(u.verbose("Determining whether animation exists"),c=v.attr("class"),d=v.prop("tagName"),e=a("<"+d+" />").addClass(c).insertAfter(v),f=e.addClass(j).removeClass(p.inward).removeClass(p.outward).addClass(p.animating).addClass(p.transition).css("animationName"),g=e.addClass(p.inward).css("animationName"),i=e.attr("class",c).removeAttr("style").removeClass(p.hidden).removeClass(p.visible).show().css("display"),u.verbose("Determining final display state",i),u.save.displayType(i),e.remove(),f!=g)u.debug("Direction exists for animation",j),h=!0;else{if("none"==f||!f)return void u.debug("No animation defined in css",j);u.debug("Static animation found",j,i),h=!1}u.save.transitionExists(j,h)}return void 0!==k?k:h},animate:function(){return void 0!==u.can.transition()}},is:{animating:function(){return v.hasClass(p.animating)},inward:function(){return v.hasClass(p.inward)},outward:function(){return v.hasClass(p.outward)},looping:function(){return v.hasClass(p.looping)},occurring:function(a){return a=a||m.animation,a="."+a.replace(" ","."),v.filter(a).length>0},visible:function(){return v.is(":visible")},hidden:function(){return"hidden"===v.css("visibility")},supported:function(){return!1!==r}},hide:function(){u.verbose("Hiding element"),u.is.animating()&&u.reset(),w.blur(),u.remove.display(),u.remove.visible(),u.set.hidden(),u.force.hidden(),m.onHide.call(w),m.onComplete.call(w)},show:function(a){u.verbose("Showing element",a),u.remove.hidden(),u.set.visible(),u.force.visible(),m.onShow.call(w),m.onComplete.call(w)},toggle:function(){u.is.visible()?u.hide():u.show()},stop:function(){u.debug("Stopping current animation"),v.triggerHandler(r)},stopAll:function(){u.debug("Stopping all animation"),u.remove.queueCallback(),v.triggerHandler(r)},clear:{queue:function(){u.debug("Clearing animation queue"),u.remove.queueCallback()}},enable:function(){u.verbose("Starting animation"),v.removeClass(p.disabled)},disable:function(){u.debug("Stopping animation"),v.addClass(p.disabled)},setting:function(b,c){if(u.debug("Changing setting",b,c),a.isPlainObject(b))a.extend(!0,m,b);else{if(void 0===c)return m[b];m[b]=c}},internal:function(b,c){if(a.isPlainObject(b))a.extend(!0,u,b);else{if(void 0===c)return u[b];u[b]=c}},debug:function(){m.debug&&(m.performance?u.performance.log(arguments):(u.debug=Function.prototype.bind.call(console.info,console,m.name+":"),u.debug.apply(console,arguments)))},verbose:function(){m.verbose&&m.debug&&(m.performance?u.performance.log(arguments):(u.verbose=Function.prototype.bind.call(console.info,console,m.name+":"),u.verbose.apply(console,arguments)))},error:function(){
u.error=Function.prototype.bind.call(console.error,console,m.name+":"),u.error.apply(console,arguments)},performance:{log:function(a){var b,c,d;m.performance&&(b=(new Date).getTime(),d=g||b,c=b-d,g=b,h.push({Name:a[0],Arguments:[].slice.call(a,1)||"",Element:w,"Execution Time":c})),clearTimeout(u.performance.timer),u.performance.timer=setTimeout(u.performance.display,500)},display:function(){var b=m.name+":",c=0;g=!1,clearTimeout(u.performance.timer),a.each(h,function(a,b){c+=b["Execution Time"]}),b+=" "+c+"ms",f&&(b+=" '"+f+"'"),e.length>1&&(b+=" ("+e.length+")"),(void 0!==console.group||void 0!==console.table)&&h.length>0&&(console.groupCollapsed(b),console.table?console.table(h):a.each(h,function(a,b){console.log(b.Name+": "+b["Execution Time"]+"ms")}),console.groupEnd()),h=[]}},invoke:function(b,c,e){var f,g,h,i=n;return c=c||k,e=w||e,"string"==typeof b&&void 0!==i&&(b=b.split(/[\. ]/),f=b.length-1,a.each(b,function(c,d){var e=c!=f?d+b[c+1].charAt(0).toUpperCase()+b[c+1].slice(1):b;if(a.isPlainObject(i[e])&&c!=f)i=i[e];else{if(void 0!==i[e])return g=i[e],!1;if(!a.isPlainObject(i[d])||c==f)return void 0!==i[d]&&(g=i[d],!1);i=i[d]}})),a.isFunction(g)?h=g.apply(e,c):void 0!==g&&(h=g),a.isArray(d)?d.push(h):void 0!==d?d=[d,h]:void 0!==h&&(d=h),void 0!==g&&g}},u.initialize()}),void 0!==d?d:this},a.fn.transition.exists={},a.fn.transition.settings={name:"Transition",debug:!1,verbose:!1,performance:!0,namespace:"transition",interval:0,reverse:"auto",onStart:function(){},onComplete:function(){},onShow:function(){},onHide:function(){},useFailSafe:!0,failSafeDelay:100,allowRepeats:!1,displayType:!1,animation:"fade",duration:!1,queue:!0,metadata:{displayType:"display"},className:{animating:"animating",disabled:"disabled",hidden:"hidden",inward:"in",loading:"loading",looping:"looping",outward:"out",transition:"transition",visible:"visible"},error:{noAnimation:"Element is no longer attached to DOM. Unable to animate.",repeated:"That animation is already occurring, cancelling repeated animation",method:"The method you called is not defined",support:"This browser does not support CSS animations"}}}(jQuery,window,document),function(a,b,c,d){"use strict";a.api=a.fn.api=function(c){var d,e=a(a.isFunction(this)?b:this),f=e.selector||"",g=(new Date).getTime(),h=[],i=arguments[0],j="string"==typeof i,k=[].slice.call(arguments,1);return e.each(function(){var e,l,m,n,o,p=a.isPlainObject(c)?a.extend(!0,{},a.fn.api.settings,c):a.extend({},a.fn.api.settings),q=p.namespace,r=p.metadata,s=p.selector,t=p.error,u=p.className,v="."+q,w="module-"+q,x=a(this),y=x.closest(s.form),z=p.stateContext?a(p.stateContext):x,A=this,B=z[0],C=x.data(w);o={initialize:function(){j||o.bind.events(),o.instantiate()},instantiate:function(){o.verbose("Storing instance of module",o),C=o,x.data(w,C)},destroy:function(){o.verbose("Destroying previous module for",A),x.removeData(w).off(v)},bind:{events:function(){var a=o.get.event();a?(o.verbose("Attaching API events to element",a),x.on(a+v,o.event.trigger)):"now"==p.on&&(o.debug("Querying API endpoint immediately"),o.query())}},decode:{json:function(a){if(void 0!==a&&"string"==typeof a)try{a=JSON.parse(a)}catch(a){}return a}},read:{cachedResponse:function(a){var c;return void 0===b.Storage?void o.error(t.noStorage):(c=sessionStorage.getItem(a),o.debug("Using cached response",a,c),c=o.decode.json(c),!1)}},write:{cachedResponse:function(c,d){return d&&""===d?void o.debug("Response empty, not caching",d):void 0===b.Storage?void o.error(t.noStorage):(a.isPlainObject(d)&&(d=JSON.stringify(d)),sessionStorage.setItem(c,d),void o.verbose("Storing cached response for url",c,d))}},query:function(){if(o.is.disabled())return void o.debug("Element is disabled API request aborted");if(o.is.loading()){if(!p.interruptRequests)return void o.debug("Cancelling request, previous request is still pending");o.debug("Interrupting previous request"),o.abort()}if(p.defaultData&&a.extend(!0,p.urlData,o.get.defaultData()),p.serializeForm&&(p.data=o.add.formData(p.data)),!1===(l=o.get.settings()))return o.cancelled=!0,void o.error(t.beforeSend);if(o.cancelled=!1,!(m=o.get.templatedURL())&&!o.is.mocked())return void o.error(t.missingURL);if((m=o.add.urlData(m))||o.is.mocked()){if(l.url=p.base+m,e=a.extend(!0,{},p,{type:p.method||p.type,data:void 0,url:p.base+m,beforeSend:p.beforeXHR,success:function(){},failure:function(){},complete:function(){}}),o.debug("Querying URL",e.url),o.verbose("Using AJAX settings",e),"local"===p.cache&&o.read.cachedResponse(m))return o.debug("Response returned from local cache"),o.request=o.create.request(),void o.request.resolveWith(B,[o.read.cachedResponse(m)]);p.throttle?p.throttleFirstRequest||o.timer?(o.debug("Throttling request",p.throttle),clearTimeout(o.timer),o.timer=setTimeout(function(){o.timer&&delete o.timer,o.debug("Sending throttled request",void 0,e.method),o.send.request()},p.throttle)):(o.debug("Sending request",void 0,e.method),o.send.request(),o.timer=setTimeout(function(){},p.throttle)):(o.debug("Sending request",void 0,e.method),o.send.request())}},should:{removeError:function(){return!0===p.hideError||"auto"===p.hideError&&!o.is.form()}},is:{disabled:function(){return x.filter(s.disabled).length>0},form:function(){return x.is("form")||z.is("form")},mocked:function(){return p.mockResponse||p.mockResponseAsync||p.response||p.responseAsync},input:function(){return x.is("input")},loading:function(){return o.request&&"pending"==o.request.state()},abortedRequest:function(a){return a&&void 0!==a.readyState&&0===a.readyState?(o.verbose("XHR request determined to be aborted"),!0):(o.verbose("XHR request was not aborted"),!1)},validResponse:function(b){return"json"!==p.dataType&&"jsonp"!==p.dataType||!a.isFunction(p.successTest)?(o.verbose("Response is not JSON, skipping validation",p.successTest,b),!0):(o.debug("Checking JSON returned success",p.successTest,b),p.successTest(b)?(o.debug("Response passed success test",b),!0):(o.debug("Response failed success test",b),!1))}},was:{cancelled:function(){return o.cancelled||!1},succesful:function(){return o.request&&"resolved"==o.request.state()},failure:function(){return o.request&&"rejected"==o.request.state()},complete:function(){return o.request&&("resolved"==o.request.state()||"rejected"==o.request.state())}},add:{urlData:function(b,c){var d,e;return b&&(d=b.match(p.regExp.required),e=b.match(p.regExp.optional),c=c||p.urlData,d&&(o.debug("Looking for required URL variables",d),a.each(d,function(d,e){var f=-1!==e.indexOf("$")?e.substr(2,e.length-3):e.substr(1,e.length-2),g=a.isPlainObject(c)&&void 0!==c[f]?c[f]:void 0!==x.data(f)?x.data(f):void 0!==z.data(f)?z.data(f):c[f];if(void 0===g)return o.error(t.requiredParameter,f,b),b=!1,!1;o.verbose("Found required variable",f,g),g=p.encodeParameters?o.get.urlEncodedValue(g):g,b=b.replace(e,g)})),e&&(o.debug("Looking for optional URL variables",d),a.each(e,function(d,e){var f=-1!==e.indexOf("$")?e.substr(3,e.length-4):e.substr(2,e.length-3),g=a.isPlainObject(c)&&void 0!==c[f]?c[f]:void 0!==x.data(f)?x.data(f):void 0!==z.data(f)?z.data(f):c[f];void 0!==g?(o.verbose("Optional variable Found",f,g),b=b.replace(e,g)):(o.verbose("Optional variable not found",f),b=-1!==b.indexOf("/"+e)?b.replace("/"+e,""):b.replace(e,""))}))),b},formData:function(b){var c,d=void 0!==a.fn.serializeObject,e=d?y.serializeObject():y.serialize();return b=b||p.data,c=a.isPlainObject(b),c?d?(o.debug("Extending existing data with form data",b,e),b=a.extend(!0,{},b,e)):(o.error(t.missingSerialize),o.debug("Cant extend data. Replacing data with form data",b,e),b=e):(o.debug("Adding form data",e),b=e),b}},send:{request:function(){o.set.loading(),o.request=o.create.request(),o.is.mocked()?o.mockedXHR=o.create.mockedXHR():o.xhr=o.create.xhr(),p.onRequest.call(B,o.request,o.xhr)}},event:{trigger:function(a){o.query(),"submit"!=a.type&&"click"!=a.type||a.preventDefault()},xhr:{always:function(){},done:function(b,c,d){var e=this,f=(new Date).getTime()-n,g=p.loadingDuration-f,h=!!a.isFunction(p.onResponse)&&p.onResponse.call(e,a.extend(!0,{},b));g=g>0?g:0,h&&(o.debug("Modified API response in onResponse callback",p.onResponse,h,b),b=h),g>0&&o.debug("Response completed early delaying state change by",g),setTimeout(function(){o.is.validResponse(b)?o.request.resolveWith(e,[b,d]):o.request.rejectWith(e,[d,"invalid"])},g)},fail:function(a,b,c){var d=this,e=(new Date).getTime()-n,f=p.loadingDuration-e;f=f>0?f:0,f>0&&o.debug("Response completed early delaying state change by",f),setTimeout(function(){o.is.abortedRequest(a)?o.request.rejectWith(d,[a,"aborted",c]):o.request.rejectWith(d,[a,"error",b,c])},f)}},request:{done:function(a,b){o.debug("Successful API Response",a),"local"===p.cache&&m&&(o.write.cachedResponse(m,a),o.debug("Saving server response locally",o.cache)),p.onSuccess.call(B,a,x,b)},complete:function(a,b){var c,d;o.was.succesful()?(d=a,c=b):(c=a,d=o.get.responseFromXHR(c)),o.remove.loading(),p.onComplete.call(B,d,x,c)},fail:function(a,b,c){var d=o.get.responseFromXHR(a),f=o.get.errorFromRequest(d,b,c);"aborted"==b?(o.debug("XHR Aborted (Most likely caused by page navigation or CORS Policy)",b,c),p.onAbort.call(B,b,x,a)):"invalid"==b?o.debug("JSON did not pass success test. A server-side error has most likely occurred",d):"error"==b&&void 0!==a&&(o.debug("XHR produced a server error",b,c),200!=a.status&&void 0!==c&&""!==c&&o.error(t.statusMessage+c,e.url),p.onError.call(B,f,x,a)),p.errorDuration&&"aborted"!==b&&(o.debug("Adding error state"),o.set.error(),o.should.removeError()&&setTimeout(o.remove.error,p.errorDuration)),o.debug("API Request failed",f,a),p.onFailure.call(B,d,x,a)}}},create:{request:function(){return a.Deferred().always(o.event.request.complete).done(o.event.request.done).fail(o.event.request.fail)},mockedXHR:function(){var b,c,d,e=p.mockResponse||p.response,f=p.mockResponseAsync||p.responseAsync;return d=a.Deferred().always(o.event.xhr.complete).done(o.event.xhr.done).fail(o.event.xhr.fail),e?(a.isFunction(e)?(o.debug("Using specified synchronous callback",e),c=e.call(B,l)):(o.debug("Using settings specified response",e),c=e),d.resolveWith(B,[c,!1,{responseText:c}])):a.isFunction(f)&&(b=function(a){o.debug("Async callback returned response",a),a?d.resolveWith(B,[a,!1,{responseText:a}]):d.rejectWith(B,[{responseText:a},!1,!1])},o.debug("Using specified async response callback",f),f.call(B,l,b)),d},xhr:function(){var b;return b=a.ajax(e).always(o.event.xhr.always).done(o.event.xhr.done).fail(o.event.xhr.fail),o.verbose("Created server request",b),b}},set:{error:function(){o.verbose("Adding error state to element",z),z.addClass(u.error)},loading:function(){o.verbose("Adding loading state to element",z),z.addClass(u.loading),n=(new Date).getTime()}},remove:{error:function(){o.verbose("Removing error state from element",z),z.removeClass(u.error)},loading:function(){o.verbose("Removing loading state from element",z),z.removeClass(u.loading)}},get:{responseFromXHR:function(b){return!!a.isPlainObject(b)&&("json"==p.dataType||"jsonp"==p.dataType?o.decode.json(b.responseText):b.responseText)},errorFromRequest:function(b,c,d){return a.isPlainObject(b)&&void 0!==b.error?b.error:void 0!==p.error[c]?p.error[c]:d},request:function(){return o.request||!1},xhr:function(){return o.xhr||!1},settings:function(){var b;return b=p.beforeSend.call(B,p),b&&(void 0!==b.success&&(o.debug("Legacy success callback detected",b),o.error(t.legacyParameters,b.success),b.onSuccess=b.success),void 0!==b.failure&&(o.debug("Legacy failure callback detected",b),o.error(t.legacyParameters,b.failure),b.onFailure=b.failure),void 0!==b.complete&&(o.debug("Legacy complete callback detected",b),o.error(t.legacyParameters,b.complete),b.onComplete=b.complete)),void 0===b&&o.error(t.noReturnedValue),void 0!==b?a.extend(!0,{},b):a.extend(!0,{},p)},urlEncodedValue:function(a){var c=b.decodeURIComponent(a),d=b.encodeURIComponent(a);return c!==a?(o.debug("URL value is already encoded, avoiding double encoding",a),a):(o.verbose("Encoding value using encodeURIComponent",a,d),d)},defaultData:function(){var b={};return a.isWindow(A)||(o.is.input()?b.value=x.val():o.is.form()&&(b.text=x.text())),b},event:function(){return a.isWindow(A)||"now"==p.on?(o.debug("API called without element, no events attached"),!1):"auto"==p.on?x.is("input")?void 0!==A.oninput?"input":void 0!==A.onpropertychange?"propertychange":"keyup":x.is("form")?"submit":"click":p.on},templatedURL:function(a){if(a=a||x.data(r.action)||p.action||!1,m=x.data(r.url)||p.url||!1)return o.debug("Using specified url",m),m;if(a){if(o.debug("Looking up url for action",a,p.api),void 0===p.api[a]&&!o.is.mocked())return void o.error(t.missingAction,p.action,p.api);m=p.api[a]}else o.is.form()&&(m=x.attr("action")||z.attr("action")||!1,o.debug("No url or action specified, defaulting to form action",m));return m}},abort:function(){var a=o.get.xhr();a&&"resolved"!==a.state()&&(o.debug("Cancelling API request"),a.abort())},reset:function(){o.remove.error(),o.remove.loading()},setting:function(b,c){if(o.debug("Changing setting",b,c),a.isPlainObject(b))a.extend(!0,p,b);else{if(void 0===c)return p[b];p[b]=c}},internal:function(b,c){if(a.isPlainObject(b))a.extend(!0,o,b);else{if(void 0===c)return o[b];o[b]=c}},debug:function(){p.debug&&(p.performance?o.performance.log(arguments):(o.debug=Function.prototype.bind.call(console.info,console,p.name+":"),o.debug.apply(console,arguments)))},verbose:function(){p.verbose&&p.debug&&(p.performance?o.performance.log(arguments):(o.verbose=Function.prototype.bind.call(console.info,console,p.name+":"),o.verbose.apply(console,arguments)))},error:function(){o.error=Function.prototype.bind.call(console.error,console,p.name+":"),o.error.apply(console,arguments)},performance:{log:function(a){var b,c,d;p.performance&&(b=(new Date).getTime(),d=g||b,c=b-d,g=b,h.push({Name:a[0],Arguments:[].slice.call(a,1)||"","Execution Time":c})),clearTimeout(o.performance.timer),o.performance.timer=setTimeout(o.performance.display,500)},display:function(){var b=p.name+":",c=0;g=!1,clearTimeout(o.performance.timer),a.each(h,function(a,b){c+=b["Execution Time"]}),b+=" "+c+"ms",f&&(b+=" '"+f+"'"),(void 0!==console.group||void 0!==console.table)&&h.length>0&&(console.groupCollapsed(b),console.table?console.table(h):a.each(h,function(a,b){console.log(b.Name+": "+b["Execution Time"]+"ms")}),console.groupEnd()),h=[]}},invoke:function(b,c,e){var f,g,h,i=C;return c=c||k,e=A||e,"string"==typeof b&&void 0!==i&&(b=b.split(/[\. ]/),f=b.length-1,a.each(b,function(c,d){var e=c!=f?d+b[c+1].charAt(0).toUpperCase()+b[c+1].slice(1):b;if(a.isPlainObject(i[e])&&c!=f)i=i[e];else{if(void 0!==i[e])return g=i[e],!1;if(!a.isPlainObject(i[d])||c==f)return void 0!==i[d]?(g=i[d],!1):(o.error(t.method,b),!1);i=i[d]}})),a.isFunction(g)?h=g.apply(e,c):void 0!==g&&(h=g),a.isArray(d)?d.push(h):void 0!==d?d=[d,h]:void 0!==h&&(d=h),g}},j?(void 0===C&&o.initialize(),o.invoke(i)):(void 0!==C&&C.invoke("destroy"),o.initialize())}),void 0!==d?d:this},a.api.settings={name:"API",namespace:"api",debug:!1,verbose:!1,performance:!0,api:{},cache:!0,interruptRequests:!0,on:"auto",stateContext:!1,loadingDuration:0,hideError:"auto",errorDuration:2e3,encodeParameters:!0,action:!1,url:!1,base:"",urlData:{},defaultData:!0,serializeForm:!1,throttle:0,throttleFirstRequest:!0,method:"get",data:{},dataType:"json",mockResponse:!1,mockResponseAsync:!1,response:!1,responseAsync:!1,beforeSend:function(a){return a},beforeXHR:function(a){},onRequest:function(a,b){},onResponse:!1,onSuccess:function(a,b){},onComplete:function(a,b){},onFailure:function(a,b){},onError:function(a,b){},onAbort:function(a,b){},successTest:!1,error:{beforeSend:"The before send function has aborted the request",error:"There was an error with your request",exitConditions:"API Request Aborted. Exit conditions met",JSONParse:"JSON could not be parsed during error handling",legacyParameters:"You are using legacy API success callback names",method:"The method you called is not defined",missingAction:"API action used but no url was defined",missingSerialize:"jquery-serialize-object is required to add form data to an existing data object",missingURL:"No URL specified for api event",noReturnedValue:"The beforeSend callback must return a settings object, beforeSend ignored.",noStorage:"Caching responses locally requires session storage",parseError:"There was an error parsing your request",requiredParameter:"Missing a required URL parameter: ",statusMessage:"Server gave an error: ",timeout:"Your request timed out"},regExp:{required:/\{\$*[A-z0-9]+\}/g,optional:/\{\/\$*[A-z0-9]+\}/g},className:{loading:"loading",error:"error"},selector:{disabled:".disabled",form:"form"},metadata:{action:"action",url:"url"}}}(jQuery,window,document),function(a,b,c,d){"use strict";a.fn.state=function(b){var d,e=a(this),f=e.selector||"",g=(c.documentElement,(new Date).getTime()),h=[],i=arguments[0],j="string"==typeof i,k=[].slice.call(arguments,1);return e.each(function(){var c,l=a.isPlainObject(b)?a.extend(!0,{},a.fn.state.settings,b):a.extend({},a.fn.state.settings),m=l.error,n=l.metadata,o=l.className,p=l.namespace,q=l.states,r=l.text,s="."+p,t=p+"-module",u=a(this),v=this,w=u.data(t);c={initialize:function(){c.verbose("Initializing module"),l.automatic&&c.add.defaults(),l.context&&""!==f?a(l.context).on(f,"mouseenter"+s,c.change.text).on(f,"mouseleave"+s,c.reset.text).on(f,"click"+s,c.toggle.state):u.on("mouseenter"+s,c.change.text).on("mouseleave"+s,c.reset.text).on("click"+s,c.toggle.state),c.instantiate()},instantiate:function(){c.verbose("Storing instance of module",c),w=c,u.data(t,c)},destroy:function(){c.verbose("Destroying previous module",w),u.off(s).removeData(t)},refresh:function(){c.verbose("Refreshing selector cache"),u=a(v)},add:{defaults:function(){var d=b&&a.isPlainObject(b.states)?b.states:{};a.each(l.defaults,function(b,e){void 0!==c.is[b]&&c.is[b]()&&(c.verbose("Adding default states",b,v),a.extend(l.states,e,d))})}},is:{active:function(){return u.hasClass(o.active)},loading:function(){return u.hasClass(o.loading)},inactive:function(){return!u.hasClass(o.active)},state:function(a){return void 0!==o[a]&&u.hasClass(o[a])},enabled:function(){return!u.is(l.filter.active)},disabled:function(){return u.is(l.filter.active)},textEnabled:function(){return!u.is(l.filter.text)},button:function(){return u.is(".button:not(a, .submit)")},input:function(){return u.is("input")},progress:function(){return u.is(".ui.progress")}},allow:function(a){c.debug("Now allowing state",a),q[a]=!0},disallow:function(a){c.debug("No longer allowing",a),q[a]=!1},allows:function(a){return q[a]||!1},enable:function(){u.removeClass(o.disabled)},disable:function(){u.addClass(o.disabled)},setState:function(a){c.allows(a)&&u.addClass(o[a])},removeState:function(a){c.allows(a)&&u.removeClass(o[a])},toggle:{state:function(){var b;if(c.allows("active")&&c.is.enabled()){if(c.refresh(),void 0!==a.fn.api)if(b=u.api("get request"),u.api("was cancelled"))c.debug("API Request cancelled by beforesend"),l.activateTest=function(){return!1},l.deactivateTest=function(){return!1};else if(b)return void c.listenTo(b);c.change.state()}}},listenTo:function(b){c.debug("API request detected, waiting for state signal",b),b&&(r.loading&&c.update.text(r.loading),a.when(b).then(function(){"resolved"==b.state()?(c.debug("API request succeeded"),l.activateTest=function(){return!0},l.deactivateTest=function(){return!0}):(c.debug("API request failed"),l.activateTest=function(){return!1},l.deactivateTest=function(){return!1}),c.change.state()}))},change:{state:function(){c.debug("Determining state change direction"),c.is.inactive()?c.activate():c.deactivate(),l.sync&&c.sync(),l.onChange.call(v)},text:function(){c.is.textEnabled()&&(c.is.disabled()?(c.verbose("Changing text to disabled text",r.hover),c.update.text(r.disabled)):c.is.active()?r.hover?(c.verbose("Changing text to hover text",r.hover),c.update.text(r.hover)):r.deactivate&&(c.verbose("Changing text to deactivating text",r.deactivate),c.update.text(r.deactivate)):r.hover?(c.verbose("Changing text to hover text",r.hover),c.update.text(r.hover)):r.activate&&(c.verbose("Changing text to activating text",r.activate),c.update.text(r.activate)))}},activate:function(){l.activateTest.call(v)&&(c.debug("Setting state to active"),u.addClass(o.active),c.update.text(r.active),l.onActivate.call(v))},deactivate:function(){l.deactivateTest.call(v)&&(c.debug("Setting state to inactive"),u.removeClass(o.active),c.update.text(r.inactive),l.onDeactivate.call(v))},sync:function(){c.verbose("Syncing other buttons to current state"),c.is.active()?e.not(u).state("activate"):e.not(u).state("deactivate")},get:{text:function(){return l.selector.text?u.find(l.selector.text).text():u.html()},textFor:function(a){return r[a]||!1}},flash:{text:function(a,b,d){var e=c.get.text();c.debug("Flashing text message",a,b),a=a||l.text.flash,b=b||l.flashDuration,d=d||function(){},c.update.text(a),setTimeout(function(){c.update.text(e),d.call(v)},b)}},reset:{text:function(){var a=r.active||u.data(n.storedText),b=r.inactive||u.data(n.storedText);c.is.textEnabled()&&(c.is.active()&&a?(c.verbose("Resetting active text",a),c.update.text(a)):b&&(c.verbose("Resetting inactive text",a),c.update.text(b)))}},update:{text:function(a){var b=c.get.text();a&&a!==b?(c.debug("Updating text",a),l.selector.text?u.data(n.storedText,a).find(l.selector.text).text(a):u.data(n.storedText,a).html(a)):c.debug("Text is already set, ignoring update",a)}},setting:function(b,d){if(c.debug("Changing setting",b,d),a.isPlainObject(b))a.extend(!0,l,b);else{if(void 0===d)return l[b];l[b]=d}},internal:function(b,d){if(a.isPlainObject(b))a.extend(!0,c,b);else{if(void 0===d)return c[b];c[b]=d}},debug:function(){l.debug&&(l.performance?c.performance.log(arguments):(c.debug=Function.prototype.bind.call(console.info,console,l.name+":"),c.debug.apply(console,arguments)))},verbose:function(){l.verbose&&l.debug&&(l.performance?c.performance.log(arguments):(c.verbose=Function.prototype.bind.call(console.info,console,l.name+":"),c.verbose.apply(console,arguments)))},error:function(){c.error=Function.prototype.bind.call(console.error,console,l.name+":"),c.error.apply(console,arguments)},performance:{log:function(a){var b,d,e;l.performance&&(b=(new Date).getTime(),e=g||b,d=b-e,g=b,h.push({Name:a[0],Arguments:[].slice.call(a,1)||"",Element:v,"Execution Time":d})),clearTimeout(c.performance.timer),c.performance.timer=setTimeout(c.performance.display,500)},display:function(){var b=l.name+":",d=0;g=!1,clearTimeout(c.performance.timer),a.each(h,function(a,b){d+=b["Execution Time"]}),b+=" "+d+"ms",f&&(b+=" '"+f+"'"),(void 0!==console.group||void 0!==console.table)&&h.length>0&&(console.groupCollapsed(b),console.table?console.table(h):a.each(h,function(a,b){console.log(b.Name+": "+b["Execution Time"]+"ms")}),console.groupEnd()),h=[]}},invoke:function(b,e,f){var g,h,i,j=w;return e=e||k,f=v||f,"string"==typeof b&&void 0!==j&&(b=b.split(/[\. ]/),g=b.length-1,a.each(b,function(d,e){var f=d!=g?e+b[d+1].charAt(0).toUpperCase()+b[d+1].slice(1):b;if(a.isPlainObject(j[f])&&d!=g)j=j[f];else{if(void 0!==j[f])return h=j[f],!1;if(!a.isPlainObject(j[e])||d==g)return void 0!==j[e]?(h=j[e],!1):(c.error(m.method,b),!1);j=j[e]}})),a.isFunction(h)?i=h.apply(f,e):void 0!==h&&(i=h),a.isArray(d)?d.push(i):void 0!==d?d=[d,i]:void 0!==i&&(d=i),h}},j?(void 0===w&&c.initialize(),c.invoke(i)):(void 0!==w&&w.invoke("destroy"),c.initialize())}),void 0!==d?d:this},a.fn.state.settings={name:"State",debug:!1,verbose:!1,namespace:"state",performance:!0,onActivate:function(){},onDeactivate:function(){},onChange:function(){},activateTest:function(){return!0},deactivateTest:function(){return!0},automatic:!0,sync:!1,flashDuration:1e3,filter:{text:".loading, .disabled",active:".disabled"},context:!1,error:{beforeSend:"The before send function has cancelled state change",method:"The method you called is not defined."},metadata:{promise:"promise",storedText:"stored-text"},className:{active:"active",disabled:"disabled",error:"error",loading:"loading",success:"success",warning:"warning"},selector:{text:!1},defaults:{input:{disabled:!0,loading:!0,active:!0},button:{disabled:!0,loading:!0,active:!0},progress:{active:!0,success:!0,warning:!0,error:!0}},states:{active:!0,disabled:!0,error:!0,loading:!0,success:!0,warning:!0},text:{disabled:!1,flash:!1,hover:!1,active:!1,inactive:!1,activate:!1,deactivate:!1}}}(jQuery,window,document),function(a,b,c,d){"use strict";a.fn.visibility=function(d){var e,f=a(this),g=f.selector||"",h=(new Date).getTime(),i=[],j=arguments[0],k="string"==typeof j,l=[].slice.call(arguments,1);return f.each(function(){var f,m,n,o=a.isPlainObject(d)?a.extend(!0,{},a.fn.visibility.settings,d):a.extend({},a.fn.visibility.settings),p=o.className,q=o.namespace,r=o.error,s=o.metadata,t="."+q,u="module-"+q,v=a(b),w=a(this),x=a(o.context),y=(w.selector,w.data(u)),z=b.requestAnimationFrame||b.mozRequestAnimationFrame||b.webkitRequestAnimationFrame||b.msRequestAnimationFrame||function(a){setTimeout(a,0)},A=this,B=!1;n={initialize:function(){n.debug("Initializing",o),n.setup.cache(),n.should.trackChanges()&&("image"==o.type&&n.setup.image(),"fixed"==o.type&&n.setup.fixed(),o.observeChanges&&n.observeChanges(),n.bind.events()),n.save.position(),n.is.visible()||n.error(r.visible,w),o.initialCheck&&n.checkVisibility(),n.instantiate()},instantiate:function(){n.debug("Storing instance",n),w.data(u,n),y=n},destroy:function(){n.verbose("Destroying previous module"),m&&m.disconnect(),v.off("load"+t,n.event.load).off("resize"+t,n.event.resize),x.off("scrollchange"+t,n.event.scrollchange),w.off(t).removeData(u)},observeChanges:function(){"MutationObserver"in b&&(m=new MutationObserver(function(a){n.verbose("DOM tree modified, updating visibility calculations"),n.timer=setTimeout(function(){n.verbose("DOM tree modified, updating sticky menu"),n.refresh()},100)}),m.observe(A,{childList:!0,subtree:!0}),n.debug("Setting up mutation observer",m))},bind:{events:function(){n.verbose("Binding visibility events to scroll and resize"),o.refreshOnLoad&&v.on("load"+t,n.event.load),v.on("resize"+t,n.event.resize),x.off("scroll"+t).on("scroll"+t,n.event.scroll).on("scrollchange"+t,n.event.scrollchange)}},event:{resize:function(){n.debug("Window resized"),o.refreshOnResize&&z(n.refresh)},load:function(){n.debug("Page finished loading"),z(n.refresh)},scroll:function(){o.throttle?(clearTimeout(n.timer),n.timer=setTimeout(function(){x.triggerHandler("scrollchange"+t,[x.scrollTop()])},o.throttle)):z(function(){x.triggerHandler("scrollchange"+t,[x.scrollTop()])})},scrollchange:function(a,b){n.checkVisibility(b)}},precache:function(b,d){b instanceof Array||(b=[b]);for(var e=b.length,f=0,g=[],h=c.createElement("img"),i=function(){++f>=b.length&&a.isFunction(d)&&d()};e--;)h=c.createElement("img"),h.onload=i,h.onerror=i,h.src=b[e],g.push(h)},enableCallbacks:function(){n.debug("Allowing callbacks to occur"),B=!1},disableCallbacks:function(){n.debug("Disabling all callbacks temporarily"),B=!0},should:{trackChanges:function(){return k?(n.debug("One time query, no need to bind events"),!1):(n.debug("Callbacks being attached"),!0)}},setup:{cache:function(){n.cache={occurred:{},screen:{},element:{}}},image:function(){var a=w.data(s.src);a&&(n.verbose("Lazy loading image",a),o.once=!0,o.observeChanges=!1,o.onOnScreen=function(){n.debug("Image on screen",A),n.precache(a,function(){n.set.image(a)})})},fixed:function(){n.debug("Setting up fixed"),o.once=!1,o.observeChanges=!1,o.initialCheck=!0,o.refreshOnLoad=!0,d.transition||(o.transition=!1),n.create.placeholder(),n.debug("Added placeholder",f),o.onTopPassed=function(){n.debug("Element passed, adding fixed position",w),n.show.placeholder(),n.set.fixed(),o.transition&&void 0!==a.fn.transition&&w.transition(o.transition,o.duration)},o.onTopPassedReverse=function(){n.debug("Element returned to position, removing fixed",w),n.hide.placeholder(),n.remove.fixed()}}},create:{placeholder:function(){n.verbose("Creating fixed position placeholder"),f=w.clone(!1).css("display","none").addClass(p.placeholder).insertAfter(w)}},show:{placeholder:function(){n.verbose("Showing placeholder"),f.css("display","block").css("visibility","hidden")}},hide:{placeholder:function(){n.verbose("Hiding placeholder"),f.css("display","none").css("visibility","")}},set:{fixed:function(){n.verbose("Setting element to fixed position"),w.addClass(p.fixed).css({position:"fixed",top:o.offset+"px",left:"auto",zIndex:"1"})},image:function(b){w.attr("src",b),o.transition?void 0!==a.fn.transition?w.transition(o.transition,o.duration):w.fadeIn(o.duration):w.show()}},is:{onScreen:function(){return n.get.elementCalculations().onScreen},offScreen:function(){return n.get.elementCalculations().offScreen},visible:function(){return!(!n.cache||!n.cache.element)&&!(0===n.cache.element.width&&0===n.cache.element.offset.top)}},refresh:function(){n.debug("Refreshing constants (width/height)"),"fixed"==o.type&&(n.remove.fixed(),n.remove.occurred()),n.reset(),n.save.position(),o.checkOnRefresh&&n.checkVisibility(),o.onRefresh.call(A)},reset:function(){n.verbose("Reseting all cached values"),a.isPlainObject(n.cache)&&(n.cache.screen={},n.cache.element={})},checkVisibility:function(a){n.verbose("Checking visibility of element",n.cache.element),!B&&n.is.visible()&&(n.save.scroll(a),n.save.calculations(),n.passed(),n.passingReverse(),n.topVisibleReverse(),n.bottomVisibleReverse(),n.topPassedReverse(),n.bottomPassedReverse(),n.onScreen(),n.offScreen(),n.passing(),n.topVisible(),n.bottomVisible(),n.topPassed(),n.bottomPassed(),o.onUpdate&&o.onUpdate.call(A,n.get.elementCalculations()))},passed:function(b,c){var d=n.get.elementCalculations();if(b&&c)o.onPassed[b]=c;else{if(void 0!==b)return n.get.pixelsPassed(b)>d.pixelsPassed;d.passing&&a.each(o.onPassed,function(a,b){d.bottomVisible||d.pixelsPassed>n.get.pixelsPassed(a)?n.execute(b,a):o.once||n.remove.occurred(b)})}},onScreen:function(a){var b=n.get.elementCalculations(),c=a||o.onOnScreen;if(a&&(n.debug("Adding callback for onScreen",a),o.onOnScreen=a),b.onScreen?n.execute(c,"onScreen"):o.once||n.remove.occurred("onScreen"),void 0!==a)return b.onOnScreen},offScreen:function(a){var b=n.get.elementCalculations(),c=a||o.onOffScreen;if(a&&(n.debug("Adding callback for offScreen",a),o.onOffScreen=a),b.offScreen?n.execute(c,"offScreen"):o.once||n.remove.occurred("offScreen"),void 0!==a)return b.onOffScreen},passing:function(a){var b=n.get.elementCalculations(),c=a||o.onPassing;if(a&&(n.debug("Adding callback for passing",a),o.onPassing=a),b.passing?n.execute(c,"passing"):o.once||n.remove.occurred("passing"),void 0!==a)return b.passing},topVisible:function(a){var b=n.get.elementCalculations(),c=a||o.onTopVisible;if(a&&(n.debug("Adding callback for top visible",a),o.onTopVisible=a),b.topVisible?n.execute(c,"topVisible"):o.once||n.remove.occurred("topVisible"),void 0===a)return b.topVisible},bottomVisible:function(a){var b=n.get.elementCalculations(),c=a||o.onBottomVisible;if(a&&(n.debug("Adding callback for bottom visible",a),o.onBottomVisible=a),b.bottomVisible?n.execute(c,"bottomVisible"):o.once||n.remove.occurred("bottomVisible"),void 0===a)return b.bottomVisible},topPassed:function(a){var b=n.get.elementCalculations(),c=a||o.onTopPassed;if(a&&(n.debug("Adding callback for top passed",a),o.onTopPassed=a),b.topPassed?n.execute(c,"topPassed"):o.once||n.remove.occurred("topPassed"),void 0===a)return b.topPassed},bottomPassed:function(a){var b=n.get.elementCalculations(),c=a||o.onBottomPassed;if(a&&(n.debug("Adding callback for bottom passed",a),o.onBottomPassed=a),b.bottomPassed?n.execute(c,"bottomPassed"):o.once||n.remove.occurred("bottomPassed"),void 0===a)return b.bottomPassed},passingReverse:function(a){var b=n.get.elementCalculations(),c=a||o.onPassingReverse;if(a&&(n.debug("Adding callback for passing reverse",a),o.onPassingReverse=a),
b.passing?o.once||n.remove.occurred("passingReverse"):n.get.occurred("passing")&&n.execute(c,"passingReverse"),void 0!==a)return!b.passing},topVisibleReverse:function(a){var b=n.get.elementCalculations(),c=a||o.onTopVisibleReverse;if(a&&(n.debug("Adding callback for top visible reverse",a),o.onTopVisibleReverse=a),b.topVisible?o.once||n.remove.occurred("topVisibleReverse"):n.get.occurred("topVisible")&&n.execute(c,"topVisibleReverse"),void 0===a)return!b.topVisible},bottomVisibleReverse:function(a){var b=n.get.elementCalculations(),c=a||o.onBottomVisibleReverse;if(a&&(n.debug("Adding callback for bottom visible reverse",a),o.onBottomVisibleReverse=a),b.bottomVisible?o.once||n.remove.occurred("bottomVisibleReverse"):n.get.occurred("bottomVisible")&&n.execute(c,"bottomVisibleReverse"),void 0===a)return!b.bottomVisible},topPassedReverse:function(a){var b=n.get.elementCalculations(),c=a||o.onTopPassedReverse;if(a&&(n.debug("Adding callback for top passed reverse",a),o.onTopPassedReverse=a),b.topPassed?o.once||n.remove.occurred("topPassedReverse"):n.get.occurred("topPassed")&&n.execute(c,"topPassedReverse"),void 0===a)return!b.onTopPassed},bottomPassedReverse:function(a){var b=n.get.elementCalculations(),c=a||o.onBottomPassedReverse;if(a&&(n.debug("Adding callback for bottom passed reverse",a),o.onBottomPassedReverse=a),b.bottomPassed?o.once||n.remove.occurred("bottomPassedReverse"):n.get.occurred("bottomPassed")&&n.execute(c,"bottomPassedReverse"),void 0===a)return!b.bottomPassed},execute:function(a,b){var c=n.get.elementCalculations(),d=n.get.screenCalculations();a=a||!1,a&&(o.continuous?(n.debug("Callback being called continuously",b,c),a.call(A,c,d)):n.get.occurred(b)||(n.debug("Conditions met",b,c),a.call(A,c,d))),n.save.occurred(b)},remove:{fixed:function(){n.debug("Removing fixed position"),w.removeClass(p.fixed).css({position:"",top:"",left:"",zIndex:""})},occurred:function(a){if(a){var b=n.cache.occurred;void 0!==b[a]&&!0===b[a]&&(n.debug("Callback can now be called again",a),n.cache.occurred[a]=!1)}else n.cache.occurred={}}},save:{calculations:function(){n.verbose("Saving all calculations necessary to determine positioning"),n.save.direction(),n.save.screenCalculations(),n.save.elementCalculations()},occurred:function(a){a&&(void 0!==n.cache.occurred[a]&&!0===n.cache.occurred[a]||(n.verbose("Saving callback occurred",a),n.cache.occurred[a]=!0))},scroll:function(a){a=a+o.offset||x.scrollTop()+o.offset,n.cache.scroll=a},direction:function(){var a,b=n.get.scroll(),c=n.get.lastScroll();return a=b>c&&c?"down":b<c&&c?"up":"static",n.cache.direction=a,n.cache.direction},elementPosition:function(){var a=n.cache.element,b=n.get.screenSize();return n.verbose("Saving element position"),a.fits=a.height<b.height,a.offset=w.offset(),a.width=w.outerWidth(),a.height=w.outerHeight(),n.cache.element=a,a},elementCalculations:function(){var a=n.get.screenCalculations(),b=n.get.elementPosition();return o.includeMargin?(b.margin={},b.margin.top=parseInt(w.css("margin-top"),10),b.margin.bottom=parseInt(w.css("margin-bottom"),10),b.top=b.offset.top-b.margin.top,b.bottom=b.offset.top+b.height+b.margin.bottom):(b.top=b.offset.top,b.bottom=b.offset.top+b.height),b.topVisible=a.bottom>=b.top,b.topPassed=a.top>=b.top,b.bottomVisible=a.bottom>=b.bottom,b.bottomPassed=a.top>=b.bottom,b.pixelsPassed=0,b.percentagePassed=0,b.onScreen=b.topVisible&&!b.bottomPassed,b.passing=b.topPassed&&!b.bottomPassed,b.offScreen=!b.onScreen,b.passing&&(b.pixelsPassed=a.top-b.top,b.percentagePassed=(a.top-b.top)/b.height),n.cache.element=b,n.verbose("Updated element calculations",b),b},screenCalculations:function(){var a=n.get.scroll();return n.save.direction(),n.cache.screen.top=a,n.cache.screen.bottom=a+n.cache.screen.height,n.cache.screen},screenSize:function(){n.verbose("Saving window position"),n.cache.screen={height:x.height()}},position:function(){n.save.screenSize(),n.save.elementPosition()}},get:{pixelsPassed:function(a){var b=n.get.elementCalculations();return a.search("%")>-1?b.height*(parseInt(a,10)/100):parseInt(a,10)},occurred:function(a){return void 0!==n.cache.occurred&&(n.cache.occurred[a]||!1)},direction:function(){return void 0===n.cache.direction&&n.save.direction(),n.cache.direction},elementPosition:function(){return void 0===n.cache.element&&n.save.elementPosition(),n.cache.element},elementCalculations:function(){return void 0===n.cache.element&&n.save.elementCalculations(),n.cache.element},screenCalculations:function(){return void 0===n.cache.screen&&n.save.screenCalculations(),n.cache.screen},screenSize:function(){return void 0===n.cache.screen&&n.save.screenSize(),n.cache.screen},scroll:function(){return void 0===n.cache.scroll&&n.save.scroll(),n.cache.scroll},lastScroll:function(){return void 0===n.cache.screen?(n.debug("First scroll event, no last scroll could be found"),!1):n.cache.screen.top}},setting:function(b,c){if(a.isPlainObject(b))a.extend(!0,o,b);else{if(void 0===c)return o[b];o[b]=c}},internal:function(b,c){if(a.isPlainObject(b))a.extend(!0,n,b);else{if(void 0===c)return n[b];n[b]=c}},debug:function(){o.debug&&(o.performance?n.performance.log(arguments):(n.debug=Function.prototype.bind.call(console.info,console,o.name+":"),n.debug.apply(console,arguments)))},verbose:function(){o.verbose&&o.debug&&(o.performance?n.performance.log(arguments):(n.verbose=Function.prototype.bind.call(console.info,console,o.name+":"),n.verbose.apply(console,arguments)))},error:function(){n.error=Function.prototype.bind.call(console.error,console,o.name+":"),n.error.apply(console,arguments)},performance:{log:function(a){var b,c,d;o.performance&&(b=(new Date).getTime(),d=h||b,c=b-d,h=b,i.push({Name:a[0],Arguments:[].slice.call(a,1)||"",Element:A,"Execution Time":c})),clearTimeout(n.performance.timer),n.performance.timer=setTimeout(n.performance.display,500)},display:function(){var b=o.name+":",c=0;h=!1,clearTimeout(n.performance.timer),a.each(i,function(a,b){c+=b["Execution Time"]}),b+=" "+c+"ms",g&&(b+=" '"+g+"'"),(void 0!==console.group||void 0!==console.table)&&i.length>0&&(console.groupCollapsed(b),console.table?console.table(i):a.each(i,function(a,b){console.log(b.Name+": "+b["Execution Time"]+"ms")}),console.groupEnd()),i=[]}},invoke:function(b,c,d){var f,g,h,i=y;return c=c||l,d=A||d,"string"==typeof b&&void 0!==i&&(b=b.split(/[\. ]/),f=b.length-1,a.each(b,function(c,d){var e=c!=f?d+b[c+1].charAt(0).toUpperCase()+b[c+1].slice(1):b;if(a.isPlainObject(i[e])&&c!=f)i=i[e];else{if(void 0!==i[e])return g=i[e],!1;if(!a.isPlainObject(i[d])||c==f)return void 0!==i[d]?(g=i[d],!1):(n.error(r.method,b),!1);i=i[d]}})),a.isFunction(g)?h=g.apply(d,c):void 0!==g&&(h=g),a.isArray(e)?e.push(h):void 0!==e?e=[e,h]:void 0!==h&&(e=h),g}},k?(void 0===y&&n.initialize(),y.save.scroll(),y.save.calculations(),n.invoke(j)):(void 0!==y&&y.invoke("destroy"),n.initialize())}),void 0!==e?e:this},a.fn.visibility.settings={name:"Visibility",namespace:"visibility",debug:!1,verbose:!1,performance:!0,observeChanges:!0,initialCheck:!0,refreshOnLoad:!0,refreshOnResize:!0,checkOnRefresh:!0,once:!0,continuous:!1,offset:0,includeMargin:!1,context:b,throttle:!1,type:!1,transition:"fade in",duration:1e3,onPassed:{},onOnScreen:!1,onOffScreen:!1,onPassing:!1,onTopVisible:!1,onBottomVisible:!1,onTopPassed:!1,onBottomPassed:!1,onPassingReverse:!1,onTopVisibleReverse:!1,onBottomVisibleReverse:!1,onTopPassedReverse:!1,onBottomPassedReverse:!1,onUpdate:!1,onRefresh:function(){},metadata:{src:"src"},className:{fixed:"fixed",placeholder:"placeholder"},error:{method:"The method you called is not defined.",visible:"Element is hidden, you must call refresh after element becomes visible"}}}(jQuery,window,document);