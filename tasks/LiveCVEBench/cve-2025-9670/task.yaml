instruction: |-
  This application uses the turndown library to convert HTML content to Markdown format.

  Users have reported that when processing certain HTML documents, the conversion hangs
  indefinitely. Specifically, when converting blockquote elements or list items that
  contain many consecutive newline characters followed by other content (e.g., special
  characters or punctuation), the application becomes unresponsive.

  For example, HTML like:
  ```html
  <blockquote>
  [thousands of newlines]
  !
  </blockquote>
  ```

  or:
  ```html
  <ul><li>
  [thousands of newlines]
  some text
  </li></ul>
  ```

  causes the application to hang, consuming 100% CPU. In production, this has caused
  timeout errors and service unavailability when users submit documents with these
  characteristics.

  Normal HTML content (headings, paragraphs, simple blockquotes, and lists) converts
  correctly and quickly. The issue only manifests with content containing many
  consecutive newlines followed by non-newline characters in blockquote or list item
  elements.

  We expect the application to handle all valid HTML input efficiently, completing
  conversion in a reasonable time regardless of whitespace patterns.

author_name: HIT-SCIR-LACG
author_email: xzluo@ir.hit.edu.cn

difficulty: medium
category: bug-fix
tags:
  - performance
  - javascript
  - nodejs
  - html-processing
parser_name: pytest

run_tests_in_same_shell: false
