instruction: |-
  This is a Student Management System built in PHP that allows school administrators
  to manage student records, grades, and attendance information.

  We've noticed that the record update functionality at `/grading/uprec.php` is
  causing issues with our database. When certain special characters are submitted
  in the `id` field (such as quotes or other punctuation), the application behaves
  unexpectedly:

  - Sometimes requests take an unusually long time to complete (several seconds)
  - The application occasionally returns database error messages
  - In some cases, unexpected data appears in query results

  This endpoint is supposed to update student academic records based on the student
  ID provided. Normal student IDs are numeric values (e.g., "1", "2", "123").

  The application should properly validate and sanitize user inputs before using
  them in database operations. Please fix the code so that:

  1. Invalid input (non-numeric IDs, special characters) is handled safely
  2. Database queries cannot be manipulated through user input
  3. Normal functionality (updating records with valid numeric IDs) continues to work

difficulty: medium
category: security
tags:
  - php
  - mysql
  - input-validation
  - database
parser_name: pytest

run_tests_in_same_shell: false
