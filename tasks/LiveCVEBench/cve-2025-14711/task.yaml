instruction: |-
  This application is a hotel reservation system API that allows users to search
  for hotels by various criteria including city, type, star rating, and name.

  Users have reported unexpected behavior when searching for hotels using the
  hotel search endpoint at `/controller/api/hotelList.php`. When search queries
  contain special characters (such as single quotes, dashes, or unusual formatting),
  the API exhibits inconsistent behavior:

  1. Search queries with certain character combinations return unexpected results
     that don't match the search criteria (e.g., returning all hotels when
     searching for a specific type)

  2. In some cases, the response is significantly delayed (several seconds) when
     certain character patterns are included in search parameters like hotel name
     or type filters

  3. Users have noted that crafted search strings can cause the API to behave as
     if no filters were applied, returning the entire dataset instead of filtered
     results

  The API is used via POST requests with parameters including:
  - `key`: API authentication key
  - `request`: Request type (1-5 for different search modes)
  - `pickedHotelName`: Hotel name search filter
  - `type`: Hotel type filter
  - `cityName`: City filter
  - `page`/`size`: Pagination parameters

  Expected behavior: The search API should properly handle all input characters
  and return only results matching the specified filter criteria.

difficulty: medium
category: security
tags:
  - php
  - api
  - input-validation
  - database
parser_name: pytest

run_tests_in_same_shell: false
