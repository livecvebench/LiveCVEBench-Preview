<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="jehc.djshi.workflow.dao.ActRuIdentitylinkDao">

    <!--查询运行时流程人员集合-->
    <select id="getActRuIdentitylinkListByCondition" resultType="jehc.djshi.workflow.model.ActRuIdentitylink" parameterType="map">
        SELECT
            ID_ AS id,
            REV_ AS rev,
            PROC_INST_ID_ AS procInstId,
            GROUP_ID_ AS groupId,
            TYPE_ AS type,
            PROC_DEF_ID_ AS procDefId,
            USER_ID_ AS userId,
            TASK_ID_ AS taskId
        FROM
            act_ru_identitylink
        WHERE 1=1
        <if test="null != id">
            AND ID_ = #{id}
        </if>
        <if test="null != type">
            AND TYPE_ = #{type}
        </if>
        <if test="null != procInstId">
            AND PROC_INST_ID_ = #{procInstId}
        </if>
        <if test="null != procDefId">
            AND PROC_DEF_ID_ = #{procDefId}
        </if>
        <if test="null != taskId">
            AND TASK_ID_ = #{taskId}
        </if>
    </select>

    <!--查询单个运行时流程人员-->
    <select id="getActRuIdentitylinkById" resultType="jehc.djshi.workflow.model.ActRuIdentitylink" parameterType="map">
       SELECT
            ID_ AS id,
            REV_ AS rev,
            PROC_INST_ID_ AS procInstId,
            GROUP_ID_ AS groupId,
            TYPE_ AS type,
            PROC_DEF_ID_ AS procDefId,
            USER_ID_ AS userId,
            TASK_ID_ AS taskId
        FROM
          act_ru_identitylink
        WHERE ID_ = #{id}
    </select>

    <!--删除运行时流程人员-->
    <delete id="delActRuIdentitylink" parameterType="string">
        DELETE FROM act_ru_identitylink WHERE ID_ = #{id}
    </delete>

    <!--删除运行时流程人员-->
    <delete id="delActRuIdentitylinkByProcInstId" parameterType="string">
        DELETE FROM act_ru_identitylink WHERE PROC_INST_ID_ = #{procInstId}
    </delete>

    <!--新增-->
    <insert id="addActRuIdentitylink" parameterType="jehc.djshi.workflow.model.ActRuIdentitylink">
        INSERT INTO
        ACT_RU_IDENTITYLINK
        (
        ID_,
        REV_,
        TYPE_,
        USER_ID_,
        GROUP_ID_,
        TASK_ID_,
        PROC_INST_ID_,
        PROC_DEF_ID_
        )
        VALUES
        (
        #{id},
        #{rev},
        #{type},
        #{userId},
        #{groupId},
        #{taskId},
        #{procInstId},
        #{procDefId}
        )
    </insert>
</mapper>