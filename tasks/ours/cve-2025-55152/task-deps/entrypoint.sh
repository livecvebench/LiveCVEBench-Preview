#!/bin/bash
# Entrypoint script for Oak server with restart capability
# This allows solution.sh to restart the server after applying patches

cd /app

while true; do
    echo "Starting Oak server..."
    deno run --allow-net --allow-read server.ts
    EXIT_CODE=$?
    echo "Server exited with code $EXIT_CODE. Restarting in 1 second..."
    sleep 1
done
