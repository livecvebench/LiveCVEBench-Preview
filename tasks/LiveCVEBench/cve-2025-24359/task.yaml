instruction: |-
  Bug Report: F-string format specifications bypass attribute access restrictions

  The asteval library provides a sandboxed environment for safely evaluating Python expressions and
  statements. It implements security controls to prevent access to dangerous attributes and methods
  that could escape the sandbox.

  Issue Description:
  When using f-strings with format specifications, certain syntax patterns can bypass the sandbox's
  attribute access restrictions. Specifically, when f-strings are processed with format string syntax
  that accesses object attributes, these accesses are not subject to the same security validation
  that normally applies to attribute access in the sandbox.

  Conditions:
  - Occurs when executing code that uses f-strings with format specifications
  - The format specification syntax allows accessing object attributes
  - These attribute accesses are not validated by the sandbox's security controls

  Observed Behavior:
  Code can access restricted attributes through f-string format specifications that would normally
  be blocked by the sandbox's attribute access validation.

  Expected Behavior:
  All attribute access during f-string formatting should be subject to the same security validation
  as regular attribute access, preventing access to restricted attributes.

author_name: HIT-SCIR-LACG
author_email: xzluo@ir.hit.edu.cn

difficulty: hard
category: bug-fix
tags:
  - python
  - sandbox
  - format-string
  - asteval
parser_name: pytest

run_tests_in_same_shell: false
