instruction: |-
  This application provides a CSS-to-React-Native transformation service that converts
  standard CSS stylesheets into React Native compatible style objects. It's part of
  the Taro cross-platform development framework.

  When processing CSS files containing property values with long numeric sequences
  (e.g., 100,000+ digits), the transformation becomes extremely slow or hangs
  indefinitely. For example, a CSS rule like:

    .foo { some-prop: "0000...0000p"; }

  (where the value contains many zeros followed by certain characters like 'p' or 'r')
  causes the application to consume 100% CPU and never complete. The issue occurs
  when using the `scalable: false` option, which triggers px-to-PX transformation.

  We also observed similar slowness with numeric sequences followed by 'r' (incomplete
  'rem' unit). The transformation should handle edge cases like malformed or unusually
  long values gracefully without performance degradation.

  Expected behavior: The transformation should complete within a reasonable time
  (under 1 second) even for inputs with 100,000+ character values, and either
  process them correctly or skip invalid values.

  The relevant transformation logic is in:
  - packages/css-to-react-native/src/index.js (px unit handling)
  - packages/css-to-react-native/src/transforms/rem.js (rem to px conversion)

author_name: HIT-SCIR-LACG
author_email: xzluo@ir.hit.edu.cn

difficulty: medium
category: bug-fix
tags:
  - performance
  - regex
  - javascript
  - css-parser
parser_name: pytest

run_tests_in_same_shell: false
