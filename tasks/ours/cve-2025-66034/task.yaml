instruction: |-
  This application is a Python font manipulation library (fonttools) used for
  processing and building variable fonts from designspace files.

  When building variable fonts using `python -m fontTools.varLib [designspace]`,
  the output variable font file can be written to unexpected locations on the
  filesystem. Specifically, if a designspace file contains a `<variable-font>`
  element with a `filename` attribute that includes directory path components
  (e.g., `subdir/output.ttf` or similar patterns with path separators), the tool
  creates files outside the intended output directory structure.

  For example, when a user runs:
    python -m fontTools.varLib project.designspace

  And the designspace contains `<variable-font filename="some/path/font.ttf">`,
  the font may be written to an unintended location instead of the expected
  output directory.

  We expect the application to always write output files only to the designated
  output directory, using only the base filename regardless of what path is
  specified in the designspace file.

difficulty: medium
category: bug-fix
tags:
  - python
  - fonts
  - path-handling
  - file-operations
parser_name: pytest

run_tests_in_same_shell: true
