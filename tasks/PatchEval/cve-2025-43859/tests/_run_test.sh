#!/bin/bash
# From ghcr.io/anonymous2578-data/cve-2025-43859:latest
# bash /workspace/fix-run.sh
set -e

cd /workspace/h11
git apply --whitespace=nowarn /tests/test.patch 
/workspace/PoC_env/CVE-2025-43859/bin/python -m pytest h11/tests/test_io.py -k "t_body_reader or test_ChunkedReader or test_ContentLengthWriter"

cd /workspace
#!/bin/bash
# From ghcr.io/anonymous2578-data/cve-2025-43859:latest
# bash /workspace/unit_test.sh
set -e

cd /workspace/h11
/workspace/PoC_env/CVE-2025-43859/bin/python -m pytest h11/tests/test_io.py -k "not test_ChunkedReader" -p no:warning --disable-warnings