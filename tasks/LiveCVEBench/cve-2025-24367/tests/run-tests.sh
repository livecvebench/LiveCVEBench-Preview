#!/bin/bash
# Test runner script for CVE-2025-24367
# Runs pytest tests inside the Docker container

set -e

# Set Cacti URL for tests
export CACTI_URL="http://localhost/cacti"

# Change to tests directory
cd /tests

echo "Running tests with CACTI_URL=$CACTI_URL"
echo "Test directory contents:"
ls -la

# Run pytest with verbose output and summary
python3 -m pytest -v -rA test_func.py test_vuln.py "$@"
