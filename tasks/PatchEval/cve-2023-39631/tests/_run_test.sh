#!/bin/bash
# From ghcr.io/anonymous2578-data/cve-2023-39631:latest
# bash /workspace/fix-run.sh
set -e

cd /workspace/numexpr
git apply --whitespace=nowarn /tests/test.patch 
/workspace/PoC_env/CVE-2023-39631/bin/python -m pytest numexpr/tests/test_numexpr.py -k test_forbidden_tokens -p no:warning --disable-warnings

cd /workspace
#!/bin/bash
# From ghcr.io/anonymous2578-data/cve-2023-39631:latest
# bash /workspace/unit_test.sh
set -e

cd /workspace/numexpr
/workspace/PoC_env/CVE-2023-39631/bin/python -m pytest numexpr/tests/test_numexpr.py -k "not test_illegal_value and not test_re_evaluate_dict and not test_validate_dict" -p no:warning --disable-warnings