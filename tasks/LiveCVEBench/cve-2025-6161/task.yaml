instruction: |-
  This application is a simple online food ordering system that allows administrators
  to manage products including uploading product photos.

  Users are reporting issues with the product photo upload feature in the admin panel.
  When editing a product and uploading a new photo, the system appears to accept any
  file type without proper validation. This has caused unexpected files to appear in
  the upload directory, and there are concerns about the integrity of the upload process.

  The issue is in the edit product functionality (editproduct.php). When updating a
  product photo:
  - The system accepts files regardless of their type
  - No validation is performed on the file extension or content
  - Files are saved directly to the upload/ directory

  We expect the application to only accept valid image files (JPEG, PNG, GIF) and
  reject any other file types with an appropriate error message. The validation should
  check both the file extension and the actual file content to ensure only legitimate
  image files are processed.

  The application is located at /var/www/html/ordersimple/ and the edit product
  endpoint can be accessed at editproduct.php?product=14 (or any valid product ID).

difficulty: medium
category: bug-fix
tags:
  - php
  - file-upload
  - input-validation
  - web-application
parser_name: pytest

run_tests_in_same_shell: false
