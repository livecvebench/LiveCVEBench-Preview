instruction: |-
  This application is ConvertX, a self-hosted file conversion service that supports
  numerous file formats. Users can register, login, and upload files for conversion.

  We've received reports from users that when they upload files with unusual filenames
  containing special characters, the files end up in unexpected locations on the server.
  For example, a file named with directory separators in the name doesn't stay in the
  user's upload folder - it goes somewhere else entirely.

  This is causing storage and file organization issues. All uploaded files should be
  stored exclusively within each user's dedicated upload directory
  (./data/uploads/{user_id}/{job_id}/), regardless of what filename the user provides.

  The upload handler is located in src/pages/upload.tsx. Note that the sanitize-filename
  library is already available in package.json and can be used to clean filenames.

  Please fix the upload handler to ensure uploaded files are always written to the
  correct location, no matter what filename is supplied by the user.

author_name: HIT-SCIR-LACG
author_email: xzluo@ir.hit.edu.cn

difficulty: easy
category: bugfix
tags:
  - file-upload
  - input-validation
  - bun
  - elysia
parser_name: pytest
run_tests_in_same_shell: false
