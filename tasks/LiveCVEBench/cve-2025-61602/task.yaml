instruction: |-
  We're seeing crashes in our virtual classroom application when users react to chat messages.

  A user reported that after someone added a reaction to a message, everyone's chat stopped
  working. The error message shows something about "Cannot read properties of undefined".

  I've been looking at the message reaction code and noticed that the backend accepts any
  string value for the emoji identifier field without checking if it's a real emoji ID.
  The frontend then tries to look up this ID in an emoji database and crashes when it
  doesn't exist.

  The reaction handlers in the actions folder seem to just pass through whatever string
  is provided, even if it's garbage data. This breaks all clients in the meeting because
  everyone receives the bad data.

  Expected behavior: The system should only accept valid emoji identifiers, or better yet,
  not rely on user-provided identifiers that can be spoofed.

difficulty: medium
category: bug-fix
tags:
  - input-validation
  - typescript
  - graphql
  - chat
parser_name: pytest

run_tests_in_same_shell: false
