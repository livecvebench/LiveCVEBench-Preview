instruction: |-
  I'm running the "Online Cake Ordering System" for my bakery. It allows me to
  manage products through a web interface.

  When I try to update a product, I noticed the URL looks like:
  `/cakeshop/updateproduct.php?action=edit&id=1001`

  I accidentally typed a quote in the ID parameter, like `id=1001'`, and saw a
  database error on the page. This made me suspicious, so I tried a few more things:

  - `id=1001 AND SLEEP(5)` made the page load very slowly (5 seconds delay).
  - `id=1001 OR 1=1` seemed to load data differently.
  - `id=-1 UNION SELECT 1,user(),3...` actually showed the database user in the form!

  It seems the `id` parameter is directly used in the SQL query without any
  sanitization or parameterization. This is dangerous because anyone could read
  my entire database or even modify it.

  Expected behavior:
  - The application should safely handle any input in the `id` parameter
  - Special characters should not trigger database errors
  - SQL injection payloads (like SLEEP, UNION, OR 1=1) should be ineffective
  - Valid product IDs (1001, 1002) should still work correctly

difficulty: medium
category: security
tags:
  - php
  - mysql
  - sql-injection
  - input-validation
parser_name: pytest
run_tests_in_same_shell: false
