instruction: |-
  This application uses the ImageSharp library to process user-uploaded GIF images.

  Users are reporting that when processing certain GIF files, the application becomes
  unresponsive and eventually times out. Upon investigation, we've found that the issue
  occurs with GIF files that have malformed or truncated comment extension blocks.

  Specifically, when a GIF comment block is missing its terminator byte, the image
  decoder hangs indefinitely during Image.Identify() or Image.Load() calls. The
  application consumes CPU but never returns or throws an error.

  We expect the decoder to detect such malformed files and throw an appropriate
  InvalidImageContentException with a descriptive error message, rather than hanging.

difficulty: easy
category: bug-fix
tags:
  - dotnet
  - image-processing
  - stream-handling
  - error-handling
parser_name: pytest

run_tests_in_same_shell: false
