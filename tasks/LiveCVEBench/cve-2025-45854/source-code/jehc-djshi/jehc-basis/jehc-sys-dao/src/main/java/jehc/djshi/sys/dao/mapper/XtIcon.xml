<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="jehc.djshi.sys.dao.XtIconDao">
    <!--初始化分页-->
    <select id="getXtIconListByCondition" resultType="jehc.djshi.sys.model.XtIcon" parameterType="map">
        SELECT
            xt_icon.id,
            xt_icon.name,
            xt_icon.icon,
            xt_icon.categories,
            xt_icon.remark,
            create_id AS createId,
            create_time AS createTime,
            update_id AS updateId,
            update_time AS updateTime
        FROM
          xt_icon xt_icon
        WHERE 1=1
        <if test="null != name">
            AND xt_icon.name LIKE CONCAT(CONCAT('%',#{name}),'%')
        </if>
        <if test="null != icon">
            AND xt_icon.icon LIKE CONCAT(CONCAT('%',#{icon}),'%')
        </if>
        <if test="null != categories">
            AND xt_icon.categories = #{categories}
        </if>
        AND del_flag = 0
        ORDER BY create_time DESC
    </select>

    <!--查询列表-->
    <select id="getXtIconList" resultType="jehc.djshi.sys.model.XtIcon" parameterType="jehc.djshi.sys.param.XtIconForm">
        SELECT
            xt_icon.id,
            xt_icon.name,
            xt_icon.icon,
            xt_icon.categories,
            xt_icon.remark,
            create_id AS createId,
            create_time AS createTime,
            update_id AS updateId,
            update_time AS updateTime
        FROM
          xt_icon xt_icon
        WHERE 1=1
        <if test="null != name">
            AND xt_icon.name LIKE CONCAT(CONCAT('%',#{name}),'%')
        </if>
        <if test="null != icon">
            AND xt_icon.icon LIKE CONCAT(CONCAT('%',#{icon}),'%')
        </if>
        <if test="null != categories">
            AND xt_icon.categories = #{categories}
        </if>
        AND del_flag = 0
        ORDER BY create_time DESC
    </select>

    <!--查询对象-->
    <select id="getXtIconById" resultType="jehc.djshi.sys.model.XtIcon" parameterType="string">
        SELECT
            xt_icon.id,
            xt_icon.name,
            xt_icon.icon,
            xt_icon.categories,
            xt_icon.remark,
            create_id AS createId,
            create_time AS createTime,
            update_id AS updateId,
            update_time AS updateTime
        FROM
          xt_icon xt_icon
        WHERE xt_icon.id=#{id}
    </select>

    <!--添加-->
    <insert id="addXtIcon" parameterType="jehc.djshi.sys.model.XtIcon">
        INSERT INTO
        xt_icon
        (
        id,
        name,
        icon,
        categories,
        remark,
        create_id,
        create_time,
        update_id,
        update_time
        )
        VALUES
        (
        #{id},
        #{name},
        #{icon},
        #{categories},
        #{remark},
        #{createId},
        #{createTime},
        #{updateId},
        #{updateTime}
        )
    </insert>

    <!--修改-->
    <update id="updateXtIcon" parameterType="jehc.djshi.sys.model.XtIcon">
        UPDATE
          xt_icon
        SET
            name = #{name},
            icon = #{icon},
            remark = #{remark},
            categories = #{categories},
            update_time = #{updateTime},
            update_id = #{updateId},
            remark = #{remark}
        WHERE id=#{id}
    </update>

    <!--删除-->
    <update id="delXtIcon" parameterType="map">
        UPDATE xt_icon SET del_flag = 1 WHERE id IN
        <foreach item="item" index="index" collection="id" open="(" separator="," close=")">
            #{item}
        </foreach>
    </update>
</mapper>