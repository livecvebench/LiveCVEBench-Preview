"""
NiceGUI Styling Demo Application

This application demonstrates dynamic CSS styling using NiceGUI's ui.add_css function.
Users can customize the button color by passing a 'color' query parameter.

Example usage:
  http://localhost:8080/?color=red
  http://localhost:8080/?color=green
  http://localhost:8080/?color=#ff5500
"""

from nicegui import ui


@ui.page('/')
def main(color: str = 'blue'):
    """
    Main page with customizable button styling.

    The 'color' query parameter is used to set the button background color.
    """
    # Apply custom CSS styling based on color parameter
    ui.add_css(f'.q-btn {{ background-color: {color} !important; }}')

    ui.label('NiceGUI Styling Demo')
    ui.button('Click Me')
    ui.label('Use the color parameter to customize button colors')


if __name__ in {"__main__", "__mp_main__"}:
    ui.run(host='0.0.0.0', port=8080)
