#!/bin/bash
# Entrypoint script for WebSocket server
# Wraps the server in a restart loop so the container stays running
# when solution.sh kills and restarts the service process

cd /app

while true; do
    echo "[entrypoint] Starting WebSocket server..."
    ./server -url ws://0.0.0.0:8000 || true
    echo "[entrypoint] Server exited, restarting in 1 second..."
    sleep 1
done
