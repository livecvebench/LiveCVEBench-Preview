instruction: |-
  This application is ImageMagick, a widely-used image processing toolkit that
  provides command-line utilities like `magick`, `mogrify`, and `convert` for
  manipulating images.

  When using the mogrify command with filename templates containing multiple
  consecutive format specifiers (e.g., `magick mogrify %d%d`), the application
  crashes with a segmentation fault (signal 11) or aborts unexpectedly.

  Example commands that trigger the crash:
    - magick mogrify %d%d
    - magick mogrify %d%d%d%d
    - magick mogrify %d%o%x

  These commands should either work correctly or produce a helpful error message.
  Instead, the application terminates abruptly with a memory error, which suggests
  something is wrong with how the format specifiers are being processed internally.

  The application should handle such filename templates gracefully without
  crashing.

author_name: HIT-SCIR-LACG
author_email: xzluo@ir.hit.edu.cn

difficulty: medium
category: bug-fix
tags:
  - imagemagick
  - c
  - buffer-overflow
  - memory-safety
parser_name: pytest

run_tests_in_same_shell: false
