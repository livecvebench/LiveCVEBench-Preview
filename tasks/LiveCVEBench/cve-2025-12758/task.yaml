instruction: |-
  This application uses a string validation library that provides an `isLength()` function
  for validating input string lengths.

  Users have reported a bug where the `isLength()` function returns incorrect results for
  strings containing certain Unicode characters. Specifically, strings that contain multiple
  invisible or zero-width characters are passing max length validation when they should be
  rejected.

  For example, when checking if a string meets `{ max: 4 }`, certain strings with 8 or more
  actual characters are incorrectly passing the validation. This causes issues downstream
  where systems expecting strings of a certain maximum length receive much longer input.

  The expected behavior is that the function should accurately count the true length of the
  string and reject inputs that exceed the specified maximum, regardless of what Unicode
  characters are included.

  Please investigate the length calculation logic in the isLength function and fix the bug
  so that all characters are properly counted toward the string length.

author_name: HIT-SCIR-LACG
author_email: xzluo@ir.hit.edu.cn

difficulty: medium
category: bug-fix
tags:
  - javascript
  - nodejs
  - validation
  - unicode
  - string-handling
parser_name: pytest
run_tests_in_same_shell: false
