instruction: |-
  This application is a Starlette-based web framework that provides file serving
  capabilities through the FileResponse class. The framework supports HTTP Range
  requests for partial content downloads, which is useful for resumable downloads
  and media streaming.

  When handling certain HTTP Range header formats, the file serving functionality
  experiences severe performance degradation. Specifically, when the Range header
  contains long sequences of numeric characters followed by non-numeric characters
  (e.g., "bytes=0000...0000a-" with many zeros), the request processing time increases
  dramatically in a non-linear fashion.

  For example:
  - A Range header with 5,000 characters takes ~0.05 seconds to process
  - A Range header with 10,000 characters takes ~0.2 seconds
  - A Range header with 20,000 characters takes ~0.9 seconds
  - A Range header with 40,000 characters takes ~3.5 seconds

  This quadratic time complexity in parsing causes the server to become unresponsive
  when processing such requests. Multiple concurrent requests with large malformed
  Range headers can exhaust server resources.

  We expect the Range header parsing to complete in linear time O(n) regardless of
  the input format, handling malformed input gracefully without significant delays.

difficulty: medium
category: bug-fix
tags:
  - python
  - performance
  - starlette
  - http
  - range-header
parser_name: pytest

run_tests_in_same_shell: false
